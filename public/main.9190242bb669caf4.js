(self.webpackChunkmypassword=self.webpackChunkmypassword||[]).push([[179],{2011:(dt,xe,N)=>{"use strict";N.d(xe,{hO:()=>Ge,xv:()=>de,Dh:()=>ue,GT:()=>ge,cc:()=>ke,on:()=>H,pX:()=>ce});var u=N(5e3),B=N(127),P=N(5813);dt=N.hmd(dt);const se=["ngOnDestroy"],ce=(ae,me,Me,Ie={})=>new Proxy(ae,{get:(ze,Oe)=>Me.runOutsideAngular(()=>{var lt;if(ae[Oe])return(null===(lt=null==Ie?void 0:Ie.spy)||void 0===lt?void 0:lt.get)&&Ie.spy.get(Oe,ae[Oe]),ae[Oe];if(se.indexOf(Oe)>-1)return()=>{};const Xe=me.toPromise().then(bt=>{const te=bt&&bt[Oe];return"function"==typeof te?te.bind(bt):te&&te.then?te.then(_e=>Me.run(()=>_e)):Me.run(()=>te)});return new Proxy(()=>{},{get:(bt,te)=>Xe[te],apply:(bt,te,_e)=>Xe.then(be=>{var Te;const Ue=be&&be(..._e);return(null===(Te=null==Ie?void 0:Ie.spy)||void 0===Te?void 0:Te.apply)&&Ie.spy.apply(Oe,_e,Ue),Ue})})})}),ge=(ae,me)=>{me.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Ie=>{Object.defineProperty(ae.prototype,Ie,Object.getOwnPropertyDescriptor(Me.prototype||Me,Ie))})})};class oe{constructor(me){return me}}const ue=new u.OlP("angularfire2.app.options"),de=new u.OlP("angularfire2.app.name");function H(ae,me,Me){const ze="object"==typeof Me&&Me||{};ze.name=ze.name||"string"==typeof Me&&Me||"[DEFAULT]";const lt=B.Z.apps.filter(Xe=>Xe&&Xe.name===ze.name)[0]||me.runOutsideAngular(()=>B.Z.initializeApp(ae,ze));try{JSON.stringify(ae)!==JSON.stringify(lt.options)&&j("error",`${lt.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return new oe(lt)}const j=(ae,...me)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ae](...me)},ie={provide:oe,useFactory:H,deps:[ue,u.R0b,[new u.FiY,de]]};let Ge=(()=>{class ae{constructor(Me){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,Me.toString())}static initializeApp(Me,Ie){return{ngModule:ae,providers:[{provide:ue,useValue:Me},{provide:de,useValue:Ie}]}}}return ae.\u0275fac=function(Me){return new(Me||ae)(u.LFG(u.Lbi))},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({providers:[ie]}),ae})();function ke(ae,me,Me,Ie,ze){const[,Oe,lt]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===ae)||[];if(Oe)return function Le(ae,me){try{return ae.toString()===me.toString()}catch(Me){return ae===me}}(ze,lt)||(J("error",`${me} was already initialized on the ${Me} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),J("warn",{is:ze,was:lt})),Oe;{const Xe=Ie();return globalThis.\u0275AngularfireInstanceCache.push([ae,Xe,ze]),Xe}}const $e=!!dt.hot,J=(ae,...me)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ae](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,xe,N)=>{"use strict";N.d(xe,{q4:()=>vl,iC:()=>Xo,HU:()=>Ba,vb:()=>ch,JM:()=>wp});var u=N(5e3),B=N(5867),P=N(5861),se=N(9681),ce=N(2090),ge=N(4859),oe=N(1877),ue=N(2940);const de="@firebase/installations",H="0.5.5",ie=`w:${H}`,Ge="FIS_v2",me=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function Ie({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ze(D){return{token:D.token,requestStatus:2,expiresIn:be(D.expiresIn),creationTime:Date.now()}}function Oe(D,I){return lt.apply(this,arguments)}function lt(){return(lt=(0,P.Z)(function*(D,I){const V=(yield I.json()).error;return me.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Xe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function bt(D,{refreshToken:I}){const O=Xe(D);return O.append("Authorization",function Te(D){return`${Ge} ${D}`}(I)),O}function te(D){return _e.apply(this,arguments)}function _e(){return(_e=(0,P.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function be(D){return Number(D.replace("s","000"))}function Ue(D,I){return pe.apply(this,arguments)}function pe(){return(pe=(0,P.Z)(function*(D,{fid:I}){const O=Ie(D),le={method:"POST",headers:Xe(D),body:JSON.stringify({fid:I,authVersion:Ge,appId:D.appId,sdkVersion:ie})},Ve=yield te(()=>fetch(O,le));if(Ve.ok){const nt=yield Ve.json();return{fid:nt.fid||I,registrationStatus:2,refreshToken:nt.refreshToken,authToken:ze(nt.authToken)}}throw yield Oe("Create Installation",Ve)})).apply(this,arguments)}function Mt(D){return new Promise(I=>{setTimeout(I,D)})}const Cr=/^[cdef][\w-]{21}$/;function Ct(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function $n(D){return function nn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Cr.test(O)?O:""}catch(D){return""}}function en(D){return`${D.appName}!${D.appId}`}const ur=new Map;function rn(D,I){const O=en(D);bn(O,I),function Mn(D,I){const O=function dr(){return!gn&&"BroadcastChannel"in self&&(gn=new BroadcastChannel("[Firebase] FID Change"),gn.onmessage=D=>{bn(D.data.key,D.data.fid)}),gn}();O&&O.postMessage({key:D,fid:I}),function ni(){0===ur.size&&gn&&(gn.close(),gn=null)}()}(O,I)}function bn(D,I){const O=ur.get(D);if(O)for(const V of O)V(I)}let gn=null;const En="firebase-installations-store";let zn=null;function wt(){return zn||(zn=(0,ue.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(En)})),zn}function xn(D,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*(D,I){const O=en(D),Q=(yield wt()).transaction(En,"readwrite"),le=Q.objectStore(En),Ve=yield le.get(O);return yield le.put(I,O),yield Q.complete,(!Ve||Ve.fid!==I.fid)&&rn(D,I.fid),I})).apply(this,arguments)}function Jt(D){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*(D){const I=en(D),V=(yield wt()).transaction(En,"readwrite");yield V.objectStore(En).delete(I),yield V.complete})).apply(this,arguments)}function Or(D,I){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(D,I){const O=en(D),Q=(yield wt()).transaction(En,"readwrite"),le=Q.objectStore(En),Ve=yield le.get(O),nt=I(Ve);return void 0===nt?yield le.delete(O):yield le.put(nt,O),yield Q.complete,nt&&(!Ve||Ve.fid!==nt.fid)&&rn(D,nt.fid),nt})).apply(this,arguments)}function mn(D){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(D){let I;const O=yield Or(D,V=>{const Q=ji(V),le=qt(D,Q);return I=le.registrationPromise,le.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function ji(D){return ii(D||{fid:Ct(),registrationStatus:0})}function qt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(me.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function ft(D,I){return pt.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:es(D)}:{installationEntry:I}}function pt(){return(pt=(0,P.Z)(function*(D,I){try{return xn(D,yield Ue(D,I))}catch(O){throw Me(O)&&409===O.customData.serverCode?yield Jt(D):yield xn(D,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function es(D){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(D){let I=yield _t(D);for(;1===I.registrationStatus;)yield Mt(100),I=yield _t(D);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield mn(D);return V||O}return I})).apply(this,arguments)}function _t(D){return Or(D,I=>{if(!I)throw me.create("installation-not-found");return ii(I)})}function ii(D){return function er(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function dn(D,I){return U.apply(this,arguments)}function U(){return(U=(0,P.Z)(function*({appConfig:D,platformLoggerProvider:I},O){const V=G(D,O),Q=bt(D,O),le=I.getImmediate({optional:!0});le&&Q.append("x-firebase-client",le.getPlatformInfoString());const nt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ie}})},tt=yield te(()=>fetch(V,nt));if(tt.ok)return ze(yield tt.json());throw yield Oe("Generate Auth Token",tt)})).apply(this,arguments)}function G(D,{fid:I}){return`${Ie(D)}/${I}/authTokens:generate`}function W(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,P.Z)(function*(D,I=!1){let O;const V=yield Or(D.appConfig,le=>{if(!ht(le))throw me.create("not-registered");const Ve=le.authToken;if(!I&&xt(Ve))return le;if(1===Ve.requestStatus)return O=ne(D,I),le;{if(!navigator.onLine)throw me.create("app-offline");const nt=Dn(le);return O=Ce(D,nt),nt}});return O?yield O:V.authToken})).apply(this,arguments)}function ne(D,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(D,I){let O=yield Se(D.appConfig);for(;1===O.authToken.requestStatus;)yield Mt(100),O=yield Se(D.appConfig);const V=O.authToken;return 0===V.requestStatus?W(D,I):V})).apply(this,arguments)}function Se(D){return Or(D,I=>{if(!ht(I))throw me.create("not-registered");return function re(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ce(D,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(D,I){try{const O=yield dn(D,I),V=Object.assign(Object.assign({},I),{authToken:O});return yield xn(D.appConfig,V),O}catch(O){if(!Me(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield xn(D.appConfig,V)}else yield Jt(D.appConfig);throw O}})).apply(this,arguments)}function ht(D){return void 0!==D&&2===D.registrationStatus}function xt(D){return 2===D.requestStatus&&!function yt(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function Dn(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function z(){return(z=(0,P.Z)(function*(D){const I=D,{installationEntry:O,registrationPromise:V}=yield mn(I.appConfig);return V?V.catch(console.error):W(I).catch(console.error),O.fid})).apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(D,I=!1){const O=D;return yield it(O.appConfig),(yield W(O,I)).token})).apply(this,arguments)}function it(D){return kt.apply(this,arguments)}function kt(){return(kt=(0,P.Z)(function*(D){const{registrationPromise:I}=yield mn(D);I&&(yield I)})).apply(this,arguments)}function ga(D){return me.create("missing-app-config-values",{valueName:D})}const si="installations",Nt=D=>{const I=D.getProvider("app").getImmediate(),O=function Tr(D){if(!D||!D.options)throw ga("App Configuration");if(!D.name)throw ga("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!D.options[O])throw ga(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:O,platformLoggerProvider:(0,se._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Qt=D=>{const I=D.getProvider("app").getImmediate(),O=(0,se._getProvider)(I,si).getImmediate();return{getId:()=>function K(D){return z.apply(this,arguments)}(O),getToken:Q=>function Ae(D){return Ke.apply(this,arguments)}(O,Q)}};(function Wn(){(0,se._registerComponent)(new ge.wA(si,Nt,"PUBLIC")),(0,se._registerComponent)(new ge.wA("installations-internal",Qt,"PRIVATE"))})(),(0,se.registerVersion)(de,H),(0,se.registerVersion)(de,H,"esm2017");const As="@firebase/remote-config",Gn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wd{constructor(I,O,V,Q){this.client=I,this.storage=O,this.storageCache=V,this.logger=Q}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,Q=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var O=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Q&&O.isCachedDataFresh(I.cacheMaxAgeMillis,V))return Q;I.eTag=Q&&Q.eTag;const le=yield O.client.fetch(I),Ve=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Ve.push(O.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Ve),le})()}}function cp(D=navigator){return D.languages&&D.languages[0]||D.language}class Sr{constructor(I,O,V,Q,le,Ve){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=V,this.projectId=Q,this.apiKey=le,this.appId=Ve}fetch(I){var O=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},tt={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:O.appId,language_code:cp()},Ht={method:"POST",headers:nt,body:JSON.stringify(tt)},on=fetch(Ve,Ht),Gr=new Promise((js,os)=>{I.signal.addEventListener(()=>{const Hs=new Error("The operation was aborted.");Hs.name="AbortError",os(Hs)})});let ir;try{yield Promise.race([on,Gr]),ir=yield on}catch(js){let os="fetch-client-network";throw"AbortError"===js.name&&(os="fetch-timeout"),Gn.create(os,{originalErrorMessage:js.message})}let an=ir.status;const ss=ir.headers.get("ETag")||void 0;let fi,Ii;if(200===ir.status){let js;try{js=yield ir.json()}catch(os){throw Gn.create("fetch-client-parse",{originalErrorMessage:os.message})}fi=js.entries,Ii=js.state}if("INSTANCE_STATE_UNSPECIFIED"===Ii?an=500:"NO_CHANGE"===Ii?an=304:("NO_TEMPLATE"===Ii||"EMPTY_CONFIG"===Ii)&&(fi={}),304!==an&&200!==an)throw Gn.create("fetch-status",{httpStatus:an});return{status:an,eTag:ss,config:fi}})()}}class Yd{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,P.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:V}){var Q=this;return(0,P.Z)(function*(){yield function Kd(D,I){return new Promise((O,V)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(O,Q);D.addEventListener(()=>{clearTimeout(le),V(Gn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const le=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),le}catch(le){if(!function yu(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Ve={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Ve),Q.attemptFetch(I,Ve)}})()}}class bu{constructor(I,O,V,Q,le){this.app=I,this._client=O,this._storageCache=V,this._storage=Q,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ql(D,I){const O=D.target.error||void 0;return Gn.create(I,{originalErrorMessage:O&&O.message})}const Rs="app_namespace_store";class wu{constructor(I,O,V,Q=function dp(){return new Promise((D,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{I(Ql(V,"storage-open"))},O.onsuccess=V=>{D(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(O){I(Gn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,P.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Q,le)=>{const nt=V.transaction([Rs],"readonly").objectStore(Rs),tt=O.createCompositeKey(I);try{const Ht=nt.get(tt);Ht.onerror=on=>{le(Ql(on,"storage-get"))},Ht.onsuccess=on=>{const Gr=on.target.result;Q(Gr?Gr.value:void 0)}}catch(Ht){le(Gn.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})})()}set(I,O){var V=this;return(0,P.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((le,Ve)=>{const tt=Q.transaction([Rs],"readwrite").objectStore(Rs),Ht=V.createCompositeKey(I);try{const on=tt.put({compositeKey:Ht,value:O});on.onerror=Gr=>{Ve(Ql(Gr,"storage-set"))},on.onsuccess=()=>{le()}}catch(on){Ve(Gn.create("storage-set",{originalErrorMessage:on&&on.message}))}})})()}delete(I){var O=this;return(0,P.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Q,le)=>{const nt=V.transaction([Rs],"readwrite").objectStore(Rs),tt=O.createCompositeKey(I);try{const Ht=nt.delete(tt);Ht.onerror=on=>{le(Ql(on,"storage-delete"))},Ht.onsuccess=()=>{Q()}}catch(Ht){le(Gn.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class hp{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const O=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),le=yield O;le&&(I.lastFetchStatus=le);const Ve=yield V;Ve&&(I.lastSuccessfulFetchTimestampMillis=Ve);const nt=yield Q;nt&&(I.activeConfig=nt)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function fp(){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Cu(){(0,se._registerComponent)(new ge.wA("remote-config",function D(I,{instanceIdentifier:O}){const V=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gn.create("registration-window");if(!(0,ce.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:le,apiKey:Ve,appId:nt}=V.options;if(!le)throw Gn.create("registration-project-id");if(!Ve)throw Gn.create("registration-api-key");if(!nt)throw Gn.create("registration-app-id");const tt=new wu(nt,V.name,O=O||"firebase"),Ht=new hp(tt),on=new oe.Yd(As);on.logLevel=oe.in.ERROR;const Gr=new Sr(Q,se.SDK_VERSION,O,le,Ve,nt),ir=new Yd(Gr,tt),an=new Wd(ir,tt,Ht,on),ss=new bu(V,an,Ht,tt,on);return function _n(D){const I=(0,ce.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ss),ss},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(As,"0.3.4"),(0,se.registerVersion)(As,"0.3.4","esm2017")}();const pp="/firebase-messaging-sw.js",ps="/firebase-cloud-messaging-push-scope",Du="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gs="google.c.a.c_id",ms="google.c.a.c_l",Iu="google.c.a.ts",ai="google.c.a.e";var Fo=(()=>{return(D=Fo||(Fo={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Fo;var D})();function li(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xd(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),Q=new Uint8Array(V.length);for(let le=0;le<V.length;++le)Q[le]=V.charCodeAt(le);return Q}const Ar="fcm_token_details_db",il="fcm_token_object_Store";function Tu(D){return Su.apply(this,arguments)}function Su(){return Su=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Ar))return null;let I=null;return(yield(0,ue.openDb)(Ar,5,function(){var V=(0,P.Z)(function*(Q){var le;if(Q.oldVersion<2||!Q.objectStoreNames.contains(il))return;const Ve=Q.transaction.objectStore(il),nt=yield Ve.index("fcmSenderId").get(D);if(yield Ve.clear(),nt)if(2===Q.oldVersion){const tt=nt;if(!tt.auth||!tt.p256dh||!tt.endpoint)return;I={token:tt.fcmToken,createTime:null!==(le=tt.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:tt.auth,p256dh:tt.p256dh,endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:"string"==typeof tt.vapidKey?tt.vapidKey:li(tt.vapidKey)}}}else if(3===Q.oldVersion){const tt=nt;I={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:li(tt.auth),p256dh:li(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:li(tt.vapidKey)}}}else if(4===Q.oldVersion){const tt=nt;I={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:li(tt.auth),p256dh:li(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:li(tt.vapidKey)}}}});return function(Q){return V.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(Ar),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),ba(I)?I:null}),Su.apply(this,arguments)}function ba(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Os="firebase-messaging-store";let Vo=null;function Bn(){return Vo||(Vo=(0,ue.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Os)})),Vo}function sl(D){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(D){const I=_s(D),V=yield(yield Bn()).transaction(Os).objectStore(Os).get(I);if(V)return V;{const Q=yield Tu(D.appConfig.senderId);if(Q)return yield Pr(D,Q),Q}})).apply(this,arguments)}function Pr(D,I){return rr.apply(this,arguments)}function rr(){return(rr=(0,P.Z)(function*(D,I){const O=_s(D),Q=(yield Bn()).transaction(Os,"readwrite");return yield Q.objectStore(Os).put(I,O),yield Q.complete,I})).apply(this,arguments)}function ol(D){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(D){const I=_s(D),V=(yield Bn()).transaction(Os,"readwrite");yield V.objectStore(Os).delete(I),yield V.complete})).apply(this,arguments)}function _s({appConfig:D}){return D.appId}const kn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wa(D,I){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(D,I){const O=yield al(D),V=io(I),Q={method:"POST",headers:O,body:JSON.stringify(V)};let le;try{le=yield(yield fetch(no(D.appConfig),Q)).json()}catch(Ve){throw kn.create("token-subscribe-failed",{errorInfo:Ve})}if(le.error)throw kn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw kn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Gi(D,I){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(D,I){const O=yield al(D),V=io(I.subscriptionOptions),Q={method:"PATCH",headers:O,body:JSON.stringify(V)};let le;try{le=yield(yield fetch(`${no(D.appConfig)}/${I.token}`,Q)).json()}catch(Ve){throw kn.create("token-update-failed",{errorInfo:Ve})}if(le.error)throw kn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw kn.create("token-update-no-token");return le.token})).apply(this,arguments)}function to(D,I){return ut.apply(this,arguments)}function ut(){return(ut=(0,P.Z)(function*(D,I){const V={method:"DELETE",headers:yield al(D)};try{const le=yield(yield fetch(`${no(D.appConfig)}/${I}`,V)).json();if(le.error)throw kn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Q){throw kn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function no({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function al(D){return ro.apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*({appConfig:D,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function io({p256dh:D,auth:I,endpoint:O,vapidKey:V}){const Q={web:{endpoint:O,auth:I,p256dh:D}};return V!==Du&&(Q.web.applicationPubKey=V),Q}const ll=6048e5;function ec(D){return tc.apply(this,arguments)}function tc(){return(tc=(0,P.Z)(function*(D){const I=yield Nr(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:li(I.getKey("auth")),p256dh:li(I.getKey("p256dh"))},V=yield sl(D.firebaseDependencies);if(V){if(Ca(V.subscriptionOptions,O))return Date.now()>=V.createTime+ll?cl(D,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield to(D.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Uo(D.firebaseDependencies,O)}return Uo(D.firebaseDependencies,O)})).apply(this,arguments)}function Pe(D){return jt.apply(this,arguments)}function jt(){return(jt=(0,P.Z)(function*(D){const I=yield sl(D.firebaseDependencies);I&&(yield to(D.firebaseDependencies,I.token),yield ol(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function cl(D,I){return hn.apply(this,arguments)}function hn(){return(hn=(0,P.Z)(function*(D,I){try{const O=yield Gi(D.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Pr(D.firebaseDependencies,V),O}catch(O){throw yield Pe(D),O}})).apply(this,arguments)}function Uo(D,I){return so.apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(D,I){const V={token:yield wa(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Pr(D,V),V.token})).apply(this,arguments)}function Nr(D,I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,P.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xd(I)})})).apply(this,arguments)}function Ca(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Da(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function nc(D,I){if(!I.notification)return;D.notification={};const O=I.notification.title;O&&(D.notification.title=O);const V=I.notification.body;V&&(D.notification.body=V);const Q=I.notification.image;Q&&(D.notification.image=Q)}(I,D),function Ia(D,I){!I.data||(D.data=I.data)}(I,D),function jo(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const O=I.fcmOptions.link;O&&(D.fcmOptions.link=O);const V=I.fcmOptions.analytics_label;V&&(D.fcmOptions.analyticsLabel=V)}(I,D),I}function gr(D){return"object"==typeof D&&!!D&&gs in D}function Ci(D,I){const O=[];for(let V=0;V<D.length;V++)O.push(D.charAt(V)),V<I.length&&O.push(I.charAt(V));return O.join("")}function qi(D){return kn.create("missing-app-config-values",{valueName:D})}Ci("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ci("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ys{constructor(I,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Au(D){if(!D||!D.options)throw qi("App Configuration Object");if(!D.name)throw qi("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const V of I)if(!O[V])throw qi(V);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ul(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(pp,{scope:ps}),D.swRegistration.update().catch(()=>{})}catch(I){throw kn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function rc(D,I){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,P.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield ul(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function ic(D,I){return ao.apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Du)})).apply(this,arguments)}function lo(){return(lo=(0,P.Z)(function*(D,I){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield ic(D,null==I?void 0:I.vapidKey),yield rc(D,null==I?void 0:I.serviceWorkerRegistration),ec(D)})).apply(this,arguments)}function Mu(D,I,O){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,P.Z)(function*(D,I,O){const V=Sa(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[gs],message_name:O[ms],message_time:O[Iu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sa(D){switch(D){case Fo.NOTIFICATION_CLICKED:return"notification_open";case Fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ac(){return(ac=(0,P.Z)(function*(D,I){const O=I.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===Fo.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Da(O)):D.onMessageHandler.next(Da(O)));const V=O.data;gr(V)&&"1"===V[ai]&&(yield Mu(D,O.messageType,V))})).apply(this,arguments)}const Aa="@firebase/messaging",$o=D=>{const I=new ys(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function oc(D,I){return ac.apply(this,arguments)}(I,O)),I},gp=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:V=>function sc(D,I){return lo.apply(this,arguments)}(I,V)}};function Kn(){return mr.apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*(){try{yield(0,ce.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mp(){(0,se._registerComponent)(new ge.wA("messaging",$o,"PUBLIC")),(0,se._registerComponent)(new ge.wA("messaging-internal",gp,"PRIVATE")),(0,se.registerVersion)(Aa,"0.9.9"),(0,se.registerVersion)(Aa,"0.9.9","esm2017")}();const Go="analytics",qo="firebase_id",_p="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zi="https://www.googletagmanager.com/gtag/js",qn=new oe.Yd("@firebase/analytics");function Jd(D){return Promise.all(D.map(I=>I.catch(O=>O)))}function eh(D,I){const O=document.createElement("script");O.src=`${Zi}?l=${D}&id=${I}`,O.async=!0,document.head.appendChild(O)}function Ru(D,I,O,V,Q,le){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(D,I,O,V,Q,le){const Ve=V[Q];try{if(Ve)yield I[Ve];else{const tt=(yield Jd(O)).find(Ht=>Ht.measurementId===Q);tt&&(yield I[tt.appId])}}catch(nt){qn.error(nt)}D("config",Q,le)})).apply(this,arguments)}function th(D,I,O,V,Q){return nh.apply(this,arguments)}function nh(){return(nh=(0,P.Z)(function*(D,I,O,V,Q){try{let le=[];if(Q&&Q.send_to){let Ve=Q.send_to;Array.isArray(Ve)||(Ve=[Ve]);const nt=yield Jd(O);for(const tt of Ve){const Ht=nt.find(Gr=>Gr.measurementId===tt),on=Ht&&I[Ht.appId];if(!on){le=[];break}le.push(on)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),D("event",V,Q||{})}catch(le){qn.error(le)}})).apply(this,arguments)}function In(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Zi))return I;return null}const Fr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ou=new class Ra{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Oa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ns(D){return ui.apply(this,arguments)}function ui(){return(ui=(0,P.Z)(function*(D){var I;const{appId:O,apiKey:V}=D,Q={method:"GET",headers:Oa(V)},le=_p.replace("{app-id}",O),Ve=yield fetch(le,Q);if(200!==Ve.status&&304!==Ve.status){let nt="";try{const tt=yield Ve.json();(null===(I=tt.error)||void 0===I?void 0:I.message)&&(nt=tt.error.message)}catch(tt){}throw Fr.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:nt})}return Ve.json()})).apply(this,arguments)}function Fn(D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*(D,I=Ou,O){const{appId:V,apiKey:Q,measurementId:le}=D.options;if(!V)throw Fr.create("no-app-id");if(!Q){if(le)return{measurementId:le,appId:V};throw Fr.create("no-api-key")}const Ve=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ka;return setTimeout((0,P.Z)(function*(){nt.abort()}),void 0!==O?O:6e4),fc({appId:V,apiKey:Q,measurementId:le},Ve,nt,I)})).apply(this,arguments)}function fc(D,I,O){return pc.apply(this,arguments)}function pc(){return(pc=(0,P.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:O},V,Q=Ou){const{appId:le,measurementId:Ve}=D;try{yield gc(V,I)}catch(nt){if(Ve)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:le,measurementId:Ve};throw nt}try{const nt=yield Ns(D);return Q.deleteThrottleMetadata(le),nt}catch(nt){if(!zo(nt)){if(Q.deleteThrottleMetadata(le),Ve)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:le,measurementId:Ve};throw nt}const tt=503===Number(nt.customData.httpStatus)?(0,ce.$s)(O,Q.intervalMillis,30):(0,ce.$s)(O,Q.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+tt,backoffCount:O+1};return Q.setThrottleMetadata(le,Ht),qn.debug(`Calling attemptFetch again in ${tt} millis`),fc(D,Ht,V,Q)}})).apply(this,arguments)}function gc(D,I){return new Promise((O,V)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(O,Q);D.addEventListener(()=>{clearTimeout(le),V(Fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function zo(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ka{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Wo(){return Di.apply(this,arguments)}function Di(){return(Di=(0,P.Z)(function*(){if(!(0,ce.hl)())return qn.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return qn.warn(Fr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function hl(){return(hl=(0,P.Z)(function*(D,I,O,V,Q,le,Ve){var nt;const tt=Fn(D);tt.then(an=>{O[an.measurementId]=an.appId,D.options.measurementId&&an.measurementId!==D.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${an.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(an=>qn.error(an)),I.push(tt);const Ht=Wo().then(an=>{if(an)return V.getId()}),[on,Gr]=yield Promise.all([tt,Ht]);In()||eh(le,on.measurementId),Q("js",new Date);const ir=null!==(nt=null==Ve?void 0:Ve.config)&&void 0!==nt?nt:{};return ir.origin="firebase",ir.update=!0,null!=Gr&&(ir[qo]=Gr),Q("config",on.measurementId,ir),on.measurementId})).apply(this,arguments)}class mc{constructor(I){this.app=I}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},_c=[];const ku={};let Ls,Tn,di="dataLayer",rs=!1;function wn(D,I,O){!function sh(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),O=Fr.create("invalid-analytics-context",{errorInfo:I});qn.warn(O.message)}}();const V=D.options.appId;if(!V)throw Fr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Fr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[V])throw Fr.create("already-exists",{id:V});if(!rs){!function Zo(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(di);const{wrappedGtag:le,gtagCore:Ve}=function hc(D,I,O,V,Q){let le=function(...Ve){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(le=window[Q]),window[Q]=function yp(D,I,O,V){function le(){return(le=(0,P.Z)(function*(Ve,nt,tt){try{"event"===Ve?yield th(D,I,O,nt,tt):"config"===Ve?yield Ru(D,I,O,V,nt,tt):D("set",nt)}catch(Ht){qn.error(Ht)}})).apply(this,arguments)}return function Q(Ve,nt,tt){return le.apply(this,arguments)}}(le,D,I,O),{gtagCore:le,wrappedGtag:window[Q]}}(ns,_c,ku,di,"gtag");Tn=le,Ls=Ve,rs=!0}return ns[V]=function Yn(D,I,O,V,Q,le,Ve){return hl.apply(this,arguments)}(D,_c,ku,I,Ls,di,O),new mc(D)}function Vs(){return(Vs=(0,P.Z)(function*(D,I,O,V,Q){if(Q&&Q.global)D("event",O,V);else{const le=yield I;D("event",O,Object.assign(Object.assign({},V),{send_to:le}))}})).apply(this,arguments)}function oh(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(D){return!1}})).apply(this,arguments)}const ho="@firebase/analytics";!function Zn(){(0,se._registerComponent)(new ge.wA(Go,(I,{options:O})=>wn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new ge.wA("analytics-internal",function D(I){try{const O=I.getProvider(Go).getImmediate();return{logEvent:(V,Q,le)=>function Pu(D,I,O,V){D=(0,ce.m9)(D),function yc(D,I,O,V,Q){return Vs.apply(this,arguments)}(Tn,ns[D.app.options.appId],I,O,V).catch(Q=>qn.error(Q))}(O,V,Q,le)}}catch(O){throw Fr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(ho,"0.7.5"),(0,se.registerVersion)(ho,"0.7.5","esm2017")}();var fo=N(4408),lh=N(7565);const Un=new class Fu extends lh.v{}(class Ko extends fo.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,O,V):I.flush(this)}});var ml=N(4986),_l=N(8505),yl=N(9468),Bs=N(5363);const vl=new u.GfV("7.2.1"),La="__angularfire_symbol__analyticsIsSupportedValue",Va="__angularfire_symbol__analyticsIsSupported",Lu="__angularfire_symbol__remoteConfigIsSupportedValue",Us="__angularfire_symbol__remoteConfigIsSupported",Lr="__angularfire_symbol__messagingIsSupportedValue",bl="__angularfire_symbol__messagingIsSupported";function wp(D,I,O){if(I){if(1===I.length)return I[0];const le=I.filter(Ve=>Ve.app===O);if(1===le.length)return le[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Va]||(globalThis[Va]=oh().then(D=>globalThis[La]=D).catch(()=>globalThis[La]=!1)),globalThis[bl]||(globalThis[bl]=Kn().then(D=>globalThis[Lr]=D).catch(()=>globalThis[Lr]=!1)),globalThis[Us]||(globalThis[Us]=fp().then(D=>globalThis[Lu]=D).catch(()=>globalThis[Lu]=!1));const ch=(D,I)=>{const O=I?[I]:(0,B.C6)(),V=[];return O.forEach(Q=>{Q.container.getProvider(D).instances.forEach(Ve=>{V.includes(Ve)||V.push(Ve)})}),V};function go(){}class El{constructor(I,O=Un){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,V){const Q=this.zone;return this.delegate.schedule(function(Ve){Q.runGuarded(()=>{I.apply(this,[Ve])})},O,V)}}class Vu{constructor(I){this.zone=I,this.task=null}call(I,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go)),O.pipe((0,_l.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ba=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=O.run(()=>new El(Zone.current,ml.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function hi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Xo(D){return hi(),function wl(D){return function(O){return(O=O.lift(new Vu(D.ngZone))).pipe((0,yl.R)(D.outsideAngular),(0,Bs.Q)(D.insideAngular))}}(hi())(D)}},791:(dt,xe,N)=>{"use strict";N.d(xe,{$:()=>ic,A:()=>ct,E:()=>xs,G:()=>Sr,I:()=>$i,K:()=>Vn,L:()=>sl,M:()=>ol,N:()=>Ea,P:()=>uh,Q:()=>_s,R:()=>ch,T:()=>rr,U:()=>Bo,V:()=>Gi,W:()=>al,X:()=>Da,Y:()=>Ia,Z:()=>gr,_:()=>ys,a:()=>Ls,a0:()=>sc,a1:()=>Mu,a2:()=>Sa,a3:()=>ac,a4:()=>lc,a5:()=>gp,a6:()=>mp,a7:()=>mr,a8:()=>Nn,a9:()=>km,aA:()=>ju,aB:()=>dh,aC:()=>pr,aG:()=>Pa,aJ:()=>kn,aa:()=>Pm,ab:()=>Go,ae:()=>_p,af:()=>qn,ag:()=>Jd,aj:()=>tc,ak:()=>_r,am:()=>fc,an:()=>Di,ao:()=>_a,ap:()=>zn,aq:()=>fs,ar:()=>No,as:()=>Mn,at:()=>Ac,au:()=>_o,av:()=>gn,aw:()=>Be,ax:()=>xn,ay:()=>oi,az:()=>fh,b:()=>di,c:()=>tt,d:()=>ir,e:()=>on,f:()=>Nm,g:()=>hh,h:()=>Cp,i:()=>fo,j:()=>Ua,k:()=>Rp,l:()=>hi,m:()=>qm,o:()=>Mt,r:()=>$r,s:()=>Vu,u:()=>wl,z:()=>en});var u=N(5861),B=N(2090),P=N(9681);function oe(v,p){var m={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&p.indexOf(b)<0&&(m[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(b=Object.getOwnPropertySymbols(v);M<b.length;M++)p.indexOf(b[M])<0&&Object.prototype.propertyIsEnumerable.call(v,b[M])&&(m[b[M]]=v[b[M]])}return m}var Te=N(1877),Ue=N(4859);const Mt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ct={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const en=function Ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ur=function $n(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rn=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jr=new Te.Yd("@firebase/auth");function bn(v,...p){jr.logLevel<=Te.in.ERROR&&jr.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function Mn(v,...p){throw ri(v,...p)}function gn(v,...p){return ri(v,...p)}function dr(v,p,m){const b=Object.assign(Object.assign({},ur()),{[p]:m});return new B.LL("auth","Firebase",b).create(p,{appName:v.name})}function ni(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Mn(v,"argument-error"),dr(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ri(v,...p){if("string"!=typeof v){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return rn.create(v,...p)}function Be(v,p,...m){if(!v)throw ri(p,...m)}function En(v){const p="INTERNAL ASSERTION FAILED: "+v;throw bn(p),new Error(p)}function zn(v,p){v||En(p)}const wt=new Map;function xn(v){zn(v instanceof Function,"Expected a class definition");let p=wt.get(v);return p?(zn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,wt.set(v,p),p)}function hr(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Or(){return"http:"===Ir()||"https:"===Ir()}function Ir(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ji{constructor(p,m){this.shortDelay=p,this.longDelay=m,zn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function mn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Or()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(v,p){zn(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ft{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},es=new ji(3e4,6e4);function sn(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function _t(v,p,m,b){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(v,p,m,b,M={}){return er(v,M,(0,u.Z)(function*(){let k={},Y={};b&&("GET"===p?Y=b:k={body:JSON.stringify(b)});const Ee=(0,B.xO)(Object.assign({key:v.config.apiKey},Y)).slice(1),Je=yield v._getAdditionalHeaders();return Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode),ft.fetch()(W(v,v.config.apiHost,m,Ee),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function er(v,p,m){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,p,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},pt),p);try{const M=new ye(v),k=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const Y=yield k.json();if("needConfirmation"in Y)throw ne(v,"account-exists-with-different-credential",Y);if(k.ok&&!("errorMessage"in Y))return Y;{const Ee=k.ok?Y.errorMessage:Y.error.message,[Je,qe]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw ne(v,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Je)throw ne(v,"email-already-in-use",Y);const Dt=b[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw dr(v,Dt,qe);Mn(v,Dt)}}catch(M){if(M instanceof B.ZR)throw M;Mn(v,"network-request-failed")}})).apply(this,arguments)}function U(v,p,m,b){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(v,p,m,b,M={}){const k=yield _t(v,p,m,b,M);return"mfaPendingCredential"in k&&Mn(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(v,p,m,b){const M=`${p}${m}?${b}`;return v.config.emulator?qt(v.config,M):`${v.config.apiScheme}://${M}`}class ye{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(gn(this.auth,"network-request-failed")),es.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ne(v,p,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=gn(v,p,b);return M.customData._tokenResponse=m,M}function Se(){return(Se=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ce(v,p){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ht(v,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function yt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function K(){return(K=(0,u.Z)(function*(v,p=!1){const m=(0,B.m9)(v),b=yield m.getIdToken(p),M=Ae(b);Be(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,Y=null==k?void 0:k.sign_in_provider;return{claims:M,token:b,authTime:yt(z(M.auth_time)),issuedAtTime:yt(z(M.iat)),expirationTime:yt(z(M.exp)),signInProvider:Y||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function z(v){return 1e3*Number(v)}function Ae(v){const[p,m,b]=v.split(".");if(void 0===p||void 0===m||void 0===b)return bn("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(m);return M?JSON.parse(M):(bn("Failed to decode base64 JWT payload"),null)}catch(M){return bn("Caught error parsing JWT payload as JSON",M),null}}function it(v,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof B.ZR&&Zt(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Wt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ln{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(v){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(v){var p;const m=v.auth,b=yield v.getIdToken(),M=yield it(v,ht(m,{idToken:b}));Be(null==M?void 0:M.users.length,m,"internal-error");const k=M.users[0];v._notifyReloadListener(k);const Y=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?ga(k.providerUserInfo):[],Ee=Tr(v.providerData,Y),Dt=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==Ee?void 0:Ee.length)),fn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ee,metadata:new Ln(k.createdAt,k.lastLoginAt),isAnonymous:Dt};Object.assign(v,fn)})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(v){const p=(0,B.m9)(v);yield fr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Tr(v,p){return[...v.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function ga(v){return v.map(p=>{var{providerId:m}=p,b=oe(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Qe(){return(Qe=(0,u.Z)(function*(v,p){const m=yield er(v,{},(0,u.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=v.config,Y=W(v,M,"/v1/token",`key=${k}`),Ee=yield v._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(Y,{method:"POST",headers:Ee,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Be(p.idToken,"internal-error"),Be(void 0!==p.idToken,"internal-error"),Be(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Ke(v){const p=Ae(v);return Be(p,"internal-error"),Be(void 0!==p.exp,"internal-error"),Be(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,u.Z)(function*(){return Be(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:Y}=yield function si(v,p){return Qe.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(M,k,Number(Y))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:M,expirationTime:k}=m,Y=new Nt;return b&&(Be("string"==typeof b,"internal-error",{appName:p}),Y.refreshToken=b),M&&(Be("string"==typeof M,"internal-error",{appName:p}),Y.accessToken=M),k&&(Be("number"==typeof k,"internal-error",{appName:p}),Y.expirationTime=k),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return En("not implemented")}}function Qt(v,p){Be("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Wn{constructor(p){var{uid:m,auth:b,stsTokenManager:M}=p,k=oe(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ln(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const b=yield it(m,m.stsTokenManager.getToken(m.auth,p));return Be(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function re(v){return K.apply(this,arguments)}(this,p)}reload(){return function Hr(v){return bi.apply(this,arguments)}(this)}_assign(p){this!==p&&(Be(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,u.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield fr(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield it(p,function Ye(v,p){return Se.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,M,k,Y,Ee,Je,qe,Dt;const fn=null!==(b=m.displayName)&&void 0!==b?b:void 0,Sn=null!==(M=m.email)&&void 0!==M?M:void 0,jn=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,Qn=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,Mc=null!==(Ee=m.tenantId)&&void 0!==Ee?Ee:void 0,Ih=null!==(Je=m._redirectEventId)&&void 0!==Je?Je:void 0,kp=null!==(qe=m.createdAt)&&void 0!==qe?qe:void 0,at=null!==(Dt=m.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Cn,emailVerified:Ti,isAnonymous:Tl,providerData:Th,stsTokenManager:Sh}=m;Be(Cn&&Sh,p,"internal-error");const zm=Nt.fromJSON(this.name,Sh);Be("string"==typeof Cn,p,"internal-error"),Qt(fn,p.name),Qt(Sn,p.name),Be("boolean"==typeof Ti,p,"internal-error"),Be("boolean"==typeof Tl,p,"internal-error"),Qt(jn,p.name),Qt(Qn,p.name),Qt(Mc,p.name),Qt(Ih,p.name),Qt(kp,p.name),Qt(at,p.name);const xc=new Wn({uid:Cn,auth:p,email:Sn,emailVerified:Ti,displayName:fn,isAnonymous:Tl,photoURL:Qn,phoneNumber:jn,tenantId:Mc,stsTokenManager:zm,createdAt:kp,lastLoginAt:at});return Th&&Array.isArray(Th)&&(xc.providerData=Th.map(Wm=>Object.assign({},Wm))),Ih&&(xc._redirectEventId=Ih),xc}static _fromIdTokenResponse(p,m,b=!1){return(0,u.Z)(function*(){const M=new Nt;M.updateFromServerResponse(m);const k=new Wn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield fr(k),k})()}}const Vn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,u.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,u.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,u.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function oi(v,p,m){return`firebase:${v}:${p}:${m}`}class tn{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:M,name:k}=this.auth;this.fullUserKey=oi(this.userKey,M.apiKey,k),this.fullPersistenceKey=oi("persistence",M.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Wn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,u.Z)(function*(){if(!m.length)return new tn(xn(Vn),p,b);const M=(yield Promise.all(m.map(function(){var qe=(0,u.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let k=M[0]||xn(Vn);const Y=oi(b,p.config.apiKey,p.name);let Ee=null;for(const qe of m)try{const Dt=yield qe._get(Y);if(Dt){const fn=Wn._fromJSON(p,Dt);qe!==k&&(Ee=fn),k=qe;break}}catch(Dt){}const Je=M.filter(qe=>qe._shouldAllowMigration);return k._shouldAllowMigration&&Je.length?(k=Je[0],Ee&&(yield k._set(Y,Ee.toJSON())),yield Promise.all(m.map(function(){var qe=(0,u.Z)(function*(Dt){if(Dt!==k)try{yield Dt._remove(Y)}catch(fn){}});return function(Dt){return qe.apply(this,arguments)}}())),new tn(k,p,b)):new tn(k,p,b)})()}}function Qs(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ms(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Gn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xs(p))return"Blackberry";if(tr(p))return"Webos";if(Ft(p))return"Safari";if((p.includes("chrome/")||ma(p))&&!p.includes("edge/"))return"Chrome";if(No(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Gn(v=(0,B.z$)()){return/firefox\//i.test(v)}function Ft(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ma(v=(0,B.z$)()){return/crios\//i.test(v)}function Ms(v=(0,B.z$)()){return/iemobile/i.test(v)}function No(v=(0,B.z$)()){return/android/i.test(v)}function Xs(v=(0,B.z$)()){return/blackberry/i.test(v)}function tr(v=(0,B.z$)()){return/webos/i.test(v)}function fs(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function _a(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Kl(v=(0,B.z$)()){return fs(v)||No(v)||tr(v)||Xs(v)||/windows phone/i.test(v)||Ms(v)}function Ei(v,p=[]){let m;switch(v){case"Browser":m=Qs((0,B.z$)());break;case"Worker":m=`${Qs((0,B.z$)())}-${v}`;break;default:m=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${b}`}class ts{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yl(this),this.idTokenSubscription=new Yl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=xn(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,k;if(!b._deleted&&(b.persistenceManager=yield tn.create(b,p),!b._deleted)){if(null===(M=b._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Y){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var b;let M=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const k=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Y=null==M?void 0:M._redirectEventId,Ee=yield m.tryRedirectSignIn(p);(!k||k===Y)&&(null==Ee?void 0:Ee.user)&&(M=Ee.user)}return M?M._redirectEventId?(Be(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)):m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(M){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield fr(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function kr(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const b=p?(0,B.m9)(p):null;return b&&Be(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){if(!m._deleted)return p&&Be(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,u.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(xn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,u.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&xn(p)||m._popupRedirectResolver;Be(b,m,"argument-error"),m.redirectPersistenceManager=yield tn.create(m,[xn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,M){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(Y,this,"internal-error"),Y.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function pr(v){return(0,B.m9)(v)}class Yl{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xs(v,p,m){const b=pr(v);Be(b._canInitEmulator,b,"emulator-config-failed"),Be(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),k=Hi(p),{host:Y,port:Ee}=function _u(v){const p=Hi(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const k=M[1];return{host:k,port:Wd(b.substr(k.length+1))}}{const[k,Y]=b.split(":");return{host:k,port:Wd(Y)}}}(p);b.config.emulator={url:`${k}//${Y}${null===Ee?"":`:${Ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Y,port:Ee,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function cp(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Hi(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Wd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Sr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return En("not implemented")}_getIdTokenResponse(p){return En("not implemented")}_linkToIdToken(p,m){return En("not implemented")}_getReauthenticationResolver(p){return En("not implemented")}}function Kd(v,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:resetPassword",sn(v,p))})).apply(this,arguments)}function Yd(v,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function up(v,p){return bu.apply(this,arguments)}function bu(){return(bu=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",sn(v,p))})).apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithPassword",sn(v,p))})).apply(this,arguments)}function Xl(v,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:sendOobCode",sn(v,p))})).apply(this,arguments)}function dp(v,p){return wu.apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(v,p){return Xl(v,p)})).apply(this,arguments)}function hp(v,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(v,p){return Xl(v,p)})).apply(this,arguments)}function Qd(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(v,p){return Xl(v,p)})).apply(this,arguments)}function fp(v,p){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(v,p){return Xl(v,p)})).apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithEmailLink",sn(v,p))})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithEmailLink",sn(v,p))})).apply(this,arguments)}class gs extends Sr{constructor(p,m,b,M=null){super("password",b),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new gs(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new gs(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ql(v,p){return Rs.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function pp(v,p){return ps.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Mn(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return Yd(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Du(v,p){return eo.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Mn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ms(v,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithIdp",sn(v,p))})).apply(this,arguments)}class $i extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new $i(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Mn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=m,k=oe(m,["providerId","signInMethod"]);if(!b||!M)return null;const Y=new $i(b,M);return Y.idToken=k.idToken||void 0,Y.accessToken=k.accessToken||void 0,Y.secret=k.secret,Y.nonce=k.nonce,Y.pendingToken=k.pendingToken||null,Y}_getIdTokenResponse(p){return ms(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,ms(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ms(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Fo(v,p){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:sendVerificationCode",sn(v,p))})).apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithPhoneNumber",sn(v,p))})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v,p){const m=yield U(v,"POST","/v1/accounts:signInWithPhoneNumber",sn(v,p));if(m.temporaryProof)throw ne(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Tu={USER_NOT_FOUND:"user-not-found"};function ba(){return(ba=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithPhoneNumber",sn(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Tu)})).apply(this,arguments)}class Lo extends Sr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Lo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Lo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xd(v,p){return Ar.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Jl(v,p){return il.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Su(v,p){return ba.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:k}=p;return b||m||M||k?new Lo({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:k}):null}}class Vo{constructor(p){var m,b,M,k,Y,Ee;const Je=(0,B.zd)((0,B.pd)(p)),qe=null!==(m=Je.apiKey)&&void 0!==m?m:null,Dt=null!==(b=Je.oobCode)&&void 0!==b?b:null,fn=function On(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Je.mode)&&void 0!==M?M:null);Be(qe&&Dt&&fn,"argument-error"),this.apiKey=qe,this.operation=fn,this.code=Dt,this.continueUrl=null!==(k=Je.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Y=Je.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(Ee=Je.tenantId)&&void 0!==Ee?Ee:null}static parseLink(p){const m=function Os(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||p||v}(p);try{return new Vo(m)}catch(b){return null}}}let sl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return gs._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=Vo.parseLink(b);return Be(M,"argument-error"),gs._fromEmailAndCode(m,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class wi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Pr extends wi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class rr extends Pr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Be("providerId"in m&&"signInMethod"in m,"argument-error"),$i._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Be(p.idToken||p.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return rr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return rr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:k,nonce:Y,providerId:Ee}=p;if(!b&&!M&&!m&&!k||!Ee)return null;try{return new rr(Ee)._credential({idToken:m,accessToken:b,nonce:Y,pendingToken:k})}catch(Je){return null}}}let ol=(()=>{class v extends Pr{constructor(){super("facebook.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ea=(()=>{class v extends Pr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return v.credential(b,M)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),_s=(()=>{class v extends Pr{constructor(){super("github.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class kn extends Sr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ms(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,ms(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ms(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:k}=m;return b&&M&&k&&b===M?new kn(b,k):null}static _create(p,m){return new kn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bo extends wi{constructor(p){Be(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Bo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Bo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=kn.fromJSON(p);return Be(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return kn._create(b,m)}catch(M){return null}}}let Gi=(()=>{class v extends Pr{constructor(){super("twitter.com")}static credential(m,b){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return v.credential(b,M)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ks(v,p){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signUp",sn(v,p))})).apply(this,arguments)}class ut{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,M=!1){return(0,u.Z)(function*(){const k=yield Wn._fromIdTokenResponse(p,b,M),Y=no(b);return new ut({user:k,providerId:Y,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=no(b);return new ut({user:p,providerId:M,_tokenResponse:b,operationType:m})})()}}function no(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function al(v){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(v){var p;const m=pr(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new ut({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ks(m,{returnSecureToken:!0}),M=yield ut._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class io extends B.ZR{constructor(p,m,b,M){var k;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,io.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,M){return new io(p,m,b,M)}}function ll(v,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?io._fromErrorAndOperation(v,k,p,b):k})}function ec(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function tc(v,p){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);yield hn(!0,m,p);const{providerUserInfo:b}=yield Ce(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=ec(b||[]);return m.providerData=m.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function jt(v,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(v,p,m=!1){const b=yield it(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return ut._forOperation(v,"link",b)})).apply(this,arguments)}function hn(v,p,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(v,p,m){yield fr(p);const M=!1===v?"provider-already-linked":"no-such-provider";Be(ec(p.providerData).has(m)===v,p.auth,M)})).apply(this,arguments)}function so(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(v,p,m=!1){const{auth:b}=v,M="reauthenticate";try{const k=yield it(v,ll(b,M,p,v),m);Be(k.idToken,b,"internal-error");const Y=Ae(k.idToken);Be(Y,b,"internal-error");const{sub:Ee}=Y;return Be(v.uid===Ee,b,"user-mismatch"),ut._forOperation(v,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Mn(b,"user-mismatch"),k}})).apply(this,arguments)}function Ps(v,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(v,p,m=!1){const b="signIn",M=yield ll(v,b,p),k=yield ut._fromIdTokenResponse(v,b,M);return m||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Da(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(v,p){return Ps(pr(v),p)})).apply(this,arguments)}function Ia(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v);return yield hn(!1,m,p.providerId),jt(m,p)})).apply(this,arguments)}function gr(v,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(v,p){return so((0,B.m9)(v),p)})).apply(this,arguments)}function Au(v,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(v,p){return U(v,"POST","/v1/accounts:signInWithCustomToken",sn(v,p))})).apply(this,arguments)}function ys(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(v,p){const m=pr(v),b=yield Au(m,{token:p,returnSecureToken:!0}),M=yield ut._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class oo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?rc._fromServerResponse(p,m):Mn(p,"internal-error")}}class rc extends oo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new rc(m)}}function Ho(v,p,m){var b;Be((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Be(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Be(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Be(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ic(v,p,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v),M={requestType:"PASSWORD_RESET",email:p};m&&Ho(b,M,m),yield hp(b,M)})).apply(this,arguments)}function sc(v,p,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(v,p,m){yield Kd((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Mu(v,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(v,p){yield up((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function Sa(v,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),b=yield Kd(m,{oobCode:p}),M=b.requestType;switch(Be(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(b.mfaInfo,m,"internal-error");default:Be(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=oo._fromServerResponse(pr(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function ac(v,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(v,p){const{data:m}=yield Sa((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function lc(v,p,m){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(v,p,m){const b=pr(v),M=yield ks(b,{returnSecureToken:!0,email:p,password:m}),k=yield ut._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function gp(v,p,m){return Da((0,B.m9)(v),sl.credential(p,m))}function mp(v,p,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v),M={requestType:"EMAIL_SIGNIN",email:p};Be(m.handleCodeInApp,b,"argument-error"),m&&Ho(b,M,m),yield Qd(b,M)})).apply(this,arguments)}function mr(v,p){const m=Vo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Nn(v,p,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v),M=sl.credentialWithLink(p,m||hr());return Be(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Da(b,M)})).apply(this,arguments)}function cc(v,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:createAuthUri",sn(v,p))})).apply(this,arguments)}function km(v,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(v,p){const b={identifier:p,continueUri:Or()?hr():"http://localhost"},{signinMethods:M}=yield cc((0,B.m9)(v),b);return M||[]})).apply(this,arguments)}function Pm(v,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(v,p){const m=(0,B.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ho(m.auth,M,p);const{email:k}=yield dp(m.auth,M);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Go(v,p,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ho(b.auth,k,m);const{email:Y}=yield fp(b.auth,k);Y!==v.email&&(yield v.reload())})).apply(this,arguments)}function xu(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(v,p){return _t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _p(v,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,B.m9)(v),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Y=yield it(b,xu(b.auth,k));b.displayName=Y.displayName||null,b.photoURL=Y.photoUrl||null;const Ee=b.providerData.find(({providerId:Je})=>"password"===Je);Ee&&(Ee.displayName=b.displayName,Ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Y)})).apply(this,arguments)}function qn(v,p){return eh((0,B.m9)(v),p,null)}function Jd(v,p){return eh((0,B.m9)(v),null,p)}function eh(v,p,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(v,p,m){const{auth:b}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const Y=yield it(v,Yd(b,k));yield v._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class co{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class th extends co{constructor(p,m,b,M){super(p,m,b),this.username=M}}class nh extends co{constructor(p,m){super(p,"facebook.com",m)}}class yp extends th{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class hc extends co{constructor(p,m){super(p,"google.com",m)}}class In extends th{constructor(p,m,b){super(p,"twitter.com",m,b)}}function _r(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ru(v){var p,m;if(!v)return null;const{providerId:b}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const Y=null===(m=null===(p=Ae(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new co(k,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!b)return null;switch(b){case"facebook.com":return new nh(k,M);case"github.com":return new yp(k,M);case"google.com":return new hc(k,M);case"twitter.com":return new In(k,M,v.screenName||null);case"custom":case"anonymous":return new co(k,null);default:return new co(k,b,M)}}(m)}class Fn{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Fn("enroll",p)}static _fromMfaPendingCredential(p){return new Fn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Fn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Fn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Pt{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=pr(p),M=m.customData._serverResponse,k=(M.mfaInfo||[]).map(Ee=>oo._fromServerResponse(b,Ee));Be(M.mfaPendingCredential,b,"internal-error");const Y=Fn._fromMfaPendingCredential(M.mfaPendingCredential);return new Pt(Y,k,function(){var Ee=(0,u.Z)(function*(Je){const qe=yield Je._process(b,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const Dt=Object.assign(Object.assign({},M),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(m.operationType){case"signIn":const fn=yield ut._fromIdTokenResponse(b,m.operationType,Dt);return yield b._updateCurrentUser(fn.user),fn;case"reauthenticate":return Be(m.user,b,"internal-error"),ut._forOperation(m.user,m.operationType,Dt);default:Mn(b,"internal-error")}});return function(Je){return Ee.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function fc(v,p){var m;const b=(0,B.m9)(v),M=p;return Be(p.customData.operationType,b,"argument-error"),Be(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Pt._fromError(b,M)}function pc(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:start",sn(v,p))}class ka{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>oo._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ka(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Fn._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,u.Z)(function*(){const M=p,k=yield b.getSession(),Y=yield it(b.user,M._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(Y),b.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield m.user.getIdToken(),k=yield it(m.user,function zo(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(v,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const Wo=new WeakMap;function Di(v){const p=(0,B.m9)(v);return Wo.has(p)||Wo.set(p,ka._fromUser(p)),Wo.get(p)}const Yn="__sak";class hl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const di=(()=>{class v extends hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mc(){const v=(0,B.z$)();return Ft(v)||fs(v)}()&&function ya(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Kl(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),k=this.localCache[b];M!==k&&m(b,k,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ee,Je,qe)=>{this.notifyListeners(Ee,qe)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(M);if(m.newValue!==Ee)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const k=()=>{const Ee=this.storage.getItem(M);!b&&this.localCache[M]===Ee||this.notifyListeners(M,Ee)},Y=this.storage.getItem(M);!function _n(){return(0,B.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,k=this;return(0,u.Z)(function*(){yield M().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,u.Z)(function*(){const k=yield b().call(M,m);return M.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,M=this;return(0,u.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return v.type="LOCAL",v})(),Ls=(()=>{class v extends hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let rs=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const M=new v(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,u.Z)(function*(){const M=m,{eventId:k,eventType:Y,data:Ee}=M.data,Je=b.handlersMap[Y];if(!(null==Je?void 0:Je.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:Y});const qe=Array.from(Je).map(function(){var fn=(0,u.Z)(function*(Sn){return Sn(M.origin,Ee)});return function(Sn){return fn.apply(this,arguments)}}()),Dt=yield function Tn(v){return Promise.all(v.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:k,eventType:Y,response:Dt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Pa(v="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return v+m}class sh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var M=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Y,Ee;return new Promise((Je,qe)=>{const Dt=Pa("",20);k.port1.start();const fn=setTimeout(()=>{qe(new Error("unsupported_event"))},b);Ee={messageChannel:k,onMessage(Sn){const jn=Sn;if(jn.data.eventId===Dt)switch(jn.data.status){case"ack":clearTimeout(fn),Y=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Je(jn.data.response);break;default:clearTimeout(fn),clearTimeout(Y),qe(new Error("invalid_response"))}}},M.handlers.add(Ee),k.port1.addEventListener("message",Ee.onMessage),M.target.postMessage({eventType:p,eventId:Dt,data:m},[k.port2])}).finally(()=>{Ee&&M.removeMessageHandler(Ee)})})()}}function wn(){return window}function Vs(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function zi(){return(zi=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const pl="firebaseLocalStorageDb",is="firebaseLocalStorage",gl="fbase_key";class Na{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function yn(v,p){return v.transaction([is],p?"readwrite":"readonly").objectStore(is)}function Fa(){const v=indexedDB.open(pl,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(is,{keyPath:gl})}catch(M){m(M)}}),v.addEventListener("success",(0,u.Z)(function*(){const b=v.result;b.objectStoreNames.contains(is)?p(b):(b.close(),yield function oh(){const v=indexedDB.deleteDatabase(pl);return new Na(v).toPromise()}(),p(yield Fa()))}))})}function ah(v,p,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(v,p,m){const b=yn(v,!0).put({[gl]:p,value:m});return new Na(b).toPromise()})).apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(v,p){const m=yn(v,!1).get(p),b=yield new Na(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Pu(v,p){const m=yn(v,!0).delete(p);return new Na(m).toPromise()}const fo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Fa()),m.db})()}_withRetries(m){var b=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(M++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Vs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=rs._getInstance(function vs(){return Vs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(M,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(M,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function fl(){return zi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sh(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function uo(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Fa();return yield ah(m,Yn,"1"),yield Pu(m,Yn),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(k=>ah(k,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,u.Z)(function*(){const M=yield b._withRetries(k=>function vp(v,p){return bc.apply(this,arguments)}(k,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(M=>Pu(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const b=yield m._withRetries(Y=>{const Ee=yn(Y,!1).getAll();return new Na(Ee).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:Y,value:Ee}of b)k.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(Ee)&&(m.notifyListeners(Y,Ee),M.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!k.has(Y)&&(m.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const k of Array.from(M))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ko(v,p){return _t(v,"POST","/v2/accounts/mfaSignIn:start",sn(v,p))}function Un(){return(Un=(0,u.Z)(function*(v){return(yield _t(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ml(v){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=M=>{const k=gn("internal-error");k.customData=M,m(k)},b.type="text/javascript",b.charset="UTF-8",function Pn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function _l(v){return`__${v}${Math.floor(1e6*Math.random())}`}const vl=1e12;class La{constructor(p){this.auth=p,this.counter=vl,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Va(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||vl;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||vl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var b;return null===(b=m._widgets.get(p||vl))||void 0===b||b.execute(),""})()}}class Va{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;Be(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lu(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Us=_l("rcb"),Lr=new ji(3e4,6e4);class po{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(p,m=""){return Be(function Vv(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wn().grecaptcha):new Promise((b,M)=>{const k=wn().setTimeout(()=>{M(gn(p,"network-request-failed"))},Lr.get());wn()[Us]=()=>{wn().clearTimeout(k),delete wn()[Us];const Ee=wn().grecaptcha;if(!Ee)return void M(gn(p,"internal-error"));const Je=Ee.render;Ee.render=(qe,Dt)=>{const fn=Je(qe,Dt);return this.counter++,fn},this.hostLanguage=m,b(Ee)},ml(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Us,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),M(gn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!wn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bp{load(p){return(0,u.Z)(function*(){return new La(p)})()}clearedOneInstance(){}}const Ep="recaptcha",wp={theme:"light",type:"image"};class ch{constructor(p,m=Object.assign({},wp),b){this.parameters=m,this.type=Ep,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(b),this.isInvisible="invisible"===this.parameters.size,Be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;Be(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bp:new po,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const Y=Ee=>{!Ee||(p.tokenChangeListeners.delete(Y),k(Ee))};p.tokenChangeListeners.add(Y),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=wn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Be(Or()&&!Vs(),p.auth,"internal-error"),yield function go(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Fu(v){return Un.apply(this,arguments)}(p.auth);Be(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class El{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Lo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Vu(v,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,p,m){const b=pr(v),M=yield Qo(b,p,(0,B.m9)(m));return new El(M,k=>Da(b,k))})).apply(this,arguments)}function hi(v,p,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v);yield hn(!1,b,"phone");const M=yield Qo(b.auth,p,(0,B.m9)(m));return new El(M,k=>Ia(b,k))})).apply(this,arguments)}function $r(v,p,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v),M=yield Qo(b.auth,p,(0,B.m9)(m));return new El(M,k=>gr(b,k))})).apply(this,arguments)}function Qo(v,p,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(v,p,m){var b;const M=yield m.verify();try{let k;if(Be("string"==typeof M,v,"argument-error"),Be(m.type===Ep,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const Y=k.session;if("phoneNumber"in k)return Be("enroll"===Y.type,v,"internal-error"),(yield pc(v,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Be("signin"===Y.type,v,"internal-error");const Ee=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return Be(Ee,v,"missing-multi-factor-info"),(yield Ko(v,{mfaPendingCredential:Y.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Fo(v,{phoneNumber:k.phoneNumber,recaptchaToken:M});return Y}}finally{m._reset()}})).apply(this,arguments)}function wl(v,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(v,p){yield jt((0,B.m9)(v),p)})).apply(this,arguments)}let uh=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=pr(m)}verifyPhoneNumber(m,b){return Qo(this.auth,m,(0,B.m9)(b))}static credential(m,b){return Lo._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?Lo._fromTokenResponse(b,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function D(v,p){return p?xn(p):(Be(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class I extends Sr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ms(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ms(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ms(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function O(v){return Ps(v.auth,new I(v),v.bypassAuthState)}function V(v){const{auth:p,user:m}=v;return Be(m,p,"internal-error"),so(m,new I(v),v.bypassAuthState)}function Q(v){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(v){const{auth:p,user:m}=v;return Be(m,p,"internal-error"),jt(m,new I(v),v.bypassAuthState)})).apply(this,arguments)}class Ve{constructor(p,m,b,M,k=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:k,tenantId:Y,error:Ee,type:Je}=p;if(Ee)return void m.reject(Ee);const qe={auth:m.auth,requestUri:b,sessionId:M,tenantId:Y||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Je)(qe))}catch(Dt){m.reject(Dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return O;case"linkViaPopup":case"linkViaRedirect":return Q;case"reauthViaPopup":case"reauthViaRedirect":return V;default:Mn(this.auth,"internal-error")}}resolve(p){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nt=new ji(2e3,1e4);function tt(v,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(v,p,m){const b=pr(v);ni(v,p,wi);const M=D(b,m);return new ss(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function on(v,p,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v);ni(b.auth,p,wi);const M=D(b.auth,m);return new ss(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function ir(v,p,m){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v);ni(b.auth,p,wi);const M=D(b.auth,m);return new ss(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let ss=(()=>{class v extends Ve{constructor(m,b,M,k,Y){super(m,b,k,Y),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const b=yield m.execute();return Be(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,u.Z)(function*(){zn(1===m.filter.length,"Popup operations only handle one event");const b=Pa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(gn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=(null===(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,nt.get())};m()}}return v.currentPopupAction=null,v})();const Ii=new Map;class js extends Ve{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let b=Ii.get(m.auth._key());if(!b){try{const k=(yield function os(v,p){return Hs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(M){b=()=>Promise.reject(M)}Ii.set(m.auth._key(),b)}return m.bypassAuthState||Ii.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Hs(){return(Hs=(0,u.Z)(function*(v,p){const m=ea(p),b=Jo(v);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function Cl(v,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(v,p){return Jo(v)._set(ea(p),"true")})).apply(this,arguments)}function dh(){Ii.clear()}function Jo(v){return xn(v._redirectPersistence)}function ea(v){return oi("pendingRedirect",v.config.apiKey,v.name)}function Nm(v,p,m){return function Fm(v,p,m){return wc.apply(this,arguments)}(v,p,m)}function wc(){return(wc=(0,u.Z)(function*(v,p,m){const b=pr(v);ni(v,p,wi);const M=D(b,m);return yield Cl(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Cp(v,p,m){return function Dp(v,p,m){return Uu.apply(this,arguments)}(v,p,m)}function Uu(){return(Uu=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v);ni(b.auth,p,wi);const M=D(b.auth,m);yield Cl(M,b.auth);const k=yield Bv(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function hh(v,p,m){return function Lm(v,p,m){return Dl.apply(this,arguments)}(v,p,m)}function Dl(){return(Dl=(0,u.Z)(function*(v,p,m){const b=(0,B.m9)(v);ni(b.auth,p,wi);const M=D(b.auth,m);yield hn(!1,b,p.providerId),yield Cl(M,b.auth);const k=yield Bv(b);return M._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Ua(v,p){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(v,p){return yield pr(v)._initializationPromise,ju(v,p,!1)})).apply(this,arguments)}function ju(v,p){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,u.Z)(function*(v,p,m=!1){const b=pr(v),M=D(b,p),Y=yield new js(b,M,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield b._persistUserIfCurrent(Y.user),yield b._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Bv(v){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(v){const p=Pa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class fh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function gh(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ph(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!ph(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(gn(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(p))}saveEventToCache(p){this.cachedEventUids.add(Hu(p)),this.lastProcessedEventTime=Date.now()}}function Hu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ph({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function _o(v){return mh.apply(this,arguments)}function mh(){return(mh=(0,u.Z)(function*(v,p={}){return _t(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Vm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sp=/^https?/;function yo(){return(yo=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield _o(v);for(const m of p)try{if(Il(m))return}catch(b){}Mn(v,"unauthorized-domain")})).apply(this,arguments)}function Il(v){const p=hr(),{protocol:m,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const Y=new URL(v);return""===Y.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===b}if(!Sp.test(m))return!1;if(Vm.test(v))return b===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Um=new ji(3e4,6e4);function Ap(){const v=wn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Dc=null;function jm(v){return Dc=Dc||function Uv(v){return new Promise((p,m)=>{var b,M,k;function Y(){Ap(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ap(),m(gn(v,"network-request-failed"))},timeout:Um.get()})}if(null===(M=null===(b=wn().gapi)||void 0===b?void 0:b.iframes)||void 0===M?void 0:M.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=wn().gapi)||void 0===k?void 0:k.load)){const Ee=_l("iframefcb");return wn()[Ee]=()=>{gapi.load?Y():m(gn(v,"network-request-failed"))},ml(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(Je=>m(Je))}Y()}}).catch(p=>{throw Dc=null,p})}(v),Dc}const jv=new ji(5e3,15e3),yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$m=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vh(v){const p=v.config;Be(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?qt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},M=$m.get(v.config.apiHost);M&&(b.eid=M);const k=v._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function Ic(){return Ic=(0,u.Z)(function*(v){const p=yield jm(v),m=wn().gapi;return Be(m,v,"internal-error"),p.open({where:document.body,url:vh(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yh,dontclear:!0},b=>new Promise(function(){var M=(0,u.Z)(function*(k,Y){yield b.restyle({setHideOnLeave:!1});const Ee=gn(v,"network-request-failed"),Je=wn().setTimeout(()=>{Y(Ee)},jv.get());function qe(){wn().clearTimeout(Je),k(b)}b.ping(qe).then(qe,()=>{Y(Ee)})});return function(k,Y){return M.apply(this,arguments)}}()))}),Ic.apply(this,arguments)}const Tc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ac(v,p,m,b,M,k){Be(v.config.authDomain,v,"auth-domain-config-required"),Be(v.config.apiKey,v,"invalid-api-key");const Y={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:P.SDK_VERSION,eventId:M};if(p instanceof wi){p.setDefaultLanguage(v.languageCode),Y.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Je,qe]of Object.entries(k||{}))Y[Je]=qe}if(p instanceof Pr){const Je=p.getScopes().filter(qe=>""!==qe);Je.length>0&&(Y.scopes=Je.join(","))}v.tenantId&&(Y.tid=v.tenantId);const Ee=Y;for(const Je of Object.keys(Ee))void 0===Ee[Je]&&delete Ee[Je];return`${function xp({config:v}){return v.emulator?qt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(Ee).slice(1)}`}const ja="webStorageSupport",Rp=class qv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=ju}_openPopup(p,m,b,M){var k=this;return(0,u.Z)(function*(){var Y;zn(null===(Y=k.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const Ee=Ac(p,m,b,hr(),M);return function $u(v,p,m,b=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-b)/2,0).toString();let Ee="";const Je=Object.assign(Object.assign({},Tc),{width:b.toString(),height:M.toString(),top:k,left:Y}),qe=(0,B.z$)().toLowerCase();m&&(Ee=ma(qe)?"_blank":m),Gn(qe)&&(p=p||"http://localhost",Je.scrollbars="yes");const Dt=Object.entries(Je).reduce((Sn,[jn,Qn])=>`${Sn}${jn}=${Qn},`,"");if(function nr(v=(0,B.z$)()){var p;return fs(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(qe)&&"_self"!==Ee)return function $v(v,p){const m=document.createElement("a");m.href=v,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",Ee),new Eh(null);const fn=window.open(p||"",Ee,Dt);Be(fn,v,"popup-blocked");try{fn.focus()}catch(Sn){}return new Eh(fn)}(p,Ee,Pa())})()}_openRedirect(p,m,b,M){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function yc(v){wn().location.href=v}(Ac(p,m,b,hr(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:k}=this.eventManagers[m];return M?Promise.resolve(M):(zn(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const b=yield function Hv(v){return Ic.apply(this,arguments)}(p),M=new fh(p);return b.register("authEvent",k=>(Be(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ja,{type:ja},M=>{var k;const Y=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[ja];void 0!==Y&&m(!!Y),Mn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bm(v){return yo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Kl()||Ft()||fs()}};class Ha extends class wh{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return En("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ha(p)}_finalizeEnroll(p,m,b){return function gc(v,p){return _t(v,"POST","/v2/accounts/mfaEnrollment:finalize",sn(v,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function lh(v,p){return _t(v,"POST","/v2/accounts/mfaSignIn:finalize",sn(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qm=(()=>{class v{constructor(){}static assertion(m){return Ha._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Ch="@firebase/auth";class Dh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var M;p((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Zm(v){(0,P._registerComponent)(new Ue.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=b.options;return(Y=>{Be(M&&!M.includes(":"),"invalid-api-key",{appName:Y.name}),Be(!(null==k?void 0:k.includes(":")),"argument-error",{appName:Y.name});const Ee={apiKey:M,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ei(v)},Je=new ts(Y,Ee);return function Jt(v,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(xn);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Je,m),Je})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Ue.wA("auth-internal",p=>{const m=pr(p.getProvider("auth").getImmediate());return new Dh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Ch,"0.19.9",function Gu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(Ch,"0.19.9","esm2017")}("Browser")},2090:(dt,xe,N)=>{"use strict";N.d(xe,{BH:()=>Ge,LL:()=>pe,ZR:()=>Ue,zI:()=>_e,US:()=>ge,tV:()=>de,h$:()=>oe,$s:()=>_t,r3:()=>Dr,Sg:()=>ke,ne:()=>zn,vZ:()=>gn,ZB:()=>j,pd:()=>Be,m9:()=>dn,z$:()=>Le,jU:()=>ae,ru:()=>me,d:()=>Ie,xb:()=>bn,w1:()=>ze,hl:()=>bt,uI:()=>$e,UG:()=>J,b$:()=>Me,G6:()=>Xe,Mn:()=>Oe,xO:()=>ni,zd:()=>ri,eu:()=>te});const se=function(U){const G=[];let W=0;for(let ye=0;ye<U.length;ye++){let ne=U.charCodeAt(ye);ne<128?G[W++]=ne:ne<2048?(G[W++]=ne>>6|192,G[W++]=63&ne|128):55296==(64512&ne)&&ye+1<U.length&&56320==(64512&U.charCodeAt(ye+1))?(ne=65536+((1023&ne)<<10)+(1023&U.charCodeAt(++ye)),G[W++]=ne>>18|240,G[W++]=ne>>12&63|128,G[W++]=ne>>6&63|128,G[W++]=63&ne|128):(G[W++]=ne>>12|224,G[W++]=ne>>6&63|128,G[W++]=63&ne|128)}return G},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,G){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ne=0;ne<U.length;ne+=3){const Ye=U[ne],Se=ne+1<U.length,Ce=Se?U[ne+1]:0,Ze=ne+2<U.length,ht=Ze?U[ne+2]:0;let Dn=(15&Ce)<<2|ht>>6,re=63&ht;Ze||(re=64,Se||(Dn=64)),ye.push(W[Ye>>2],W[(3&Ye)<<4|Ce>>4],W[Dn],W[re])}return ye.join("")},encodeString(U,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(U):this.encodeByteArray(se(U),G)},decodeString(U,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(U):function(U){const G=[];let W=0,ye=0;for(;W<U.length;){const ne=U[W++];if(ne<128)G[ye++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ye=U[W++];G[ye++]=String.fromCharCode((31&ne)<<6|63&Ye)}else if(ne>239&&ne<365){const Ze=((7&ne)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;G[ye++]=String.fromCharCode(55296+(Ze>>10)),G[ye++]=String.fromCharCode(56320+(1023&Ze))}else{const Ye=U[W++],Se=U[W++];G[ye++]=String.fromCharCode((15&ne)<<12|(63&Ye)<<6|63&Se)}}return G.join("")}(this.decodeStringToByteArray(U,G))},decodeStringToByteArray(U,G){this.init_();const W=G?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ne=0;ne<U.length;){const Ye=W[U.charAt(ne++)],Ce=ne<U.length?W[U.charAt(ne)]:0;++ne;const ht=ne<U.length?W[U.charAt(ne)]:64;++ne;const yt=ne<U.length?W[U.charAt(ne)]:64;if(++ne,null==Ye||null==Ce||null==ht||null==yt)throw Error();ye.push(Ye<<2|Ce>>4),64!==ht&&(ye.push(Ce<<4&240|ht>>2),64!==yt&&ye.push(ht<<6&192|yt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},oe=function(U){const G=se(U);return ge.encodeByteArray(G,!0)},ue=function(U){return oe(U).replace(/\./g,"")},de=function(U){try{return ge.decodeString(U,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function j(U,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return G}for(const W in G)!G.hasOwnProperty(W)||!ie(W)||(U[W]=j(U[W],G[W]));return U}function ie(U){return"__proto__"!==U}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,W)=>{this.resolve=G,this.reject=W})}wrapCallback(G){return(W,ye)=>{W?this.reject(W):this.resolve(ye),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(W):G(W,ye))}}}function ke(U,G){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=G||"demo-project",ne=U.iat||0,Ye=U.sub||U.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ne,exp:ne+3600,auth_time:ne,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Se)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function J(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ae(){return"object"==typeof self&&self.self===self}function me(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Le().indexOf("Electron/")>=0}function ze(){const U=Le();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Oe(){return Le().indexOf("MSAppHost/")>=0}function Xe(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){return"object"==typeof indexedDB}function te(){return new Promise((U,G)=>{try{let W=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ye);ne.onsuccess=()=>{ne.result.close(),W||self.indexedDB.deleteDatabase(ye),U(!0)},ne.onupgradeneeded=()=>{W=!1},ne.onerror=()=>{var Ye;G((null===(Ye=ne.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(W){G(W)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(G,W,ye){super(W),this.code=G,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(G,W,ye){this.service=G,this.serviceName=W,this.errors=ye}create(G,...W){const ye=W[0]||{},ne=`${this.service}/${G}`,Ye=this.errors[G],Se=Ye?function Mt(U,G){return U.replace(nn,(W,ye)=>{const ne=G[ye];return null!=ne?String(ne):`<${ye}?>`})}(Ye,ye):"Error";return new Ue(ne,`${this.serviceName}: ${Se} (${ne}).`,ye)}}const nn=/\{\$([^}]+)}/g;function Dr(U,G){return Object.prototype.hasOwnProperty.call(U,G)}function bn(U){for(const G in U)if(Object.prototype.hasOwnProperty.call(U,G))return!1;return!0}function gn(U,G){if(U===G)return!0;const W=Object.keys(U),ye=Object.keys(G);for(const ne of W){if(!ye.includes(ne))return!1;const Ye=U[ne],Se=G[ne];if(dr(Ye)&&dr(Se)){if(!gn(Ye,Se))return!1}else if(Ye!==Se)return!1}for(const ne of ye)if(!W.includes(ne))return!1;return!0}function dr(U){return null!==U&&"object"==typeof U}function ni(U){const G=[];for(const[W,ye]of Object.entries(U))Array.isArray(ye)?ye.forEach(ne=>{G.push(encodeURIComponent(W)+"="+encodeURIComponent(ne))}):G.push(encodeURIComponent(W)+"="+encodeURIComponent(ye));return G.length?"&"+G.join("&"):""}function ri(U){const G={};return U.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ne,Ye]=ye.split("=");G[decodeURIComponent(ne)]=decodeURIComponent(Ye)}}),G}function Be(U){const G=U.indexOf("?");if(!G)return"";const W=U.indexOf("#",G);return U.substring(G,W>0?W:void 0)}function zn(U,G){const W=new wt(U,G);return W.subscribe.bind(W)}class wt{constructor(G,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{G(this)}).catch(ye=>{this.error(ye)})}next(G){this.forEachObserver(W=>{W.next(G)})}error(G){this.forEachObserver(W=>{W.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,W,ye){let ne;if(void 0===G&&void 0===W&&void 0===ye)throw new Error("Missing Observer.");ne=function Rn(U,G){if("object"!=typeof U||null===U)return!1;for(const W of G)if(W in U&&"function"==typeof U[W])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:W,complete:ye},void 0===ne.next&&(ne.next=Jt),void 0===ne.error&&(ne.error=Jt),void 0===ne.complete&&(ne.complete=Jt);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(Se){}}),this.observers.push(ne),Ye}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,G)}sendOne(G,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{W(this.observers[G])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jt(){}function _t(U,G=1e3,W=2){const ye=G*Math.pow(W,U),ne=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+ne)}function dn(U){return U&&U._delegate?U._delegate:U}},1265:(dt,xe,N)=>{"use strict";var u=N(5e3);let B=null;function P(){return B}const oe=new u.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function de(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const H=new u.OlP("Location Initialized");let j=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ie()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ie()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ge(){return new j((0,u.LFG)(oe))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let J=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ae(n){const e=(0,u.LFG)(oe).location;return new Me((0,u.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let Me=(()=>{class n extends J{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+$e(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+$e(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends J{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+$e(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+$e(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(Xe(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function lt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=ke,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Oe(){return new ze((0,u.LFG)(J),(0,u.LFG)(ue))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))();const Be=u.kL8;class tn{}let Gn=(()=>{class n extends tn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Be(r||this.locale)(t)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Xs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),fs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fs(n,e){n.context.$implicit=e.item}let nr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _n{constructor(){this.$implicit=null,this.ngIf=null}}function Kl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let _u=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:tn,useClass:Gn}]}),n})();const $i="browser";function Jl(n){return"server"===n}let ba=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Lo((0,u.LFG)(oe),window)}),n})();class Lo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Os(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=On(this.window.history)||On(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function On(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wi extends class sl extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){B||(B=n)}(new wi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rr(){return Pr=Pr||document.querySelector("base"),Pr?Pr.getAttribute("href"):null}();return null==t?null:function Ea(n){ol=ol||document.createElement("a"),ol.setAttribute("href",n);const e=ol.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ma(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let ol,Pr=null;const _s=new u.OlP("TRANSITION_ID"),kn=[{provide:u.ip1,useFactory:function ci(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[_s,oe,u.zs3],multi:!0}];class wa{static init(){(0,u.VLi)(new wa)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Bo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Gi=new u.OlP("EventManagerPlugins");let ks=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gi),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class to{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ut=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n extends ut{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(al),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(al))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function al(n){P().remove(n)}const ro={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},io=/%COMP%/g;function hn(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?hn(n,i,t):(i=i.replace(io,n),t.push(i))}return t}function Uo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ps(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new nc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Ia(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=hn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ks),u.LFG(no),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ps{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ro[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ro[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ro[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Uo(r)):this.eventManager.addEventListener(e,t,Uo(r))}}class nc extends Ps{constructor(e,t,r,i){super(e),this.component=r;const l=hn(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function jt(n){return"_ngcontent-%COMP%".replace(io,n)}(i+"-"+r.id),this.hostAttr=function cl(n){return"_nghost-%COMP%".replace(io,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ia extends Ps{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=hn(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jo=(()=>{class n extends to{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const gr=["alt","control","meta","shift"],Au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ys={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends to{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(gr.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),d+=_+".")}),d+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function oo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qi.hasOwnProperty(e)&&(e=qi[e]))}return Au[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gr.forEach(l=>{l!=i&&ys[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:$i},{provide:u.g9A,useValue:function rc(){wi.makeCurrent(),wa.init()},multi:!0},{provide:oe,useFactory:function ic(){return(0,u.RDi)(document),document},deps:[]}]),lo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ho(){return new u.qLn},deps:[]},{provide:Gi,useClass:jo,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:Gi,useClass:ul,multi:!0,deps:[oe]},{provide:Nr,useClass:Nr,deps:[ks,no,u.AFp]},{provide:u.FYo,useExisting:Nr},{provide:ut,useExisting:no},{provide:no,useClass:no,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ks,useClass:ks,deps:[Gi,u.R0b]},{provide:class Bn{},useClass:Bo,deps:[]}];let Mu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:_s,useExisting:u.AFp},kn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:lo,imports:[ai,u.hGG]}),n})();"undefined"!=typeof window&&window;var In=N(8996),_r=N(8306);const{isArray:Fr}=Array,{getPrototypeOf:rh,prototype:ih,keys:Ra}=Object;function Ou(n){if(1===n.length){const e=n[0];if(Fr(e))return{args:e,keys:null};if(function Oa(n){return n&&"object"==typeof n&&rh(n)===ih}(e)){const t=Ra(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ns=N(8421),ui=N(3269),Fn=N(5403),Pt=N(4004);const{isArray:fc}=Array;function gc(n){return(0,Pt.U)(e=>function pc(n,e){return fc(e)?n(...e):n(e)}(n,e))}function zo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Wo=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Di=(()=>{class n extends Wo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Yn=new u.OlP("NgValueAccessor"),ns={provide:Yn,useExisting:(0,u.Gpc)(()=>di),multi:!0},ku=new u.OlP("CompositionEventMode");let di=(()=>{class n extends Wo{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _c(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ku,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([ns]),u.qOj]}),n})();const Tn=new u.OlP("NgValidators"),rs=new u.OlP("NgAsyncValidators");function is(n){return null!=n}function gl(n){const e=(0,u.QGY)(n)?(0,In.D)(n):n;return(0,u.CqO)(e),e}function Na(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function yn(n,e){return e.map(t=>t(n))}function Fa(n){return n.map(e=>function oh(n){return!n.validate}(e)?e:t=>e.validate(t))}function vc(n){return null!=n?function ah(n){if(!n)return null;const e=n.filter(is);return 0==e.length?null:function(t){return Na(yn(t,e))}}(Fa(n)):null}function bc(n){return null!=n?function vp(n){if(!n)return null;const e=n.filter(is);return 0==e.length?null:function(t){return function ka(...n){const e=(0,ui.jO)(n),{args:t,keys:r}=Ou(n),i=new _r.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,w=d;for(let S=0;S<d;S++){let R=!1;(0,Ns.Xf)(t[S]).subscribe(new Fn.Q(l,L=>{R||(R=!0,w--),f[S]=L},()=>_--,void 0,()=>{(!_||!R)&&(w||l.next(r?zo(r,f):f),l.complete())}))}});return e?i.pipe(gc(e)):i}(yn(t,e).map(gl)).pipe((0,Pt.U)(Na))}}(Fa(n)):null}function Pu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zn(n){return n?Array.isArray(n)?n:[n]:[]}function fo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ko(n,e){const t=Zn(e);return Zn(n).forEach(i=>{fo(t,i)||t.push(i)}),t}function lh(n,e){return Zn(e).filter(t=>!fo(n,t))}class Fu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Un extends Fu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pn extends Fu{get formDirective(){return null}get path(){return null}}let Bs=(()=>{class n extends class ml{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Un,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function Yo(n,e){(function Xo(n,e){const t=function ho(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Pu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Nu(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Pu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();mo(e._rawValidators,i),mo(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Ec(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D(n,e)})}(n,e),function I(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qo(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function mo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function D(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function on(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const an="VALID",ss="INVALID",fi="PENDING",Ii="DISABLED";function os(n){return(dh(n)?n.validators:n)||null}function Hs(n){return Array.isArray(n)?vc(n):n||null}function Cl(n,e){return(dh(e)?e.asyncValidators:n)||null}function Bu(n){return Array.isArray(n)?bc(n):n||null}function dh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ea=n=>n instanceof hh;function Fm(n){return(n=>n instanceof Uu)(n)?n.value:n.getRawValue()}function wc(n,e){const t=ea(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function Cp(n,e){ea(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Dp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Hs(this._rawValidators),this._composedAsyncValidatorFn=Bu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===an}get invalid(){return this.status===ss}get pending(){return this.status==fi}get disabled(){return this.status===Ii}get enabled(){return this.status!==Ii}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Hs(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bu(e)}addValidators(e){this.setValidators(Ko(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ko(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lh(e,this._rawAsyncValidators))}hasValidator(e){return fo(this._rawValidators,e)}hasAsyncValidator(e){return fo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ii,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=an,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===an||this.status===fi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ii:an}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fi,this._hasOwnPendingAsyncValidator=!0;const t=gl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function js(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=ea(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Lm)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ii:this.errors?ss:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fi)?fi:this._anyControlsHaveStatus(ss)?ss:an}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Uu extends Dp{constructor(e=null,t,r){super(os(t),Cl(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){on(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){on(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hh extends Dp{constructor(e,t,r){super(os(t),Cl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cp(this,e),Object.keys(e).forEach(r=>{wc(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Fm(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Lm extends Dp{constructor(e,t,r){super(os(t),Cl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cp(this,e),e.forEach((r,i)=>{wc(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Fm(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ph={provide:Un,useExisting:(0,u.Gpc)(()=>_o)},gh=(()=>Promise.resolve(null))();let _o=(()=>{class n extends Un{constructor(t,r,i,l){super(),this.control=new Uu,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ht(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===di?t=l:function nt(n){return Object.getPrototypeOf(n.constructor)===Di}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function Ve(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function hi(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){gh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;gh.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pn,9),u.Y36(Tn,10),u.Y36(rs,10),u.Y36(Yn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([ph]),u.qOj,u.TTD]}),n})(),Il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Uv={provide:Yn,useExisting:(0,u.Gpc)(()=>Dc),multi:!0};let Dc=(()=>{class n extends Di{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onChange(l.target.value)})("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([Uv]),u.qOj]}),n})(),Sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Il]]}),n})(),jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Sn]}),n})();function at(...n){const e=(0,ui.yG)(n);return(0,In.D)(n,e)}var Cn=N(7579);class Ti extends Cn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Tl=N(4671),Th=N(9672);function xc(n,e,t){n?(0,Th.f)(t,n,e):e()}const Ah=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pp=N(8189);function Mh(...n){return function rC(){return(0,Pp.J)(1)}()((0,In.D)(n,(0,ui.yG)(n)))}function Zv(n){return new _r.y(e=>{(0,Ns.Xf)(n()).subscribe(e)})}var Zu=N(515),Rc=N(727),Wi=N(4482);function zv(){return(0,Wi.e)((n,e)=>{let t=null;n._refCount++;const r=new Fn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xh extends _r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Wi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rc.w0;const t=this.getSubject();e.add(this.source.subscribe(new Fn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rc.w0.EMPTY)}return e}refCount(){return zv()(this)}}function Si(n,e){return(0,Wi.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe(new Fn.Q(r,_=>{null==i||i.unsubscribe();let w=0;const S=l++;(0,Ns.Xf)(n(_,S)).subscribe(i=new Fn.Q(r,R=>r.next(e?e(_,R,S,w++):R),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var ta=N(5698);function Rh(...n){const e=(0,ui.yG)(n);return(0,Wi.e)((t,r)=>{(e?Mh(n,t,e):Mh(n,t)).subscribe(r)})}function iC(n,e,t,r,i){return(l,d)=>{let f=t,_=e,w=0;l.subscribe(new Fn.Q(d,S=>{const R=w++;_=f?n(_,S,R):(f=!0,S),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function Oh(n,e){return(0,Wi.e)(iC(n,e,arguments.length>=2,!0))}function ws(n,e){return(0,Wi.e)((t,r)=>{let i=0;t.subscribe(new Fn.Q(r,l=>n.call(e,l,i++)&&r.next(l)))})}function Sl(n){return(0,Wi.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe(new Fn.Q(t,void 0,void 0,d=>{l=(0,Ns.Xf)(n(d,Sl(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var pi=N(5577),$a=N(576);function kh(n,e){return(0,$a.m)(e)?(0,pi.z)(n,e,1):(0,pi.z)(n,1)}function Np(n){return n<=0?()=>Zu.E:(0,Wi.e)((e,t)=>{let r=[];e.subscribe(new Fn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wv(n=sC){return(0,Wi.e)((e,t)=>{let r=!1;e.subscribe(new Fn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sC(){return new Ah}function Kv(n){return(0,Wi.e)((e,t)=>{let r=!1;e.subscribe(new Fn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ai(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,l)=>n(i,l,r)):Tl.y,(0,ta.q)(1),t?Kv(e):Wv(()=>new Ah))}var Gs=N(8505);class na{constructor(e,t){this.id=e,this.url=t}}class Yv extends na{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends na{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fp extends na{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Km extends na{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oC extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qv extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ph extends na{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xv extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jv extends na{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vp{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eb{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BM{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ym{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class Xm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ku(n){return new Xm(n)}const tb="ngNavigationCancelingError";function Jm(n){const e=Error("NavigationCancelingError: "+n);return e[tb]=!0,e}function lC(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function vo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Bp(n[i],e[i]))return!1;return!0}function Bp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function e_(n){return Array.prototype.concat.apply([],n)}function Up(n){return n.length>0?n[n.length-1]:null}function gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,In.D)(Promise.resolve(n)):at(n)}const Oc={exact:function Nh(n,e,t){if(!Ml(n.segments,e.segments)||!Fh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Nh(n.children[r],e.children[r],t))return!1;return!0},subset:r_},t_={exact:function uC(n,e){return vo(n,e)},subset:function dC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bp(n[t],e[t]))},ignored:()=>!0};function n_(n,e,t){return Oc[t.paths](n.root,e.root,t.matrixParams)&&t_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function r_(n,e,t){return i_(n,e,e.segments,t)}function i_(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ml(i,t)||e.hasChildren()||!Fh(i,t,r))}if(n.segments.length===t.length){if(!Ml(n.segments,t)||!Fh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!r_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ml(n.segments,i)&&Fh(n.segments,i,r)&&n.children[Kt])&&i_(n.children[Kt],e,l,r)}}function Fh(n,e,t){return e.every((r,i)=>t_[t](n[i].parameters,r.parameters))}class Ga{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return Lh.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $p(this)}}class Al{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ku(this.parameters)),this._parameterMap}toString(){return a_(this)}}function Ml(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class o_{}class Hp{parse(e){const t=new _C(e);return new Ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yu(e.root,!0)}`,r=function sb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Gp(t)}=${Gp(i)}`).join("&"):`${Gp(t)}=${Gp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ib(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Lh=new Hp;function $p(n){return n.segments.map(e=>a_(e)).join("/")}function Yu(n,e){if(!n.hasChildren())return $p(n);if(e){const t=n.children[Kt]?Yu(n.children[Kt],!1):"",r=[];return gi(n.children,(i,l)=>{l!==Kt&&r.push(`${l}:${Yu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function s_(n,e){let t=[];return gi(n.children,(r,i)=>{i===Kt&&(t=t.concat(e(r,i)))}),gi(n.children,(r,i)=>{i!==Kt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Kt?[Yu(n.children[Kt],!1)]:[`${i}:${Yu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${$p(n)}/${t[0]}`:`${$p(n)}/(${t.join("//")})`}}function rb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gp(n){return rb(n).replace(/%3B/gi,";")}function Vh(n){return rb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(n){return decodeURIComponent(n)}function hC(n){return Bh(n.replace(/\+/g,"%20"))}function a_(n){return`${Vh(n.path)}${function fC(n){return Object.keys(n).map(e=>`;${Vh(e)}=${Vh(n[e])}`).join("")}(n.parameters)}`}const pC=/^[^\/()?;=#]+/;function qp(n){const e=n.match(pC);return e?e[0]:""}const Eo=/^[^=?&#]+/,ob=/^[^&#]+/;class _C{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new Xt(e,t)),r}parseSegment(){const e=qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Al(Bh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qp(this.remaining);i&&(r=i,this.capture(r))}e[Bh(t)]=Bh(r)}parseQueryParam(e){const t=function gC(n){const e=n.match(Eo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function mC(n){const e=n.match(ob);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=hC(t),l=hC(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Kt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Kt]:new Xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ab{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=l_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=l_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Zp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zp(e,this._root).map(t=>t.value)}}function l_(n,e){if(n===e.value)return e;for(const t of e.children){const r=l_(n,t);if(r)return r}return null}function Zp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Zp(n,t);if(r.length)return r.unshift(e),r}return[]}class qa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class lb extends ab{constructor(e,t){super(e),this.snapshot=t,d_(this,e)}toString(){return this.snapshot.toString()}}function Bt(n,e){const t=function cb(n,e){const d=new ls([],{},{},"",{},Kt,e,null,n.root,-1,{});return new u_("",new qa(d,[]))}(n,e),r=new Ti([new Al("",{})]),i=new Ti({}),l=new Ti({}),d=new Ti({}),f=new Ti(""),_=new kc(r,i,d,f,l,Kt,e,t.root);return _.snapshot=t.root,new lb(new qa(_,[]),t)}class kc{constructor(e,t,r,i,l,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Ku(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Ku(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function zp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ls{constructor(e,t,r,i,l,d,f,_,w,S,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class u_ extends ab{constructor(e,t){super(t),this.url=e,d_(this,t)}toString(){return Wp(this._root)}}function d_(n,e){e.value._routerState=n,e.children.forEach(t=>d_(n,t))}function Wp(n){const e=n.children.length>0?` { ${n.children.map(Wp).join(", ")} } `:"";return`${n.value}${e}`}function wo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,vo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),vo(e.params,t.params)||n.params.next(t.params),function cC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!vo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),vo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Uh(n,e){const t=vo(n.params,e.params)&&function jp(n,e){return Ml(n,e)&&n.every((t,r)=>vo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Uh(n.parent,e.parent))}function Pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function jM(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pc(n,r,i);return Pc(n,r)})}(n,e,t);return new qa(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Pc(n,f)),d}}const r=function db(n){return new kc(new Ti(n.url),new Ti(n.params),new Ti(n.queryParams),new Ti(n.fragment),new Ti(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Pc(n,l));return new qa(r,i)}}function Nc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xl(n){return"object"==typeof n&&null!=n&&n.outlets}function jh(n,e,t,r,i){let l={};return r&&gi(r,(d,f)=>{l[f]=Array.isArray(d)?d.map(_=>`${_}`):`${d}`}),new Ga(t.root===n?e:Kp(t.root,n,e),l,i)}function Kp(n,e,t){const r={};return gi(n.children,(i,l)=>{r[l]=i===e?t:Kp(i,e,t)}),new Xt(n.segments,r)}class Yp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(xl);if(i&&i!==Up(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class h_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function f_(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return p_(n,e,t);const r=function EC(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(xl(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!pb(_,w,d))return l;r+=2}else{if(!pb(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Xt(n.segments.slice(0,r.pathIndex),{});return l.children[Kt]=new Xt(n.segments.slice(r.pathIndex),n.children),p_(l,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?hb(n,e,t):r.match?p_(n,0,i):hb(n,e,t)}function p_(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function bC(n){return xl(n[0])?n[0].outlets:{[Kt]:n}}(t),i={};return gi(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=f_(n.children[d],e,l))}),gi(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Xt(n.segments,i)}}function hb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(xl(l)){const _=fb(l.outlets);return new Xt(r,_)}if(0===i&&Nc(t[0])){r.push(new Al(n.segments[e].path,g_(t[0]))),i++;continue}const d=xl(l)?l.outlets[Kt]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&Nc(f)?(r.push(new Al(d,g_(f))),i+=2):(r.push(new Al(d,{})),i++)}return new Xt(r,{})}function fb(n){const e={};return gi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hb(new Xt([],{}),0,t))}),e}function g_(n){const e={};return gi(n,(t,r)=>e[r]=`${t}`),e}function pb(n,e,t){return n==t.path&&vo(e,t.parameters)}class GM{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qu(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),gi(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Qu(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Qu(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qu(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Ym(l.value.snapshot))}),e.children.length&&this.forwardEvent(new BM(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(wo(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),wo(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function qM(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class gb{constructor(e,t){this.routes=e,this.module=t}}function Fc(n){return"function"==typeof n}function Xu(n){return n instanceof Ga}const qs=Symbol("INITIAL_VALUE");function Lc(){return Si(n=>function Sh(...n){const e=(0,ui.yG)(n),t=(0,ui.jO)(n),{args:r,keys:i}=Ou(n);if(0===r.length)return(0,In.D)([],e);const l=new _r.y(function zm(n,e,t=Tl.y){return r=>{xc(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)xc(e,()=>{const w=(0,In.D)(n[_],e);let S=!1;w.subscribe(new Fn.Q(r,R=>{l[_]=R,S||(S=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>zo(i,d):Tl.y));return t?l.pipe(gc(t)):l}(n.map(e=>e.pipe((0,ta.q)(1),Rh(qs)))).pipe(Oh((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==qs?i:(l===qs&&(r=!0),r||!1!==l&&d!==t.length-1&&!Xu(l)?i:l),e)},qs),ws(e=>e!==qs),(0,Pt.U)(e=>Xu(e)?e:!0===e),(0,ta.q)(1)))}class wC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ju,this.attachRef=null}}class Ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wC,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Hh=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||Kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new mb(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ju),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class mb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===kc?this.route:e===Ju?this.childContexts:this.parent.get(e,t)}}let Qp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Hh],encapsulation:2}),n})();function _b(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Rl(r,yb(e,r))}}function Rl(n,e){n.children&&_b(n.children,e)}function yb(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function __(n){const e=n.children&&n.children.map(__),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=Qp),t}function cs(n){return n.outlet||Kt}function vb(n,e){const t=n.filter(r=>cs(r)===e);return t.push(...n.filter(r=>cs(r)!==e)),t}const y_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},y_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||lC)(t,n,e);if(!l)return Object.assign({},y_);const d={};gi(l.posParams,(_,w)=>{d[w]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Jp(n,e,t,r,i="corrected"){if(t.length>0&&function v_(n,e,t){return t.some(r=>Ol(n,e,r)&&cs(r)!==Kt)}(n,t,r)){const d=new Xt(e,function ed(n,e,t,r){const i={};i[Kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&cs(l)!==Kt){const d=new Xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[cs(l)]=d}return i}(n,e,r,new Xt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function td(n,e,t){return t.some(r=>Ol(n,e,r))}(n,t,r)){const d=new Xt(n.segments,function $h(n,e,t,r,i,l){const d={};for(const f of r)if(Ol(n,t,f)&&!i[cs(f)]){const _=new Xt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[cs(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Xt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Ol(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Vc(n,e,t,r){return!!(cs(n)===r||r!==Kt&&Ol(e,t,n))&&("**"===n.path||Xp(e,n,t).matched)}function bb(n,e,t){return 0===e.length&&!n.children[t]}class nd{constructor(e){this.segmentGroup=e||null}}class b_{constructor(e){this.urlTree=e}}function rd(n){return new _r.y(e=>e.error(new nd(n)))}function eg(n){return new _r.y(e=>e.error(new b_(n)))}function Eb(n){return new _r.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class wb{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Jp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Kt).pipe((0,Pt.U)(l=>this.createUrlTree(ng(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Sl(l=>{if(l instanceof b_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof nd?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Kt).pipe((0,Pt.U)(i=>this.createUrlTree(ng(i),e.queryParams,e.fragment))).pipe(Sl(i=>{throw i instanceof nd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Xt([],{[Kt]:e}):e;return new Ga(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(l=>new Xt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,In.D)(i).pipe(kh(l=>{const d=r.children[l],f=vb(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,Pt.U)(_=>({segment:_,outlet:l})))}),Oh((l,d)=>(l[d.outlet]=d.segment,l),{}),function zu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,l)=>n(i,l,r)):Tl.y,Np(1),t?Kv(e):Wv(()=>new Ah))}())}expandSegment(e,t,r,i,l,d){return(0,In.D)(r).pipe(kh(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(Sl(w=>{if(w instanceof nd)return at(null);throw w}))),Ai(f=>!!f),Sl((f,_)=>{if(f instanceof Ah||"EmptyError"===f.name){if(bb(t,i,l))return at(new Xt([],{}));throw new nd(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return Vc(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):rd(t):rd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eg(l):this.lineralizeSegments(r,l).pipe((0,pi.z)(d=>{const f=new Xt(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:_,lastChild:w,positionalParamSegments:S}=Xp(t,i,l);if(!f)return rd(t);const R=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?eg(R):this.lineralizeSegments(i,R).pipe((0,pi.z)(L=>this.expandSegment(e,t,r,L.concat(l.slice(w)),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?at(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Pt.U)(L=>(r._loadedConfig=L,new Xt(i,{})))):at(new Xt(i,{}));const{matched:d,consumedSegments:f,lastChild:_}=Xp(t,r,i);if(!d)return rd(t);const w=i.slice(_);return this.getChildConfig(e,r,i).pipe((0,pi.z)(R=>{const L=R.module,q=R.routes,{segmentGroup:X,slicedSegments:fe}=Jp(t,f,w,q),Fe=new Xt(X.segments,X.children);if(0===fe.length&&Fe.hasChildren())return this.expandChildren(L,q,Fe).pipe((0,Pt.U)(Et=>new Xt(f,Et)));if(0===q.length&&0===fe.length)return at(new Xt(f,{}));const gt=cs(r)===l;return this.expandSegment(L,Fe,q,fe,gt?Kt:l,!0).pipe((0,Pt.U)(Gt=>new Xt(f.concat(Gt.segments),Gt.children)))}))}getChildConfig(e,t,r){return t.children?at(new gb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?at(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,pi.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(l=>(t._loadedConfig=l,l))):function tg(n){return new _r.y(e=>e.error(Jm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):at(new gb([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?at(i.map(d=>{const f=e.get(d);let _;if(function zM(n){return n&&Fc(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!Fc(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return bo(_)})).pipe(Lc(),(0,Gs.b)(d=>{if(!Xu(d))return;const f=Jm(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,Pt.U)(d=>!0===d)):at(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return at(r);if(i.numberOfChildren>1||!i.children[Kt])return Eb(e.redirectTo);i=i.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Ga(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return gi(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new Xt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ng(n){const e={};for(const r of Object.keys(n.children)){const l=ng(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function QM(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}class Db{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gh{constructor(e,t){this.component=e,this.route=t}}function DC(n,e,t){const r=n._root;return qh(r,e?e._root:null,t,[r.value])}function Mi(n,e,t){const r=function TC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function qh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Qu(e);return n.children.forEach(d=>{(function XM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function JM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ml(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ml(n.url,e.url)||!vo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uh(n,e)||!vo(n.queryParams,e.queryParams);default:return!Uh(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Db(r)):(l.data=d.data,l._resolvedData=d._resolvedData),qh(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Gh(f.outlet.component,d))}else d&&id(e,f,i),i.canActivateChecks.push(new Db(r)),qh(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),gi(l,(d,f)=>id(d,t.getContext(f),i)),i}function id(n,e,t){const r=Qu(n),i=n.value;gi(r,(l,d)=>{id(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class RC{}function w_(n){return new _r.y(e=>e.error(n))}class kC{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=Jp(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Kt);if(null===t)return null;const r=new ls([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qa(r,t),l=new u_(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=c_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],f=vb(e,l),_=this.processSegmentGroup(f,d,l);if(null===_)return null;r.push(..._)}const i=Co(r);return function Sb(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return bb(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Vc(e,t,r,i))return null;let l,d=[],f=[];if("**"===e.path){const q=r.length>0?Up(r).parameters:{};l=new ls(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NC(e),cs(e),e.component,e,xb(t),Rb(t)+r.length,C_(e))}else{const q=Xp(t,e,r);if(!q.matched)return null;d=q.consumedSegments,f=r.slice(q.lastChild),l=new ls(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NC(e),cs(e),e.component,e,xb(t),Rb(t)+d.length,C_(e))}const _=function Ab(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:S}=Jp(t,d,f,_.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===S.length&&w.hasChildren()){const q=this.processChildren(_,w);return null===q?null:[new qa(l,q)]}if(0===_.length&&0===S.length)return[new qa(l,[])];const R=cs(e)===i,L=this.processSegment(_,w,S,R?Kt:i);return null===L?null:[new qa(l,L)]}}function PC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Co(n){const e=[],t=new Set;for(const r of n){if(!PC(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Co(r.children);e.push(new qa(r.value,i))}return e.filter(r=>!t.has(r))}function xb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Rb(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function NC(n){return n.data||{}}function C_(n){return n.resolve||{}}function I_(n){return Si(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,Pt.U)(()=>e)):at(e)})}class UC extends class T_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zh=new u.OlP("ROUTES");class ig{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new gb(e_(d.injector.get(Zh,void 0,u.XFs.Self|u.XFs.Optional)).map(__),d)}),Sl(l=>{throw t._loader$=void 0,l}));return t._loader$=new xh(i,()=>new Cn.x).pipe(zv()),t._loader$}loadModuleFactory(e){return bo(e()).pipe((0,pi.z)(t=>t instanceof u.YKP?at(t):(0,In.D)(this.compiler.compileModuleAsync(t))))}}class jC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function HC(n){throw n}function S_(n,e,t){return e.parse("/")}function $C(n,e){return at(null)}const GC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class n{constructor(t,r,i,l,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cn.x,this.errorHandler=HC,this.malformedUriErrorHandler=S_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$C,afterPreactivation:$C},this.urlHandlingStrategy=new jC,this.routeReuseStrategy=new UC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const R=d.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function nb(){return new Ga(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ig(d,f,L=>this.triggerEvent(new Lp(L)),L=>this.triggerEvent(new Vp(L))),this.routerState=Bt(this.currentUrlTree,this.rootComponentType),this.transitions=new Ti({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ws(i=>0!==i.id),(0,Pt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Si(i=>{let l=!1,d=!1;return at(i).pipe((0,Gs.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Si(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return zh(f.source)&&(this.browserUrlTree=f.extractedUrl),at(f).pipe(Si(R=>{const L=this.transitions.getValue();return r.next(new Yv(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),L!==this.transitions.getValue()?Zu.E:Promise.resolve(R)}),function Cb(n,e,t,r){return Si(i=>function CC(n,e,t,r,i){return new wb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Pt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gs.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function FC(n,e,t,r,i){return(0,pi.z)(l=>function OC(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new kC(n,e,t,r,i,l).recognize();return null===d?w_(new RC):at(d)}catch(d){return w_(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Pt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gs.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(q,R)}this.browserUrlTree=R.urlAfterRedirects}const L=new oC(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:q,source:X,restoredState:fe,extras:Fe}=f,gt=new Yv(L,this.serializeUrl(q),X,fe);r.next(gt);const St=Bt(q,this.rootComponentType).snapshot;return at(Object.assign(Object.assign({},f),{targetSnapshot:St,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Zu.E}),I_(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:q}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!q})}),(0,Gs.b)(f=>{const _=new Qv(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Pt.U)(f=>Object.assign(Object.assign({},f),{guards:DC(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function ex(n,e){return(0,pi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?at(Object.assign(Object.assign({},t),{guardsResult:!0})):function SC(n,e,t,r){return(0,In.D)(n).pipe((0,pi.z)(i=>function Tb(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?at(l.map(f=>{const _=Mi(f,e,i);let w;if(function YM(n){return n&&Fc(n.canDeactivate)}(_))w=bo(_.canDeactivate(n,e,t,r));else{if(!Fc(_))throw new Error("Invalid CanDeactivate guard");w=bo(_(n,e,t,r))}return w.pipe(Ai())})).pipe(Lc()):at(!0)}(i.component,i.route,t,e,r)),Ai(i=>!0!==i,!0))}(d,r,i,n).pipe((0,pi.z)(f=>f&&function ZM(n){return"boolean"==typeof n}(f)?function E_(n,e,t,r){return(0,In.D)(e).pipe(kh(i=>Mh(function AC(n,e){return null!==n&&e&&e(new eb(n)),at(!0)}(i.route.parent,r),function Ib(n,e){return null!==n&&e&&e(new Wu(n)),at(!0)}(i.route,r),function xC(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function IC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Zv(()=>at(d.guards.map(_=>{const w=Mi(_,d.node,t);let S;if(function KM(n){return n&&Fc(n.canActivateChild)}(w))S=bo(w.canActivateChild(r,n));else{if(!Fc(w))throw new Error("Invalid CanActivateChild guard");S=bo(w(r,n))}return S.pipe(Ai())})).pipe(Lc())));return at(l).pipe(Lc())}(n,i.path,t),function MC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const i=r.map(l=>Zv(()=>{const d=Mi(l,e,t);let f;if(function WM(n){return n&&Fc(n.canActivate)}(d))f=bo(d.canActivate(e,n));else{if(!Fc(d))throw new Error("Invalid CanActivate guard");f=bo(d(e,n))}return f.pipe(Ai())}));return at(i).pipe(Lc())}(n,i.route,t))),Ai(i=>!0!==i,!0))}(r,l,n,e):at(f)),(0,Pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Gs.b)(f=>{if(Xu(f.guardsResult)){const w=Jm(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Ph(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),ws(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),I_(f=>{if(f.guards.canActivateChecks.length)return at(f).pipe((0,Gs.b)(_=>{const w=new Xv(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Si(_=>{let w=!1;return at(_).pipe(function LC(n,e){return(0,pi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return at(t);let l=0;return(0,In.D)(i).pipe(kh(d=>function VC(n,e,t,r){return function D_(n,e,t,r){const i=Object.keys(n);if(0===i.length)return at({});const l={};return(0,In.D)(i).pipe((0,pi.z)(d=>function BC(n,e,t,r){const i=Mi(n,e,r);return bo(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Gs.b)(f=>{l[d]=f}))),Np(1),(0,pi.z)(()=>Object.keys(l).length===i.length?at(l):Zu.E))}(n._resolve,n,e,r).pipe((0,Pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),c_(n,t).resolve),null)))}(d.route,r,n,e)),(0,Gs.b)(()=>l++),Np(1),(0,pi.z)(d=>l===i.length?at(t):Zu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gs.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Gs.b)(_=>{const w=new Jv(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),I_(f=>{const{targetSnapshot:_,id:w,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:q}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!q})}),(0,Pt.U)(f=>{const _=function ub(n,e,t){const r=Pc(n,e._root,t?t._root:void 0);return new lb(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Gs.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new GM(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Gs.b)({next(){l=!0},complete(){l=!0}}),function VM(n){return(0,Wi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Sl(f=>{if(d=!0,function aC(n){return n&&n[tb]}(f)){const _=Xu(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Fp(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),R={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zh(i.source)};this.scheduleNavigation(S,"imperative",null,R,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Km(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Zu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_b(t),this.config=t.map(__),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,S=_?this.currentUrlTree.fragment:d;let R=null;switch(f){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function HM(n,e,t,r,i){if(0===t.length)return jh(e.root,e.root,e,r,i);const l=function $M(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return gi(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new Yp(t,e,r)}(t);if(l.toRoot())return jh(e.root,new Xt([],{}),e,r,i);const d=function yC(n,e,t){if(n.isAbsolute)return new h_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new h_(l,l===e.root,0)}const r=Nc(n.commands[0])?0:1;return function vC(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new h_(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=d.processChildren?p_(d.segmentGroup,d.index,l.commands):f_(d.segmentGroup,d.index,l.commands);return jh(d.segmentGroup,f,e,r,i)}(w,this.currentUrlTree,t,R,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Xu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Pb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},GC):!1===r?Object.assign({},kb):r,Xu(t))return n_(this.currentUrlTree,t,i);const l=this.parseUrl(t);return n_(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new as(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var f,_,w;if(this.disposed)return Promise.resolve(!1);const S=this.transitions.value,R=zh(r)&&S&&!zh(S.source),L=S.rawUrl.toString()===t.toString(),q=S.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(R&&L&&q)return Promise.resolve(!0);let fe,Fe,gt;d?(fe=d.resolve,Fe=d.reject,gt=d.promise):gt=new Promise((Et,vn)=>{fe=Et,Fe=vn});const St=++this.navigationId;let Gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Gt=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Gt=0,this.setTransition({id:St,targetPageId:Gt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:fe,reject:Fe,promise:gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gt.catch(Et=>Promise.reject(Et))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Fp(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function zh(n){return"imperative"!==n}let us=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Cn.x,this.subscription=t.events.subscribe(l=>{l instanceof as&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){if(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Za(this.skipLocationChange),replaceUrl:Za(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Za(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qr),u.Y36(kc),u.Y36(J))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Za(n){return""===n||!!n}class zC{}class M_{preload(e,t){return at(null)}}let og=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new ig(i,r,_=>t.triggerEvent(new Lp(_)),_=>t.triggerEvent(new Vp(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ws(t=>t instanceof as),kh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,In.D)(i).pipe((0,Pp.J)(),(0,Pt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?at(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,pi.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(zC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Bc=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof as&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Qm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const za=new u.OlP("ROUTER_CONFIGURATION"),x_=new u.OlP("ROUTER_FORROOT_GUARD"),Nb=[ze,{provide:o_,useClass:Hp},{provide:qr,useFactory:function sd(n,e,t,r,i,l,d={},f,_){const w=new qr(null,n,e,t,r,i,e_(l));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function Vb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(S=>{var R,L;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),w},deps:[o_,Ju,ze,u.zs3,u.Sil,Zh,za,[class Ob{},new u.FiY],[class rg{},new u.FiY]]},Ju,{provide:kc,useFactory:function YC(n){return n.routerState.root},deps:[qr]},og,M_,class A_{preload(e,t){return t().pipe(Sl(()=>at(null)))}},{provide:za,useValue:{enableTracing:!1}}];function Fb(){return new u.PXZ("Router",qr)}let Lb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Nb,O_(t),{provide:x_,useFactory:KC,deps:[[qr,new u.FiY,new u.tp0]]},{provide:za,useValue:r||{}},{provide:J,useFactory:WC,deps:[ue,[new u.tBr(me),new u.FiY],za]},{provide:Bc,useFactory:R_,deps:[qr,ba,za]},{provide:zC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:M_},{provide:u.PXZ,multi:!0,useFactory:Fb},[k_,{provide:u.ip1,multi:!0,useFactory:od,deps:[k_]},{provide:Bb,useFactory:QC,deps:[k_]},{provide:u.tb,multi:!0,useExisting:Bb}]]}}static forChild(t){return{ngModule:n,providers:[O_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x_,8),u.LFG(qr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function R_(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Bc(n,e,t)}function WC(n,e,t={}){return t.useHash?new Ie(n,e):new Me(n,e)}function KC(n){return"guarded"}function O_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Zh,multi:!0,useValue:n}]}let k_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Cn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(qr),d=this.injector.get(za);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?at(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(za),i=this.injector.get(og),l=this.injector.get(Bc),d=this.injector.get(qr),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function od(n){return n.appInitializer.bind(n)}function QC(n){return n.bootstrapListener.bind(n)}const Bb=new u.OlP("Router Initializer");class Ki{}var P_=N(1144);const Ub=["addListener","removeListener"],jb=["addEventListener","removeEventListener"],Hb=["on","off"];function Wa(n,e,t,r){if((0,$a.m)(t)&&(r=t,t=void 0),r)return Wa(n,e,t).pipe(gc(r));const[i,l]=function tD(n){return(0,$a.m)(n.addEventListener)&&(0,$a.m)(n.removeEventListener)}(n)?jb.map(d=>f=>n[d](e,f,t)):function JC(n){return(0,$a.m)(n.addListener)&&(0,$a.m)(n.removeListener)}(n)?Ub.map($b(n,e)):function eD(n){return(0,$a.m)(n.on)&&(0,$a.m)(n.off)}(n)?Hb.map($b(n,e)):[];if(!i&&(0,P_.z)(n))return(0,pi.z)(d=>Wa(d,e,t))((0,Ns.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _r.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function $b(n,e){return t=>r=>n[t](e,r)}class Gb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wh extends Gb{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class qb extends Gb{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Zb extends Gb{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class N_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Wh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qb?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Zb?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Do extends N_{constructor(e,t,r,i,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let F_=(()=>{class n extends N_{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=l=>{const d=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),d=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=t,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(oe))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),L_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var zb=N(5032);function Kh(n){return(0,Wi.e)((e,t)=>{(0,Ns.Xf)(n).subscribe(new Fn.Q(t,()=>t.complete(),zb.Z)),!t.closed&&e.subscribe(t)})}let V_;try{V_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){V_=!1}let Uc,kl=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ar(n){return n===$i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xh(){if(null==Uc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Uc=!1,Uc;if("scrollBehavior"in document.documentElement.style)Uc=!0;else{const n=Element.prototype.scrollTo;Uc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Uc}function mi(n){return n.composedPath?n.composedPath()[0]:n.target}function Pl(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let oI=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function lI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function aI(n){try{return n.frameElement}catch(e){return null}}(function cE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===W_(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),l=W_(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function cg(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==l:"video"===i?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function dI(n){return!function cf(n){return function lE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Z_(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function cI(n){return function uI(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||z_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function W_(n){if(!z_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class fE extends class uE{constructor(e,t,r,i,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,ta.q)(1)).subscribe(e)}}{constructor(e,t,r,i,l,d,f){super(e,t,r,i,f.defer),this._focusTrapManager=l,this._inertStrategy=d,this._focusTrapManager.register(this)}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const pE=new u.OlP("FOCUS_TRAP_INERT_STRATEGY");class gE{constructor(){this._listener=null}preventFocus(e){this._listener&&e._document.removeEventListener("focus",this._listener,!0),this._listener=t=>this._trapFocus(e,t),e._ngZone.runOutsideAngular(()=>{e._document.addEventListener("focus",this._listener,!0)})}allowFocus(e){!this._listener||(e._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(e,t){var r;const i=t.target,l=e._element;i&&!l.contains(i)&&!(null===(r=i.closest)||void 0===r?void 0:r.call(i,"div.cdk-overlay-pane"))&&setTimeout(()=>{e.enabled&&!l.contains(e._document.activeElement)&&e.focusFirstTabbableElement()})}}let mE=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_E=(()=>{class n{constructor(t,r,i,l,d){this._checker=t,this._ngZone=r,this._focusTrapManager=i,this._document=l,this._inertStrategy=d||new gE}create(t,r={defer:!1}){let i;return i="boolean"==typeof r?{defer:r}:r,new fE(t,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oI),u.LFG(u.R0b),u.LFG(mE),u.LFG(oe),u.LFG(pE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nl(n){return null!=n&&"false"!=`${n}`}function K_(n){return Array.isArray(n)?n:[n]}function yr(n){return null==n?"":"string"==typeof n?n:`${n}px`}var Y_=N(4408);const dd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=dd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new Rc.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=dd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=dd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var X_=N(7565);new class jc extends X_.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<l&&(e=t.shift()));if(this._active=!1,r){for(;++i<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class Q_ extends Y_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=dd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(dd.cancelAnimationFrame(t),e._scheduled=void 0)}});let bE,hd=1;const fd={};function vI(n){return n in fd&&(delete fd[n],!0)}const EE={setImmediate(n){const e=hd++;return fd[e]=!0,bE||(bE=Promise.resolve()),bE.then(()=>vI(e)&&n()),e},clearImmediate(n){vI(n)}},{setImmediate:cR,clearImmediate:It}=EE,ug={setImmediate(...n){const{delegate:e}=ug;return((null==e?void 0:e.setImmediate)||cR)(...n)},clearImmediate(n){const{delegate:e}=ug;return((null==e?void 0:e.clearImmediate)||It)(n)},delegate:void 0};new class wI extends X_.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const l=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<l&&(e=t.shift()));if(this._active=!1,r){for(;++i<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class EI extends Y_.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ug.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(ug.clearImmediate(t),e._scheduled=void 0)}});var pd=N(4986),sr=N(3532);function CE(n,e=pd.P){return function hg(n){return(0,Wi.e)((e,t)=>{let r=!1,i=null,l=null,d=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const w=i;i=null,t.next(w)}d&&t.complete()},_=()=>{l=null,d&&t.complete()};e.subscribe(new Fn.Q(t,w=>{r=!0,i=w,l||(0,Ns.Xf)(n(w)).subscribe(l=new Fn.Q(t,f,_))},()=>{d=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>function wE(n=0,e,t=pd.P){let r=-1;return null!=e&&((0,sr.K)(e)?t=e:r=e),new _r.y(i=>{let l=function dR(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(n,e))}const CI=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function DE(){return(0,u.f3M)(oe)}}),IE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let SE=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function TE(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?IE.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(CI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ME=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _r.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(CE(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ws(l=>!l||i.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function vE(n){return n instanceof u.SBq?n.nativeElement:n}(r),l=t.getElementRef().nativeElement;do{if(i==l)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(kl),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gd=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Cn.x,this._changeListener=l=>{this._change.next(l)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,l=i.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(CE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kl),u.LFG(u.R0b),u.LFG(oe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[J_,ty],J_,ty]}),n})();var xE=N(6451);const ry=Xh();class SI{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=yr(-this._previousScrollPosition.left),e.style.top=yr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,l=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ry&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ry&&(r.scrollBehavior=l,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class ER{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AI{enable(){}disable(){}attach(){}}function RE(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function MI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class OE{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();RE(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gg=(()=>{class n{constructor(t,r,i,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new AI,this.close=d=>new ER(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new SI(this._viewportRuler,this._document),this.reposition=d=>new OE(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ME),u.LFG(gd),u.LFG(u.R0b),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kE{constructor(e){if(this.scrollStrategy=new AI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class uf{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class RI{constructor(e,t,r,i,l,d,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=l,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Cn.x,this._attachments=new Cn.x,this._detachments=new Cn.x,this._locationChanges=Rc.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new Cn.x,this._outsidePointerEvents=new Cn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ta.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=yr(this._config.width),e.height=yr(this._config.height),e.minWidth=yr(this._config.minWidth),e.minHeight=yr(this._config.minHeight),e.maxWidth=yr(this._config.maxWidth),e.maxHeight=yr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=K_(t||[]).filter(l=>!!l);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Kh((0,xE.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let PE=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Pl()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<i.length;l++)i[l].remove()}const r=this._document.createElement("div");r.classList.add(t),Pl()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(kl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NE="cdk-overlay-connected-position-bounding-box",FE=/([A-Za-z%]+)$/;class OI{constructor(e,t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn.x,this._resizeSubscription=Rc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(NE),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,l=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),S=this._getOverlayFit(w,t,r,f);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(S,w,r)?l.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<S.visibleArea)&&(d={overlayFit:S,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(l.length){let f=null,_=-1;for(const w of l){const S=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);S>_&&(_=S,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,l;if("center"==r.originX)i=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?d:f}return t.left<0&&(i-=t.left),l="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(l-=t.top),{x:i,y:l}}_getOverlayPoint(e,t,r){let i,l;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+l}}_getOverlayFit(e,t,r,i){const l=LE(t);let{x:d,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(d+=_),w&&(f+=w);let L=0-f,q=f+l.height-r.height,X=this._subtractOverflows(l.width,0-d,d+l.width-r.width),fe=this._subtractOverflows(l.height,L,q),Fe=X*fe;return{visibleArea:Fe,isCompletelyWithinViewport:l.width*l.height===Fe,fitsInViewportVertically:fe===l.height,fitsInViewportHorizontally:X==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,l=r.right-t.x,d=$c(this._overlayRef.getConfig().minHeight),f=$c(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=l;return(e.fitsInViewportVertically||null!=d&&d<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=LE(t),l=this._viewportRect,d=Math.max(e.x+i.width-l.width,0),f=Math.max(e.y+i.height-l.height,0),_=Math.max(l.top-r.top-e.y,0),w=Math.max(l.left-r.left-e.x,0);let S=0,R=0;return S=i.width<=l.width?w||-d:e.x<this._viewportMargin?l.left-r.left-e.x:0,R=i.height<=l.height?_||-f:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:S,y:R},{x:e.x+S,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new uf(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let l,d,f,S,R,L;if("top"===t.overlayY)d=e.y,l=r.height-d+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,l=r.height-f+this._viewportMargin;else{const q=Math.min(r.bottom-e.y+r.top,e.y),X=this._lastBoundingBoxSize.height;l=2*q,d=e.y-q,l>X&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-X/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)L=r.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)R=e.x,S=r.right-e.x;else{const q=Math.min(r.right-e.x+r.left,e.x),X=this._lastBoundingBoxSize.width;S=2*q,R=e.x-q,S>X&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-X/2)}return{top:d,left:R,bottom:f,right:L,width:S,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=yr(r.height),i.top=yr(r.top),i.bottom=yr(r.bottom),i.width=yr(r.width),i.left=yr(r.left),i.right=yr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(i.maxHeight=yr(l)),d&&(i.maxWidth=yr(d))}this._lastBoundingBoxSize=r,Hc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Hc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const S=this._viewportRuler.getViewportScrollPosition();Hc(r,this._getExactOverlayY(t,e,S)),Hc(r,this._getExactOverlayX(t,e,S))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=yr(d.maxHeight):l&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=yr(d.maxWidth):l&&(r.maxWidth="")),Hc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":i.top=yr(l.y),i}_getExactOverlayX(e,t,r){let d,i={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":i.left=yr(l.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MI(e,r),isOriginOutsideView:RE(e,r),isOverlayClipped:MI(t,r),isOverlayOutsideView:RE(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&K_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Hc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $c(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(FE);return t&&"px"!==t?null:parseFloat(e)}return n||null}function LE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const iy="cdk-global-overlay-wrapper";class kI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iy),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:l,maxWidth:d,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(iy),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let VE=(()=>{class n{constructor(t,r,i,l){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=l}global(){return new kI}flexibleConnectedTo(t){return new OI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gd),u.LFG(oe),u.LFG(kl),u.LFG(PE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BE=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UE=(()=>{class n extends BE{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const f=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PI=(()=>{class n extends BE{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=mi(l)},this._clickListener=l=>{const d=mi(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const S=_[w];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(d)||S.overlayElement.contains(f))break;const R=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(l)):R.next(l)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(kl),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sy=0,oy=(()=>{class n{constructor(t,r,i,l,d,f,_,w,S,R,L){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=w,this._directionality=S,this._location=R,this._outsideClickDispatcher=L}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),l=this._createPortalOutlet(i),d=new kE(t);return d.direction=d.direction||this._directionality.value,new RI(l,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sy++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new Do(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gg),u.LFG(PE),u.LFG(u._Vd),u.LFG(VE),u.LFG(UE),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(oe),u.LFG(SE),u.LFG(ze),u.LFG(PI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ay={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[oy],useFactory:function FI(n){return()=>n.scrollStrategies.reposition()}};let mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[oy,ay],imports:[[J_,L_,ny],ny]}),n})();const VI=["dialog"];function BI(n,e){}class UI{constructor(){this.animation=!0,this.backdrop=!0,this.ignoreBackdropClick=!1,this.keyboard=!0,this.modalClass="",this.containerClass="",this.data=null}}class df{constructor(e,t){this._overlayRef=e,this._container=t,this.onClose$=new Cn.x,this.onClose=this.onClose$.asObservable()}close(e){this._container._close(),setTimeout(()=>{this._container._restoreScrollbar(),this.onClose$.next(e),this.onClose$.complete(),this._overlayRef.detach(),this._overlayRef.dispose()},this._container.MODAL_TRANSITION)}}let HE=(()=>{class n{constructor(t,r,i,l){this._document=t,this._elementRef=r,this._renderer=i,this._focusTrapFactory=l,this._destroy$=new Cn.x,this.backdropClick$=new Cn.x,this.BACKDROP_TRANSITION=150,this.MODAL_TRANSITION=200,this.modal=!0}get hasAnimation(){return this._config.animation}ngOnInit(){this._updateContainerClass(),this._renderer.addClass(this._document.body,"modal-open"),this._renderer.setStyle(this._document.body,"padding-right","15px"),this._renderer.setStyle(this._elementRef.nativeElement,"display","block"),this._previouslyFocusedElement=this._document.activeElement,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._config.animation?setTimeout(()=>{this._renderer.addClass(this._elementRef.nativeElement,"show"),setTimeout(()=>{this._focusTrap.focusInitialElementWhenReady()},this.MODAL_TRANSITION)},this.BACKDROP_TRANSITION):this._focusTrap.focusInitialElementWhenReady()}ngAfterViewInit(){this._config.ignoreBackdropClick||Wa(this._elementRef.nativeElement,"mousedown").pipe(ws(t=>{const r=t.target,i=this.modalDialog.nativeElement,l=r!==i,d=!i.contains(r);return l&&d}),Kh(this._destroy$)).subscribe(t=>{this.backdropClick$.next(t)})}ngOnDestroy(){this._previouslyFocusedElement.focus(),this._focusTrap.destroy(),this._destroy$.next(),this._destroy$.complete()}_updateContainerClass(){""===this._config.containerClass||this._config.containerClass.length&&0===this._config.containerClass.length||this._config.containerClass.split(" ").forEach(r=>{this._renderer.addClass(this._elementRef.nativeElement,r)})}_close(){this._config.animation&&this._renderer.removeClass(this._elementRef.nativeElement,"show");const t=Array.from(this._elementRef.nativeElement.querySelectorAll("iframe")),r=Array.from(this._elementRef.nativeElement.querySelectorAll("video"));t.forEach(i=>{const l=i.getAttribute("src");this._renderer.setAttribute(i,"src",l)}),r.forEach(i=>{i.pause()})}_restoreScrollbar(){this._renderer.removeClass(this._document.body,"modal-open"),this._renderer.removeStyle(this._document.body,"padding-right")}attachComponentPortal(t){return this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.attachTemplatePortal(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oe),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(_E))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mdb-modal-container"]],viewQuery:function(t,r){if(1&t&&(u.Gf(F_,7),u.Gf(VI,7)),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first),u.iGM(i=u.CRH())&&(r.modalDialog=i.first)}},hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("modal",r.modal)("fade",r.hasAnimation)},decls:4,vars:2,consts:[["dialog",""],[1,"modal-content"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",null,0),u.TgZ(2,"div",1),u.YNc(3,BI,0,0,"ng-template",2),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r._config.modalClass?" "+r._config.modalClass:""))},directives:[F_],encapsulation:2}),n})(),$E=(()=>{class n{constructor(t,r,i,l){this._document=t,this._overlay=r,this._injector=i,this._cfr=l}open(t,r){const i=new UI;r=r?Object.assign(i,r):i;const l=this._createOverlay(r),d=this._createContainer(l,r),f=this._createContent(t,d,l,r);return this._registerListeners(f,r,d),f}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){return new kE({positionStrategy:this._overlay.position().global(),scrollStrategy:this._overlay.scrollStrategies.noop(),hasBackdrop:t.backdrop,backdropClass:"mdb-backdrop"})}_createContainer(t,r){const i=new Wh(HE,null,this._injector,this._cfr),l=t.attach(i);return l.instance._config=r,l.instance}_createContent(t,r,i,l){const d=new df(i,r);if(t instanceof u.Rgc)r.attachTemplatePortal(new qb(t,null,{$implicit:l.data,modalRef:d}));else{const f=this._createInjector(l,d,r),_=r.attachComponentPortal(new Wh(t,l.viewContainerRef,f));l.data&&Object.assign(_.instance,Object.assign({},l.data))}return d}_createInjector(t,r,i){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:HE,useValue:i},{provide:df,useValue:r}]})}_registerListeners(t,r,i){i.backdropClick$.pipe((0,ta.q)(1)).subscribe(()=>{t.close()}),r.keyboard&&Wa(i._elementRef.nativeElement,"keydown").pipe(ws(l=>"Escape"===l.key),(0,ta.q)(1)).subscribe(()=>{t.close()})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(oy),u.LFG(u.zs3),u.LFG(u._Vd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[$E],imports:[[mg,L_]]}),n})();var Gc=(()=>((Gc||(Gc={})).passwordList="passwordList",Gc))(),zr=N(5813);function _g(){return(0,Wi.e)((n,e)=>{let t,r=!1;n.subscribe(new Fn.Q(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function $I(n,e){return n===e}var ot,Zs=N(2011),GI=(N(5881),N(3942)),De=N(5861),Ja=N(9681),md=N(4859),el=N(1877),$t=N(2090),qI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tl={},ly=ly||{},Lt=qI||self;function yg(){}function vg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qE="closure_uid_"+(1e9*Math.random()>>>0),ZI=0;function ff(n,e,t){return n.call.apply(n.bind,arguments)}function zI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ff:zI).apply(null,arguments)}function Fl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _i(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function qc(){this.s=this.s,this.o=this.o}var WI={};qc.prototype.s=!1,qc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function GE(n){return Object.prototype.hasOwnProperty.call(n,qE)&&n[qE]||(n[qE]=++ZI)}(this);delete WI[n]}},qc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},WE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function cy(n){return Array.prototype.concat.apply([],arguments)}function bg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function _d(n){return/^[\s\xa0]*$/.test(n)}var xi,pf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vr(n,e){return-1!=n.indexOf(e)}function uy(n,e){return n<e?-1:n>e?1:0}e:{var dy=Lt.navigator;if(dy){var KE=dy.userAgent;if(KE){xi=KE;break e}}xi=""}function hy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function YE(n){const e={};for(const t in n)e[t]=n[t];return e}var Eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Eg.length;l++)t=Eg[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function XE(n){return XE[" "](n),n}XE[" "]=yg;var py,n,QI=Vr(xi,"Opera"),To=Vr(xi,"Trident")||Vr(xi,"MSIE"),fy=Vr(xi,"Edge"),Ll=fy||To,XI=Vr(xi,"Gecko")&&!(Vr(xi.toLowerCase(),"webkit")&&!Vr(xi,"Edge"))&&!(Vr(xi,"Trident")||Vr(xi,"MSIE"))&&!Vr(xi,"Edge"),JE=Vr(xi.toLowerCase(),"webkit")&&!Vr(xi,"Edge");function ew(){var n=Lt.document;return n?n.documentMode:void 0}e:{var wg="",tw=(n=xi,XI?/rv:([^\);]+)(\)|;)/.exec(n):fy?/Edge\/([\d\.]+)/.exec(n):To?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JE?/WebKit\/(\S+)/.exec(n):QI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tw&&(wg=tw?tw[1]:""),To){var Cg=ew();if(null!=Cg&&Cg>parseFloat(wg)){py=String(Cg);break e}}py=wg}var gy={};var eT=Lt.document&&To&&(ew()||parseInt(py,10))||void 0,tT=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",yg,e),Lt.removeEventListener("test",yg,e)}catch(t){}return n}();function Ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function gf(n,e){if(Ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XI){e:{try{XE(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&gf.Z.h.call(this)}}Ri.prototype.h=function(){this.defaultPrevented=!0},_i(gf,Ri);var nT={2:"touch",3:"pen",4:"mouse"};gf.prototype.h=function(){gf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mf="closure_listenable_"+(1e6*Math.random()|0),rT=0;function _f(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++rT,this.ca=this.fa=!1}function yf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vf(n){this.src=n,this.g={},this.h=0}function Ig(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=zE(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(yf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tg(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}vf.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Tg(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new _f(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Sg="closure_lm_"+(1e6*Math.random()|0),Ag={};function rw(n,e,t,r,i){if(r&&r.once)return ow(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)rw(n,e[l],t,r,i);return null}return t=_y(t),n&&n[mf]?n.N(e,t,hf(r)?!!r.capture:!!r,i):iw(n,e,t,!1,r,i)}function iw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=hf(i)?!!i.capture:!!i,f=bf(n);if(f||(n[Sg]=f=new vf(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function sw(){var e=iT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tT||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(yd(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ow(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)ow(n,e[l],t,r,i);return null}return t=_y(t),n&&n[mf]?n.O(e,t,hf(r)?!!r.capture:!!r,i):iw(n,e,t,!0,r,i)}function aw(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)aw(n,e[l],t,r,i);else r=hf(r)?!!r.capture:!!r,t=_y(t),n&&n[mf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tg(l=n.g[e],t,r,i))&&(yf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=bf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tg(e,t,r,i)),(t=-1<n?e[n]:null)&&my(t))}function my(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[mf])Ig(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yd(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bf(e))?(Ig(t,n),0==t.h&&(t.src=null,e[Sg]=null)):yf(n)}}}function yd(n){return n in Ag?Ag[n]:Ag[n]="on"+n}function iT(n,e){if(n.ca)n=!0;else{e=new gf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&my(n),n=t.call(r,e)}return n}function bf(n){return(n=n[Sg])instanceof vf?n:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function _y(n){return"function"==typeof n?n:(n[zs]||(n[zs]=function(e){return n.handleEvent(e)}),n[zs])}function Mr(){qc.call(this),this.i=new vf(this),this.P=this,this.I=null}function vr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ri(e,n);else if(e instanceof Ri)e.target=e.target||n;else{var i=e;QE(e=new Ri(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Mg(d,r,!0,e)&&i}if(i=Mg(d=e.g=n,r,!0,e)&&i,i=Mg(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Mg(d=e.g=t[l],r,!1,e)&&i}function Mg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Ig(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}_i(Mr,qc),Mr.prototype[mf]=!0,Mr.prototype.removeEventListener=function(n,e,t,r){aw(this,n,e,t,r)},Mr.prototype.M=function(){if(Mr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yf(t[r]);delete n.g[e],n.h--}}this.I=null},Mr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yy=Lt.JSON.stringify;function sT(){var n=lw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Og,Ef=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new oT,n=>n.reset());class oT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aT(n){Lt.setTimeout(()=>{throw n},0)}function Rg(n,e){Og||function vy(){var n=Lt.Promise.resolve(void 0);Og=function(){n.then(lT)}}(),kg||(Og(),kg=!0),lw.add(n,e)}var kg=!1,lw=new class xg{constructor(){this.h=this.g=null}add(e,t){const r=Ef.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lT(){for(var n;n=sT();){try{n.h.call(n.g)}catch(t){aT(t)}var e=Ef;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kg=!1}function by(n,e){Mr.call(this),this.h=n||1,this.g=e||Lt,this.j=or(this.kb,this),this.l=Date.now()}function wf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Cf(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function Ey(n){n.g=Cf(()=>{n.g=null,n.i&&(n.i=!1,Ey(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_i(by,Mr),(ot=by.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vr(this,"tick"),this.da&&(wf(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){by.Z.M.call(this),wf(this),delete this.g};class wy extends qc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ey(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zc(n){qc.call(this),this.h=n,this.g={}}_i(Zc,qc);var cw=[];function uw(n,e,t,r){Array.isArray(t)||(t&&(cw[0]=t.toString()),t=cw);for(var i=0;i<t.length;i++){var l=rw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function dw(n){hy(n.g,function(e,t){this.g.hasOwnProperty(t)&&my(e)},n),n.g={}}function Pg(){this.g=!0}function zc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return yy(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Zc.prototype.M=function(){Zc.Z.M.call(this),dw(this)},Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pg.prototype.Aa=function(){this.g=!1},Pg.prototype.info=function(){};var Vl={},gw=null;function Df(){return gw=gw||new Mr}function Dy(n){Ri.call(this,Vl.Ma,n)}function If(n){const e=Df();vr(e,new Dy(e,n))}function Iy(n,e){Ri.call(this,Vl.STAT_EVENT,n),this.stat=e}function Yi(n){const e=Df();vr(e,new Iy(e,n))}function Oi(n,e){Ri.call(this,Vl.Na,n),this.size=e}function sa(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}Vl.Ma="serverreachability",_i(Dy,Ri),Vl.STAT_EVENT="statevent",_i(Iy,Ri),Vl.Na="timingevent",_i(Oi,Ri);var Ng={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _w(){}function yw(){}_w.prototype.h=null;var Sy,Wc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ty(){Ri.call(this,"d")}function Fg(){Ri.call(this,"c")}function Lg(){}function Kc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zc(this),this.P=vw,this.W=new by(n=Ll?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ay}function Ay(){this.i=null,this.g="",this.h=!1}_i(Ty,Ri),_i(Fg,Ri),_i(Lg,_w),Lg.prototype.g=function(){return new XMLHttpRequest},Lg.prototype.i=function(){return{}},Sy=new Lg;var vw=45e3,bd={},Ed={};function bw(n,e,t){n.K=1,n.v=jg(oa(e)),n.s=t,n.U=!0,My(n,null)}function My(n,e){n.F=Date.now(),wd(n),n.A=oa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Jc(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Ay,n.g=ET(n.l,t?e:null,!n.s),0<n.O&&(n.L=new wy(or(n.Ia,n,n.g),n.O)),uw(n.V,n.g,"readystatechange",n.gb),e=n.H?YE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),If(1),function hw(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var S=w[0];w=w[1];var R=S.split("_");d=2<=R.length&&"type"==R[1]?d+(S+"=")+w+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ew(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function xy(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Vg(n,t),i==Ed){4==e&&(n.o=4,Yi(14),r=!1),zc(n.j,n.m,null,"[Incomplete Response]");break}if(i==bd){n.o=4,Yi(15),zc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zc(n.j,n.m,i,null),Ry(n,i)}Ew(n)&&i!=Ed&&i!=bd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kf(e),e.L=!0,Yi(11))):(zc(n.j,n.m,t,"[Invalid Chunked Response]"),Dd(n),Yc(n))}function Vg(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ed:(t=Number(e.substring(t,r)),isNaN(t)?bd:(r+=1)+t>e.length?Ed:(e=e.substr(r,t),n.C=r+t,e))}function wd(n){n.Y=Date.now()+n.P,ww(n,n.P)}function ww(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sa(or(n.eb,n),e)}function Cd(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Yc(n){0==n.l.G||n.I||Qy(n.l,n)}function Dd(n){Cd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wf(n.W),dw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ry(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dw(t.i,n)))if(t.I=n.N,!n.J&&Dw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=sa(or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Yg(t),Kg(t)}tu(t),Yi(18)}if(1>=Fy(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else nu(t,11)}else if((n.J||t.g==n)&&Yg(t),!_d(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const R=w[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const X=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var l=r.i;!l.g&&(Vr(X,"spdy")||Vr(X,"quic")||Vr(X,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Zg(l,l.h),l.h=null))}if(r.D){const fe=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(r.sa=fe,Hn(r.F,r.D,fe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=bT(r,r.H?r.la:null,r.W),d.J){Af(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(Cd(f),wd(f)),r.g=d}else Ky(r);0<t.l.length&&zy(t)}else"stop"!=w[0]&&"close"!=w[0]||nu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?nu(t,7):Gy(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}If(4)}catch(w){}}function Bg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vg(n)||"string"==typeof n)WE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(vg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function cT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Qc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Qc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Oy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Bl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Bl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Bl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=Kc.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==Ao(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const S=Ao(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>S)&&(3!=S||Ll||this.g&&(this.h.h||this.g.ga()||Ws(this.g)))){this.I||4!=S||7==e||If(8==e||0>=R?3:2),Cd(this);var t=this.g.ba();this.N=t;t:if(Ew(this)){var r=Ws(this.g);n="";var i=r.length,l=4==Ao(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Dd(this),Yc(this);var d="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Cy(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_d(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Yi(12),Dd(this),Yc(this);break e}zc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ry(this,t)}this.U?(xy(this,S,d),Ll&&this.i&&3==S&&(uw(this.V,this.W,"tick",this.fb),this.W.start())):(zc(this.j,this.m,d,null),Ry(this,d)),4==S&&Dd(this),this.i&&!this.I&&(4==S?Qy(this.l,this):(this.i=!1,wd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Yi(12)):(this.o=0,Yi(13)),Dd(this),Yc(this)}}}catch(S){}},ot.fb=function(){if(this.g){var n=Ao(this.g),e=this.g.ga();this.C<e.length&&(Cd(this),xy(this,n,e),this.i&&4!=n&&wd(this))}},ot.cancel=function(){this.I=!0,Dd(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(If(3),Yi(17)),Dd(this),this.o=2,Yc(this)):ww(this,this.Y-n)},(ot=Qc.prototype).R=function(){Oy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return Oy(this),this.g.concat()},ot.get=function(n,e){return Bl(this.h,n)?this.h[n]:e},ot.set=function(n,e){Bl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var ky=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Xc){this.g=void 0!==e?e:n.g,Ug(this,n.j),this.s=n.s,Tf(this,n.i),Sf(this,n.m),this.l=n.l,e=n.h;var t=new $g;t.i=e.i,e.g&&(t.g=new Qc(e.g),t.h=e.h),Py(this,t),this.o=n.o}else n&&(t=String(n).match(ky))?(this.g=!!e,Ug(this,t[1]||"",!0),this.s=Id(t[2]||""),Tf(this,t[3]||"",!0),Sf(this,t[4]),this.l=Id(t[5]||"",!0),Py(this,t[6]||"",!0),this.o=Id(t[7]||"")):(this.g=!!e,this.h=new $g(null,this.g))}function oa(n){return new Xc(n)}function Ug(n,e,t){n.j=t?Id(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tf(n,e,t){n.i=t?Id(e,!0):e}function Sf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Py(n,e,t){e instanceof $g?(n.h=e,function pT(n,e){e&&!n.j&&(So(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fT(this,r),Jc(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Hg(e,OR)),n.h=new $g(e,n.g))}function Hn(n,e,t){n.h.set(e,t)}function jg(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Id(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,MR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hg(e,hT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hg(e,hT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hg(t,"/"==t.charAt(0)?RR:xR,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hg(t,kR)),n.join("")};var hT=/[#\/\?@]/g,xR=/[#\?:]/g,RR=/[#\?]/g,OR=/[#\?@]/g,kR=/#/g;function $g(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function So(n){n.g||(n.g=new Qc,n.h=0,n.i&&function uT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fT(n,e){So(n),e=eu(n,e),Bl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Bl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Oy(n)))}function Gg(n,e){return So(n),e=eu(n,e),Bl(n.g.h,e)}function Jc(n,e,t){fT(n,e),0<t.length&&(n.i=null,n.g.set(eu(n,e),bg(t)),n.h+=t.length)}function eu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qg(n){this.l=n||Cw,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=$g.prototype).add=function(n,e){So(this),this.i=null,n=eu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){So(this),this.g.forEach(function(t,r){WE(t,function(i){n.call(e,i,r,this)},this)},this)},ot.T=function(){So(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},ot.R=function(n){So(this);var e=[];if("string"==typeof n)Gg(this,n)&&(e=cy(e,this.g.get(eu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cy(e,n[t])}return e},ot.set=function(n,e){return So(this),this.i=null,Gg(this,n=eu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var Cw=10;function Ny(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fy(n){return n.h?1:n.g?n.g.size:0}function Dw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Zg(n,e){n.g?n.g.add(e):n.h=e}function Af(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ly(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bg(n.i)}function Iw(){}function PR(){this.g=new Iw}function NR(n,e,t){const r=t||"";try{Bg(n,function(i,l){let d=i;hf(i)&&(d=yy(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Td(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Mf(n){this.l=n.$b||null,this.j=n.ib||!1}function Vy(n,e){Mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=By,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qg.prototype.cancel=function(){if(this.i=Ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Iw.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},Iw.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},_i(Mf,_w),Mf.prototype.g=function(){return new Vy(this.l,this.j)},Mf.prototype.i=function(n){return function(){return n}}({}),_i(Vy,Mr);var By=0;function zg(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function xf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yi(n)}function yi(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Vy.prototype).open=function(n,e){if(this.readyState!=By)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yi(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xf(this)),this.readyState=By},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zg(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xf(this):yi(this),3==this.readyState&&zg(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,xf(this))},ot.Ta=function(n){this.g&&(this.response=n,xf(this))},ot.ha=function(){this.g&&xf(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _T=Lt.JSON.parse;function ar(n){Mr.call(this),this.headers=new Qc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tw,this.K=this.L=!1}_i(ar,Mr);var Tw="",yT=/^https?$/i,Uy=["POST","PUT"];function Aw(n){return"content-type"==n.toLowerCase()}function Mw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jy(n),Wg(n)}function jy(n){n.D||(n.D=!0,vr(n,"complete"),vr(n,"error"))}function Hy(n){if(n.h&&void 0!==ly&&(!n.C[1]||4!=Ao(n)||2!=n.ba()))if(n.v&&4==Ao(n))Cf(n.Fa,0,n);else if(vr(n,"readystatechange"),4==Ao(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(ky)[1]||null;if(!i&&Lt.self&&Lt.self.location){var l=Lt.self.location.protocol;i=l.substr(0,l.length-1)}r=!yT.test(i?i.toLowerCase():"")}t=r}if(t)vr(n,"complete"),vr(n,"success");else{n.m=6;try{var d=2<Ao(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",jy(n)}}finally{Wg(n)}}}function Wg(n,e){if(n.g){xw(n);const t=n.g,r=n.C[0]?yg:null;n.g=null,n.C=null,e||vr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function xw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function Ao(n){return n.g?n.g.readyState:0}function Ws(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function vT(n){let e="";return hy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function Rf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $y(n){this.za=0,this.l=[],this.h=new Pg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rf("baseRetryDelayMs",5e3,n),this.$a=Rf("retryDelaySeedMs",1e4,n),this.Ya=Rf("forwardChannelMaxRetries",2,n),this.ra=Rf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qg(n&&n.concurrentRequestLimit),this.Ca=new PR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Gy(n){if(qy(n),3==n.G){var e=n.V++,t=oa(n.F);Hn(t,"SID",n.J),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),Of(n,t),(e=new Kc(n,n.h,e,void 0)).K=2,e.v=jg(oa(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ET(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wd(e)}Pw(n)}function Kg(n){n.g&&(kf(n),n.g.cancel(),n.g=null)}function qy(n){Kg(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),Yg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function Zy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&zy(n)}function zy(n){Ny(n.i)||n.m||(n.m=!0,Rg(n.Ha,n),n.C=0)}function Wy(n,e){var t;t=e?e.m:n.V++;const r=oa(n.F);Hn(r,"SID",n.J),Hn(r,"RID",t),Hn(r,"AID",n.U),Of(n,r),n.o&&n.s&&Rw(r,n.o,n.s),t=new Kc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=kw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Zg(n.i,t),bw(t,r,e)}function Of(n,e){n.j&&Bg({},function(t,r){Hn(e,r,t)})}function kw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?or(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const S=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),f=!1;else try{NR(S,d,"req"+w+"_")}catch(R){r&&r(S)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ky(n){n.g||n.u||(n.Y=1,Rg(n.Ga,n),n.A=0)}function tu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=sa(or(n.Ga,n),Xy(n,n.A)),n.A++,0))}function kf(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Yy(n){n.g=new Kc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=oa(n.oa);Hn(e,"RID","rpc"),Hn(e,"SID",n.J),Hn(e,"CI",n.N?"0":"1"),Hn(e,"AID",n.U),Of(n,e),Hn(e,"TYPE","xmlhttp"),n.o&&n.s&&Rw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=jg(oa(e)),t.s=null,t.U=!0,My(t,n)}function Yg(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function Qy(n,e){var t=null;if(n.g==e){Yg(n),kf(n),n.g=null;var r=2}else{if(!Dw(n.i,e))return;t=e.D,Af(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;vr(r=Df(),new Oi(r,t,e,i)),zy(n)}else Ky(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ow(n,e){return!(Fy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=sa(or(n.Ha,n,e),Xy(n,n.C)),n.C++,0)))}(n,e)||2==r&&tu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:nu(n,5);break;case 4:nu(n,10);break;case 3:nu(n,6);break;default:nu(n,2)}}function Xy(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function nu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=or(n.jb,n);t||(t=new Xc("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Ug(t,"https"),jg(t)),function mT(n,e){const t=new Pg;if(Lt.Image){const r=new Image;r.onload=Fl(Td,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fl(Td,t,r,"TestLoadImage: error",!1,e),r.onabort=Fl(Td,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fl(Td,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Yi(2);n.G=0,n.j&&n.j.va(e),Pw(n),qy(n)}function Pw(n){n.G=0,n.I=-1,n.j&&((0!=Ly(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bg(n.l),n.l.length=0),n.j.ua())}function bT(n,e,t){let r=function dT(n){return n instanceof Xc?oa(n):new Xc(n,void 0)}(t);if(""!=r.i)e&&Tf(r,e+"."+r.i),Sf(r,r.m);else{const i=Lt.location;r=function AR(n,e,t,r){var i=new Xc(null,void 0);return n&&Ug(i,n),e&&Tf(i,e),t&&Sf(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&hy(n.aa,function(i,l){Hn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Hn(r,e,t),Hn(r,"VER",n.ma),Of(n,r),r}function ET(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ba&&!n.qa?new Mf({ib:!0}):n.qa)).L=n.H,e}function Jy(){}function Qg(){if(To&&!(10<=Number(eT)))throw Error("Environmental error: no available transport.")}function Cs(n,e){Mr.call(this),this.g=new $y(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!_d(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_d(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Pf(this)}function Nw(n){Ty.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wT(){Fg.call(this),this.status=1}function Pf(n){this.g=n}(ot=ar.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sy.g(),this.C=function vd(n){return n.h||(n.h=n.i())}(this.u?this.u:Sy),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Mw(this,l)}n=t||"";const i=new Qc(this.headers);r&&Bg(r,function(l,d){i.set(d,l)}),r=function KI(n){e:{var e=Aw;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Lt.FormData&&n instanceof Lt.FormData,!(0<=zE(Uy,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xw(this),0<this.B&&((this.K=function Sw(n){return To&&function JI(){return function YI(n){var e=gy;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=pf(String(py)).split("."),t=pf("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=uy(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||uy(0==i[2].length,0==l[2].length)||uy(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=Cf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Mw(this,l)}},ot.pa=function(){void 0!==ly&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vr(this,"complete"),vr(this,"abort"),Wg(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),ar.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?Hy(this):this.cb())},ot.cb=function(){Hy(this)},ot.ba=function(){try{return 2<Ao(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_T(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=$y.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Kc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=YE(l),QE(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kw(this,i,e),Hn(t=oa(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),Of(this,t),this.o&&l&&Rw(t,this.o,l),Zg(this.i,i),this.Ra&&Hn(t,"TYPE","init"),this.ja?(Hn(t,"$req",e),Hn(t,"SID","null"),i.$=!0,bw(i,t,null)):bw(i,t,e),this.G=2}}else 3==this.G&&(n?Wy(this,n):0==this.l.length||Ny(this.i)||Wy(this))},ot.Ga=function(){if(this.u=null,Yy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=sa(or(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yi(10),Kg(this),Yy(this))},ot.ab=function(){null!=this.v&&(this.v=null,Kg(this),tu(this),Yi(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Yi(2)):(this.h.info("Failed to ping google.com"),Yi(1))},(ot=Jy.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},Qg.prototype.g=function(n,e){return new Cs(n,e)},_i(Cs,Mr),Cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Rg(or(n.hb,n,e))),Yi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=bT(n,null,n.W),zy(n)},Cs.prototype.close=function(){Gy(this.g)},Cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Zy(this.g,e)}else this.v?((e={}).__data__=yy(n),Zy(this.g,e)):Zy(this.g,n)},Cs.prototype.M=function(){this.g.j=null,delete this.j,Gy(this.g),delete this.g,Cs.Z.M.call(this)},_i(Nw,Ty),_i(wT,Fg),_i(Pf,Jy),Pf.prototype.xa=function(){vr(this.g,"a")},Pf.prototype.wa=function(n){vr(this.g,new Nw(n))},Pf.prototype.va=function(n){vr(this.g,new wT(n))},Pf.prototype.ua=function(){vr(this.g,"b")},Qg.prototype.createWebChannel=Qg.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Ng.NO_ERROR=0,Ng.TIMEOUT=8,Ng.HTTP_ERROR=6,mw.COMPLETE="complete",yw.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",Mr.prototype.listen=Mr.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var FR=tl.createWebChannelTransport=function(){return new Qg},LR=tl.getStatEventTarget=function(){return Df()},Fw=tl.ErrorCode=Ng,CT=tl.EventType=mw,Xg=tl.Event=Vl,Lw=tl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DT=tl.FetchXmlHttpFactory=Mf,Nf=tl.WebChannel=yw,ru=tl.XhrIo=ar;const ev="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let Ul="9.6.7";const jl=new el.Yd("@firebase/firestore");function Ff(){return jl.logLevel}function je(n,...e){if(jl.logLevel<=el.in.DEBUG){const t=e.map(Vw);jl.debug(`Firestore (${Ul}): ${n}`,...t)}}function br(n,...e){if(jl.logLevel<=el.in.ERROR){const t=e.map(Vw);jl.error(`Firestore (${Ul}): ${n}`,...t)}}function Jg(n,...e){if(jl.logLevel<=el.in.WARN){const t=e.map(Vw);jl.warn(`Firestore (${Ul}): ${n}`,...t)}}function Vw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function vt(n="Unexpected state"){const e=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: `+n;throw br(e),new Error(e)}function Vt(n,e){n||vt()}function et(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Br.UNAUTHENTICATED))}shutdown(){}}class TT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uw{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Wr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,De.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Wr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new Bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new Br(e)}}class jw{constructor(e,t,r){this.type="FirstParty",this.user=Br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Hw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new jw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ST{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,je("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.p=t.token,new $w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ki{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function BR(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ki.A=-1;class nv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BR(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function Sd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Gw(n){return n+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Kr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function MT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function iu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Lf{constructor(e,t,r){void 0===t?t=0:t>e.length&&vt(),void 0===r?r=e.length-t:r>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Lf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Lf{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const xT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends Lf{construct(e,t,r){return new Yr(e,t,r)}static isValidIdentifier(e){return xT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class Ad{constructor(e){this.fields=e,e.sort(Yr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=UR.exec(n);if(Vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Er(n.seconds),nanos:Er(n.nanos)}}function Er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Md(n){return"string"==typeof n?Qr.fromBase64String(n):Qr.fromUint8Array(n)}function rv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OT(n){const e=n.mapValue.fields.__previous_value__;return rv(e)?OT(e):e}function em(n){const e=su(n.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}class jR{constructor(e,t,r,i,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class xd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}function s(n){return null==n}function o(n){return 0===n&&1/n==-1/0}function a(n){return"number"==typeof n&&Number.isInteger(n)&&!o(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class c{constructor(e){this.path=e}static fromPath(e){return new c(cn.fromString(e))}static fromName(e){return new c(cn.fromString(e).popFirst(5))}static empty(){return new c(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new c(new cn(e.slice()))}}const h={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function g(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rv(n)?4:10:vt()}function y(n,e){if(n===e)return!0;const t=g(n);if(t!==g(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return em(n).isEqual(em(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=su(r.timestampValue),d=su(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Md(n.bytesValue).isEqual(Md(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Er(r.geoPointValue.latitude)===Er(i.geoPointValue.latitude)&&Er(r.geoPointValue.longitude)===Er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Er(r.integerValue)===Er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Er(r.doubleValue),d=Er(i.doubleValue);return l===d?o(l)===o(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Sd(n.arrayValue.values||[],e.arrayValue.values||[],y);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(MT(l)!==MT(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!y(l[f],d[f])))return!1;return!0}(n,e);default:return vt()}var i}function E(n,e){return void 0!==(n.values||[]).find(t=>y(t,e))}function C(n,e){if(n===e)return 0;const t=g(n),r=g(e);if(t!==r)return zt(t,r);switch(t){case 0:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Er(i.integerValue||i.doubleValue),f=Er(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return T(n.timestampValue,e.timestampValue);case 4:return T(em(n),em(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Md(i),f=Md(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=zt(d[_],f[_]);if(0!==w)return w}return zt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=zt(Er(i.latitude),Er(l.latitude));return 0!==d?d:zt(Er(i.longitude),Er(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=C(d[_],f[_]);if(w)return w}return zt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},f=Object.keys(d),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let S=0;S<f.length&&S<w.length;++S){const R=zt(f[S],w[S]);if(0!==R)return R;const L=C(d[f[S]],_[w[S]]);if(0!==L)return L}return zt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw vt()}}function T(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=su(n),r=su(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function x(n){return F(n)}function F(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=su(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Md(n.bytesValue).toBase64():"referenceValue"in n?c.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=F(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${F(r.fields[f])}`;return l+"}"}(n.mapValue):vt();var e}function $(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ee(n){return!!n&&"integerValue"in n}function ve(n){return!!n&&"arrayValue"in n}function He(n){return!!n&&"nullValue"in n}function We(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function st(n){return!!n&&"mapValue"in n}function Re(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return iu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Re(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Re(n.arrayValue.values[t]);return e}return Object.assign({},n)}class rt{constructor(e){this.value=e}static empty(){return new rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!st(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Re(t)}setAll(e){let t=Yr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Re(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());st(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return y(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];st(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){iu(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new rt(Re(this.value))}}function Yt(n){const e=[];return iu(n.fields,(t,r)=>{const i=new Yr([t]);if(st(r)){const l=Yt(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Ad(e)}class Tt{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Tt(e,0,Rt.min(),Rt.min(),rt.empty(),0)}static newFoundDocument(e,t,r){return new Tt(e,1,t,Rt.min(),r,0)}static newNoDocument(e,t){return new Tt(e,2,t,Rt.min(),rt.empty(),0)}static newUnknownDocument(e,t){return new Tt(e,3,t,Rt.min(),rt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Qi=(()=>{class n{constructor(t,r,i,l){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=l}}return n.UNKNOWN_ID=-1,n})();class aa{constructor(e,t){this.fieldPath=e,this.kind=t}}class ou{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ou(0,Rd.min())}}class Rd{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rd(Rt.min(),c.empty(),-1)}}class iv{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.P=null}}function tm(n,e=null,t=[],r=[],i=null,l=null,d=null){return new iv(n,e,t,r,i,l,d)}function au(n){const e=et(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+x(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),s(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>x(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>x(r)).join(",")),e.P=t}return e.P}function Od(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!U1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!y(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GR(n.startAt,e.startAt)&&GR(n.endAt,e.endAt)}function kd(n){return c.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class vi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new k1(e,t,r):"array-contains"===t?new F1(e,r):"in"===t?new L1(e,r):"not-in"===t?new V1(e,r):"array-contains-any"===t?new B1(e,r):new vi(e,t,r)}static v(e,t,r){return"in"===t?new P1(e,r):new N1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(C(t,this.value)):null!==t&&g(this.value)===g(t)&&this.V(C(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class k1 extends vi{constructor(e,t,r){super(e,t,r),this.key=c.fromName(r.referenceValue)}matches(e){const t=c.comparator(e.key,this.key);return this.V(t)}}class P1 extends vi{constructor(e,t){super(e,"in",t),this.keys=HR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class N1 extends vi{constructor(e,t){super(e,"not-in",t),this.keys=HR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>c.fromName(r.referenceValue))}class F1 extends vi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ve(t)&&E(t.arrayValue,this.value)}}class L1 extends vi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&E(this.value.arrayValue,t)}}class V1 extends vi{constructor(e,t){super(e,"not-in",t)}matches(e){if(E(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!E(this.value.arrayValue,t)}}class B1 extends vi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ve(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>E(this.value.arrayValue,r))}}class nm{constructor(e,t){this.position=e,this.inclusive=t}}class rm{constructor(e,t="asc"){this.field=e,this.dir=t}}function U1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function $R(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?c.comparator(c.fromName(d.referenceValue),t.key):C(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function GR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!y(n.position[t],e.position[t]))return!1;return!0}class lu{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function qR(n,e,t,r,i,l,d,f){return new lu(n,e,t,r,i,l,d,f)}function im(n){return new lu(n)}function Zw(n){return!s(n.limit)&&"F"===n.limitType}function zw(n){return!s(n.limit)&&"L"===n.limitType}function kT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PT(n){for(const e of n.filters)if(e.S())return e.field;return null}function NT(n){return null!==n.collectionGroup}function sm(n){const e=et(n);if(null===e.D){e.D=[];const t=PT(e),r=kT(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new rm(t)),e.D.push(new rm(Yr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new rm(Yr.keyField(),l))}}}return e.D}function la(n){const e=et(n);if(!e.C)if("F"===e.limitType)e.C=tm(e.path,e.collectionGroup,sm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of sm(e))t.push(new rm(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new nm(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new nm(e.startAt.position,!e.startAt.inclusive):null;e.C=tm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function ZR(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ov(n,e){return Od(la(n),la(e))&&n.limitType===e.limitType}function zR(n){return`${au(la(n))}|lt:${n.limitType}`}function FT(n){return`Query(target=${function sv(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${x(r.value)}`;var r}).join(", ")}]`),s(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>x(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>x(t)).join(",")),`Target(${e})`}(la(n))}; limitType=${n.limitType})`}function LT(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):c.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const f=$R(i,l,d);return i.inclusive?f<=0:f<0}(t.startAt,sm(t),r)||t.endAt&&!function(i,l,d){const f=$R(i,l,d);return i.inclusive?f>=0:f>0}(t.endAt,sm(t),r)));var t,r}function WR(n){return(e,t)=>{let r=!1;for(const i of sm(n)){const l=j1(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function j1(n,e,t){const r=n.field.isKeyField()?c.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),_=d.data.field(i);return null!==f&&null!==_?C(f,_):vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}function KR(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o(e)?"-0":e}}function YR(n){return{integerValue:""+n}}function QR(n,e){return a(e)?YR(e):KR(n,e)}class Ww{constructor(){this._=void 0}}function H1(n,e,t){return n instanceof om?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Vf?JR(n,e):n instanceof Bf?eO(n,e):function(r,i){const l=XR(r,i),d=tO(l)+tO(r.k);return ee(l)&&ee(r.k)?YR(d):KR(r.O,d)}(n,e)}function $1(n,e,t){return n instanceof Vf?JR(n,e):n instanceof Bf?eO(n,e):t}function XR(n,e){return n instanceof am?ee(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class om extends Ww{}class Vf extends Ww{constructor(e){super(),this.elements=e}}function JR(n,e){const t=nO(e);for(const r of n.elements)t.some(i=>y(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bf extends Ww{constructor(e){super(),this.elements=e}}function eO(n,e){let t=nO(e);for(const r of n.elements)t=t.filter(i=>!y(i,r));return{arrayValue:{values:t}}}class am extends Ww{constructor(e,t){super(),this.O=e,this.k=t}}function tO(n){return Er(n.integerValue||n.doubleValue)}function nO(n){return ve(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class av{constructor(e,t){this.field=e,this.transform=t}}class q1{constructor(e,t){this.version=e,this.transformResults=t}}class Xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yw{}function Z1(n,e,t){n instanceof lv?function(r,i,l){const d=r.value.clone(),f=oO(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Uf?function(r,i,l){if(!Kw(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=oO(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(sO(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function VT(n,e,t){var i;n instanceof lv?function(r,i,l){if(!Kw(r.precondition,i))return;const d=r.value.clone(),f=aO(r.fieldTransforms,l,i);d.setAll(f),i.convertToFoundDocument(iO(i),d).setHasLocalMutations()}(n,e,t):n instanceof Uf?function(r,i,l){if(!Kw(r.precondition,i))return;const d=aO(r.fieldTransforms,l,i),f=i.data;f.setAll(sO(r)),f.setAll(d),i.convertToFoundDocument(iO(i),f).setHasLocalMutations()}(n,e,t):Kw(n.precondition,i=e)&&i.convertToNoDocument(Rt.min())}function z1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=XR(r.transform,i||null);null!=l&&(null==t&&(t=rt.empty()),t.set(r.field,l))}return t||null}function rO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Sd(t,r,(i,l)=>function G1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vf&&r instanceof Vf||t instanceof Bf&&r instanceof Bf?Sd(t.elements,r.elements,y):t instanceof am&&r instanceof am?y(t.k,r.k):t instanceof om&&r instanceof om);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function iO(n){return n.isFoundDocument()?n.version:Rt.min()}class lv extends Yw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Uf extends Yw{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function sO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oO(n,e,t){const r=new Map;Vt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,$1(d,f,t[i]))}return r}function aO(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,H1(l,d,e))}return r}class cv extends Yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class BT extends Yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class W1{constructor(e){this.count=e}}var Jr,un;function lO(n){switch(n){default:return vt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function cO(n){if(void 0===n)return br("GRPC error has no .code"),he.UNKNOWN;switch(n){case Jr.OK:return he.OK;case Jr.CANCELLED:return he.CANCELLED;case Jr.UNKNOWN:return he.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return he.INTERNAL;case Jr.UNAVAILABLE:return he.UNAVAILABLE;case Jr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Jr.NOT_FOUND:return he.NOT_FOUND;case Jr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Jr.ABORTED:return he.ABORTED;case Jr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Jr.DATA_LOSS:return he.DATA_LOSS;default:return vt()}}(un=Jr||(Jr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Ur{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qw(this.root,e,this.comparator,!0)}}class Qw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Xi.RED,this.left=null!=i?i:Xi.EMPTY,this.right=null!=l?l:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Xi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uO(this.data.getIterator())}getIteratorFrom(e){return new uO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class uO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lm(n){return n.hasNext()?n.getNext():void 0}const K1=new Ur(c.comparator);function ca(){return K1}const Y1=new Ur(c.comparator);function UT(){return Y1}const Q1=new Ur(c.comparator),X1=new lr(c.comparator);function An(...n){let e=X1;for(const t of n)e=e.add(t);return e}const J1=new lr(zt);function Xw(){return J1}class uv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,dv.createSynthesizedTargetChangeForCurrentChange(e,t)),new uv(Rt.min(),r,Xw(),ca(),An())}}class dv{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new dv(Qr.EMPTY_BYTE_STRING,t,An(),An(),An())}}class Jw{constructor(e,t,r,i){this.M=e,this.removedTargetIds=t,this.key=r,this.$=i}}class dO{constructor(e,t){this.targetId=e,this.F=t}}class hO{constructor(e,t,r=Qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fO{constructor(){this.B=0,this.L=gO(),this.U=Qr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=An(),t=An(),r=An();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new dv(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=gO()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class eF{constructor(e){this.nt=e,this.st=new Map,this.it=ca(),this.rt=pO(),this.ot=new lr(zt)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.F.count,i=this.wt(t);if(i){const l=i.target;if(kd(l))if(0===r){const d=new c(l.path);this.at(t,d,Tt.newNoDocument(d,Rt.min()))}else Vt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const f=this.wt(d);if(f){if(l.current&&kd(f.target)){const _=new c(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.at(d,_,Tt.newNoDocument(_,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=An();this.rt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const i=new uv(e,t,this.ot,this.it,r);return this.it=ca(),this.rt=pO(),this.ot=new lr(zt),i}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new fO,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new lr(zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new fO),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function pO(){return new Ur(c.comparator)}function gO(){return new Ur(c.comparator)}const tF={asc:"ASCENDING",desc:"DESCENDING"},nF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rF{constructor(e,t){this.databaseId=e,this.N=t}}function hv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mO(n,e){return n.N?e.toBase64():e.toUint8Array()}function iF(n,e){return hv(n,e.toTimestamp())}function Pi(n){return Vt(!!n),Rt.fromTimestamp(function(e){const t=su(e);return new Kr(t.seconds,t.nanos)}(n))}function jT(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _O(n){const e=cn.fromString(n);return Vt(TO(e)),e}function fv(n,e){return jT(n.databaseId,e.path)}function Hl(n,e){const t=_O(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new c(vO(t))}function HT(n,e){return jT(n.databaseId,e)}function yO(n){const e=_O(n);return 4===e.length?cn.emptyPath():vO(e)}function pv(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vO(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bO(n,e,t){return{name:fv(n,e),fields:t.value.mapValue.fields}}function EO(n,e,t){const r=Hl(n,e.name),i=Pi(e.updateTime),l=new rt({mapValue:{fields:e.fields}}),d=Tt.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function gv(n,e){let t;if(e instanceof lv)t={update:bO(n,e.key,e.value)};else if(e instanceof cv)t={delete:fv(n,e.key)};else if(e instanceof Uf)t={update:bO(n,e.key,e.data),updateMask:fF(e.fieldMask)};else{if(!(e instanceof BT))return vt();t={verify:fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof om)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof am)return{fieldPath:l.field.canonicalString(),increment:d.k};throw vt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:iF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:vt()),t;var i}function $T(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xr.updateTime(Pi(i.updateTime)):void 0!==i.exists?Xr.exists(i.exists):Xr.none():Xr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),f=new om):"appendMissingElements"in d?f=new Vf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Bf(d.removeAllFromArray.values||[]):"increment"in d?f=new am(l,d.increment):vt();const _=Yr.fromServerFormat(d.fieldPath);return new av(_,f)}(n,i)):[];var i;if(e.update){const i=Hl(n,e.update.name),l=new rt({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ad((e.updateMask.fieldPaths||[]).map(w=>Yr.fromServerFormat(w)));return new Uf(i,l,d,t,r)}return new lv(i,l,t,r)}if(e.delete){const i=Hl(n,e.delete);return new cv(i,t)}if(e.verify){const i=Hl(n,e.verify);return new BT(i,t)}return vt()}function wO(n,e){return{documents:[HT(n,e.path)]}}function CO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(S=>function(R){if("=="===R.op){if(We(R.value))return{unaryFilter:{field:cm(R.field),op:"IS_NAN"}};if(He(R.value))return{unaryFilter:{field:cm(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(We(R.value))return{unaryFilter:{field:cm(R.field),op:"IS_NOT_NAN"}};if(He(R.value))return{unaryFilter:{field:cm(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cm(R.field),op:uF(R.op),value:R.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:cm((S=w).field),direction:cF(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.N||s(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function DO(n){let e=yO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=IO(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new rm(um((R=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(S){let R;return R="object"==typeof S?S.value:S,s(R)?null:R}(t.limit));let _=null;var S;t.startAt&&(_=new nm((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new nm(S.values||[],!S.before)}(t.endAt)),qR(e,i,d,l,f,"F",_,w)}function IO(n){return n?void 0!==n.unaryFilter?[hF(n)]:void 0!==n.fieldFilter?[dF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>IO(e)).reduce((e,t)=>e.concat(t)):vt():[]}function cF(n){return tF[n]}function uF(n){return nF[n]}function cm(n){return{fieldPath:n.canonicalString()}}function um(n){return Yr.fromServerFormat(n.fieldPath)}function dF(n){return vi.create(um(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function hF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=um(n.unaryFilter.field);return vi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=um(n.unaryFilter.field);return vi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=um(n.unaryFilter.field);return vi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=um(n.unaryFilter.field);return vi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function fF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SO(e)),e=pF(n.get(t),e);return SO(e)}function pF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function SO(n){return n+"\x01\x01"}function $l(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&vt(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:vt()}l=d+2}return new cn(r)}class gF{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Mo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Mo.store="owner",Mo.key="owner";class Pd{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Pd.store="mutationQueues",Pd.keyPath="userId";class Xn{constructor(e,t,r,i,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=l}}Xn.store="mutations",Xn.keyPath="batchId",Xn.userMutationsIndex="userMutationsIndex",Xn.userMutationsKeyPath=["userId","batchId"];class ds{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ni(t)]}static key(e,t,r){return[e,Ni(t),r]}}ds.store="documentMutations",ds.PLACEHOLDER=new ds;class mF{constructor(e,t){this.path=e,this.readTime=t}}class _F{constructor(e,t){this.path=e,this.version=t}}class xr{constructor(e,t,r,i,l,d){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=l,this.parentPath=d}}xr.store="remoteDocuments",xr.readTimeIndex="readTimeIndex",xr.readTimeIndexPath="readTime",xr.collectionReadTimeIndex="collectionReadTimeIndex",xr.collectionReadTimeIndexPath=["parentPath","readTime"];class Gl{constructor(e){this.byteSize=e}}Gl.store="remoteDocumentGlobal",Gl.key="remoteDocumentGlobalKey";class Ks{constructor(e,t,r,i,l,d,f){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=d,this.query=f}}Ks.store="targets",Ks.keyPath="targetId",Ks.queryTargetsIndexName="queryTargetsIndex",Ks.queryTargetsKeyPath=["canonicalId","targetId"];class Ji{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ji.store="targetDocuments",Ji.keyPath=["targetId","path"],Ji.documentTargetsIndex="documentTargetsIndex",Ji.documentTargetsKeyPath=["path","targetId"];class xo{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}xo.key="targetGlobalKey",xo.store="targetGlobal";class jf{constructor(e,t){this.collectionId=e,this.parent=t}}jf.store="collectionParents",jf.keyPath=["collectionId","parent"];class cu{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}cu.store="clientMetadata",cu.keyPath="clientId";class dm{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}dm.store="bundles",dm.keyPath="bundleId";class hm{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}hm.store="namedQueries",hm.keyPath="name";class Ro{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}Ro.store="indexConfiguration",Ro.keyPath="indexId",Ro.collectionGroupIndex="collectionGroupIndex",Ro.collectionGroupIndexPath="collectionGroup";class ua{constructor(e,t,r,i,l,d){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=i,this.documentKey=l,this.largestBatchId=d}}ua.store="indexState",ua.keyPath=["indexId","uid"],ua.sequenceNumberIndex="sequenceNumberIndex",ua.sequenceNumberIndexPath=["uid","sequenceNumber"];class da{constructor(e,t,r,i,l){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=i,this.documentKey=l}}da.store="indexEntries",da.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],da.documentKeyIndex="documentKeyIndex",da.documentKeyIndexPath=["indexId","uid","documentKey"];class Fi{constructor(e,t,r,i,l,d){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=i,this.largestBatchId=l,this.overlayMutation=d}}Fi.store="documentOverlays",Fi.keyPath=["userId","collectionPath","documentId"],Fi.collectionPathOverlayIndex="collectionPathOverlayIndex",Fi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Fi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Fi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const AO=[Pd.store,Xn.store,ds.store,xr.store,Ks.store,Mo.store,xo.store,Ji.store,cu.store,Gl.store,jf.store,dm.store,hm.store],MO=[...AO,Fi.store],yF=[...MO,Ro.store,ua.store,da.store],xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(i=>i?we.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class e0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new mv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=GT(r.target.error);this.At.reject(new mv(e,i))}}static open(e,t,r,i){try{return new e0(t,e.transaction(i,r))}catch(l){throw new mv(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bF(t)}}class nl{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===nl.vt((0,$t.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),$f(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,$t.hl)())return!1;if(nl.St())return!0;const e=(0,$t.z$)(),t=nl.vt(e),r=0<t&&t<10,i=nl.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,De.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new mv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Ne(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ne(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new mv(e,f))},l.onupgradeneeded=d=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,De.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.xt(e);const _=e0.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(S=>(_.Pt(),S)).catch(S=>(_.abort(S),we.reject(S))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(je("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class vF{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return $f(this.$t.delete())}}class mv extends Ne{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hf(n){return"IndexedDbTransactionError"===n.name}class bF{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$f(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),$f(this.store.add(e))}get(e){return $f(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),$f(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),$f(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(d,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new we((l,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}Gt(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,d,f)=>f.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}Wt(e){const t=this.cursor({});return new we((r,i)=>{t.onerror=l=>{const d=GT(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new we((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new vF(f),w=t(f.primaryKey,f.value,_);if(w instanceof we){const S=w.catch(R=>(_.done(),we.reject(R)));r.push(S)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $f(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=GT(r.target.error);t(i)}})}let OO=!1;function GT(n){const e=nl.vt((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OO||(OO=!0,setTimeout(()=>{throw r},0)),r}}return n}class kO extends RO{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function Li(n,e){const t=et(n);return nl.Nt(t.zt,e)}class qT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&Z1(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&VT(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&VT(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Sd(this.mutations,e.mutations,(t,r)=>rO(t,r))&&Sd(this.baseMutations,e.baseMutations,(t,r)=>rO(t,r))}}class ZT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Vt(e.mutations.length===r.length);let i=Q1;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new ZT(e,t,r,i)}}class zT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nd{constructor(e,t,r,i,l=Rt.min(),d=Rt.min(),f=Qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Nd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PO{constructor(e){this.Ht=e}}function NO(n,e){let t;if(e.document)t=EO(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=c.fromSegments(e.noDocument.path),i=qf(e.noDocument.readTime);t=Tt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const r=c.fromSegments(e.unknownDocument.path),i=qf(e.unknownDocument.version);t=Tt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(KT(e.readTime)),t}function FO(n,e){const t=WT(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const i={name:fv(d=n.Ht,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:hv(d,f.version.toTimestamp())};return new xr(null,null,i,e.hasCommittedMutations,t,r)}var d,f;if(e.isNoDocument()){const i=e.key.path.toArray(),l=Gf(e.version),d=e.hasCommittedMutations;return new xr(null,new mF(i,l),null,d,t,r)}if(e.isUnknownDocument()){const i=e.key.path.toArray(),l=Gf(e.version);return new xr(new _F(i,l),null,null,!0,t,r)}return vt()}function WT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function KT(n){const e=new Kr(n[0],n[1]);return Rt.fromTimestamp(e)}function Gf(n){const e=n.toTimestamp();return new gF(e.seconds,e.nanoseconds)}function qf(n){const e=new Kr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function fm(n,e){const t=(e.baseMutations||[]).map(l=>$T(n.Ht,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>$T(n.Ht,l)),i=Kr.fromMillis(e.localWriteTimeMs);return new qT(e.batchId,i,t,r)}function _v(n){const e=qf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qf(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(Vt(1===(i=n.query).documents.length),r=la(im(yO(i.documents[0])))):r=la(DO(n.query)),new Nd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Qr.fromBase64String(n.resumeToken))}function LO(n,e){const t=Gf(e.snapshotVersion),r=Gf(e.lastLimboFreeSnapshotVersion);let i;i=kd(e.target)?wO(n.Ht,e.target):CO(n.Ht,e.target);const l=e.resumeToken.toBase64();return new Ks(e.targetId,au(e.target),t,l,e.sequenceNumber,r,i)}function YT(n){const e=DO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZR(e,e.limit,"L"):e}function QT(n,e){return new zT(e.largestBatchId,$T(n.Ht,e.overlayMutation))}function VO(n,e){const t=e.path.lastSegment();return[n,Ni(e.path.popLast()),t]}class EF{getBundleMetadata(e,t){return BO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return BO(e).put({bundleId:(r=t).id,createTime:Gf(Pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return UO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:YT(i.bundledQuery),readTime:qf(i.readTime)};var i})}saveNamedQuery(e,t){return UO(e).put({name:(r=t).name,readTime:Gf(Pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function BO(n){return Li(n,dm.store)}function UO(n){return Li(n,hm.store)}class XT{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new XT(e,t.uid||"")}getOverlay(e,t){return yv(e).get(VO(this.userId,t)).next(r=>r?QT(this.O,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach(l=>{const d=new zT(t,l);i.push(this.Yt(e,d))}),we.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ni(d.getCollectionPath())));const l=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(yv(e).Gt(Fi.collectionPathOverlayIndex,f))}),we.waitFor(l)}getOverlaysForCollection(e,t,r){const i=new Map,l=Ni(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return yv(e).qt(Fi.collectionPathOverlayIndex,d).next(f=>{for(const _ of f){const w=QT(this.O,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=new Map;let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yv(e).Qt({index:Fi.collectionGroupOverlayIndex,range:f},(_,w,S)=>{const R=QT(this.O,w);l.size<i||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):S.done()}).next(()=>l)}Yt(e,t){return yv(e).put(function(r,i,l){const[d,f,_]=VO(i,l.mutation.key);return new Fi(i,f,_,l.mutation.key.getCollectionGroup(),l.largestBatchId,gv(r.Ht,l.mutation))}(this.O,this.userId,t))}}function yv(n){return Li(n,Fi.store)}class t0{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Er(e.integerValue));else if("doubleValue"in e){const r=Er(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),o(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Md(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?y(e,h)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):vt()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const i of Object.keys(r))this.ie(i,t),this.Zt(r[i],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const i of r)this.Zt(i,t)}ce(e,t){this.ee(t,37),c.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function wF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function jO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=wF(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}t0.le=new t0;class CF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const i=t.codePointAt(0);this.de(240|i>>>18),this.de(128|63&i>>>12),this.de(128|63&i>>>6),this.de(128|63&i)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const i=t.codePointAt(0);this.me(240|i>>>18),this.me(128|63&i>>>12),this.me(128|63&i>>>6),this.me(128|63&i)}}this.ge()}Ie(e){const t=this.Ee(e),r=jO(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ae(e){const t=this.Ee(e),r=jO(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class DF{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class IF{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class HO{constructor(){this.Se=new CF,this.De=new DF(this.Se),this.Ce=new IF(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class JT{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}}function eS(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=c.comparator(n.documentKey,e.documentKey),0!==t?t:(t=$O(n.arrayValue,e.arrayValue),0!==t?t:$O(n.directionalValue,e.directionalValue)))}function $O(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TF{constructor(){this.xe=new tS}addToCollectionParentIndex(e,t){return this.xe.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t,r){return we.resolve(An())}getFieldIndex(e,t){return we.resolve(null)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class tS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lr(cn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(cn.comparator)).toArray()}}class SF{constructor(e){this.user=e,this.ke=new tS,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const l={collectionId:r,parent:Ni(i)};return GO(e).put(l)}return we.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Gw(t),""],!1,!0);return GO(e).qt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push($l(d.parent))}return r})}addFieldIndex(e,t){const r=r0(e),i=new Ro((l=t).indexId,l.collectionGroup,l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind]));var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=r0(e),i=s0(e),l=n0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return we.resolve(An())}getFieldIndex(e,t){return we.resolve(null)}Oe(e,t){const r=new HO;for(const i of e.fields.filter(d=>2!==d.kind)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.Ne(i.kind);t0.le.Xt(l,d)}return r.Ve()}Me(e){const t=new HO;return t0.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=r0(e),i=s0(e);return(t?r.qt(Ro.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return we.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,S){const R=S?new ou(S.sequenceNumber,new Rd(qf(S.readTime),new c($l(S.documentKey)),S.largestBatchId)):ou.empty(),L=w.fields.map(([q,X])=>new aa(Yr.fromServerFormat(q),X));return new Qi(w.indexId,w.collectionGroup,L,R)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>r.indexState.sequenceNumber-i.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=r0(e),l=s0(e);return this.$e(e).next(d=>i.qt(Ro.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(f=>we.forEach(f,_=>{return l.put(new ua(_.indexId,this.user.uid||"",d,Gf((L=r).readTime),Ni(L.documentKey.path),L.largestBatchId));var L})))}updateIndexEntries(e,t){const r=new Map;return we.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?we.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),we.forEach(f,_=>this.Fe(e,i,_).next(w=>{const S=this.Be(l,_);return w.isEqual(S)?we.resolve():this.Le(e,l,w,S)}))))})}Ue(e,t,r){return n0(e).put(new da(r.indexId,this.uid,r.arrayValue,r.directionalValue,Ni(t.key.path)))}qe(e,t,r){return n0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Ni(t.key.path)])}Fe(e,t,r){const i=n0(e);let l=new lr(eS);return i.Qt({index:da.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,Ni(t.path)])},(d,f)=>{l=l.add(new JT(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}Be(e,t){let r=new lr(eS);const i=this.Oe(t,e);if(null==i)return r;const l=t.fields.find(f=>2===f.kind);if(null!=l){const d=e.data.field(l.fieldPath);if(ve(d))for(const f of d.arrayValue.values||[])r=r.add(new JT(t.indexId,e.key,this.Me(f),i))}else r=r.add(new JT(t.indexId,e.key,new Uint8Array,i));return r}Le(e,t,r,i){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,_,w,S){const R=d.getIterator(),L=f.getIterator();let q=lm(R),X=lm(L);for(;q||X;){let fe=!1,Fe=!1;if(q&&X){const gt=_(q,X);gt<0?Fe=!0:gt>0&&(fe=!0)}else null!=q?Fe=!0:fe=!0;fe?(w(X),X=lm(L)):Fe?(S(q),q=lm(R)):(q=lm(R),X=lm(L))}}(r,i,eS,d=>{l.push(this.Ue(e,t,d))},d=>{l.push(this.qe(e,t,d))}),we.waitFor(l)}$e(e){let t=1;return s0(e).Qt({index:ua.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}}function GO(n){return Li(n,jf.store)}function n0(n){return Li(n,da.store)}function r0(n){return Li(n,Ro.store)}function s0(n){return Li(n,ua.store)}const qO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZO(n,e,t){const r=n.store(Xn.store),i=n.store(ds.store),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Qt({range:d},(S,R,L)=>(f++,L.delete()));l.push(_.next(()=>{Vt(1===f)}));const w=[];for(const S of t.mutations){const R=ds.key(e,S.key.path,t.batchId);l.push(i.delete(R)),w.push(S.key)}return we.waitFor(l).next(()=>w)}function o0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw vt();e=n.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class nS{constructor(e,t,r,i){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}static Jt(e,t,r,i){Vt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new nS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fd(e).Qt({index:Xn.userMutationsIndex,range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=pm(e),d=Fd(e);return d.add({}).next(f=>{Vt("number"==typeof f);const _=new qT(f,t,r,i),w=function(L,q,X){const fe=X.baseMutations.map(gt=>gv(L.Ht,gt)),Fe=X.mutations.map(gt=>gv(L.Ht,gt));return new Xn(q,X.batchId,X.localWriteTime.toMillis(),fe,Fe)}(this.O,this.userId,_),S=[];let R=new lr((L,q)=>zt(L.canonicalString(),q.canonicalString()));for(const L of i){const q=ds.key(this.userId,L.key.path,f);R=R.add(L.key.path.popLast()),S.push(d.put(w)),S.push(l.put(q,ds.PLACEHOLDER))}return R.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Ke[f]=_.keys()}),we.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Fd(e).get(t).next(r=>r?(Vt(r.userId===this.userId),fm(this.O,r)):null)}Ge(e,t){return this.Ke[t]?we.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Ke[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Fd(e).Qt({index:Xn.userMutationsIndex,range:i},(d,f,_)=>{f.userId===this.userId&&(Vt(f.batchId>=r),l=fm(this.O,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fd(e).Qt({index:Xn.userMutationsIndex,range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fd(e).qt(Xn.userMutationsIndex,t).next(r=>r.map(i=>fm(this.O,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ds.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return pm(e).Qt({range:i},(d,f,_)=>{const[w,S,R]=d,L=$l(S);if(w===this.userId&&t.path.isEqual(L))return Fd(e).get(R).next(q=>{if(!q)throw vt();Vt(q.userId===this.userId),l.push(fm(this.O,q))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(zt);const i=[];return t.forEach(l=>{const d=ds.prefixForPath(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=pm(e).Qt({range:f},(w,S,R)=>{const[L,q,X]=w,fe=$l(q);L===this.userId&&l.path.isEqual(fe)?r=r.add(X):R.done()});i.push(_)}),we.waitFor(i).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=ds.prefixForPath(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new lr(zt);return pm(e).Qt({range:d},(_,w,S)=>{const[R,L,q]=_,X=$l(L);R===this.userId&&r.isPrefixOf(X)?X.length===i&&(f=f.add(q)):S.done()}).next(()=>this.je(e,f))}je(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Fd(e).get(l).next(d=>{if(null===d)throw vt();Vt(d.userId===this.userId),r.push(fm(this.O,d))}))}),we.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ZO(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),we.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound(ds.prefixForUser(this.userId)),i=[];return pm(e).Qt({range:r},(l,d,f)=>{if(l[0]===this.userId){const _=$l(l[1]);i.push(_)}else f.done()}).next(()=>{Vt(0===i.length)})})}containsKey(e,t){return zO(e,this.userId,t)}We(e){return WO(e).get(this.userId).next(t=>t||new Pd(this.userId,-1,""))}}function zO(n,e,t){const r=ds.prefixForPath(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return pm(n).Qt({range:l,jt:!0},(f,_,w)=>{const[S,R,L]=f;S===e&&R===i&&(d=!0),w.done()}).next(()=>d)}function Fd(n){return Li(n,Xn.store)}function pm(n){return Li(n,ds.store)}function WO(n){return Li(n,Pd.store)}class Zf{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Zf(0)}static Je(){return new Zf(-1)}}class AF{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new Zf(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>Rt.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Xe(e,i)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gm(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return gm(e).Qt((d,f)=>{const _=_v(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>we.waitFor(l)).next(()=>i)}forEachTarget(e,t){return gm(e).Qt((r,i)=>{const l=_v(i);t(l)})}Ye(e){return KO(e).get(xo.key).next(t=>(Vt(null!==t),t))}Xe(e,t){return KO(e).put(xo.key,t)}Ze(e,t){return gm(e).put(LO(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=au(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gm(e).Qt({range:i,index:Ks.queryTargetsIndexName},(d,f,_)=>{const w=_v(f);Od(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Ld(e);return t.forEach(d=>{const f=Ni(d.path);i.push(l.put(new Ji(r,f))),i.push(this.referenceDelegate.addReference(e,r,d))}),we.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ld(e);return we.forEach(t,l=>{const d=Ni(l.path);return we.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ld(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ld(e);let l=An();return i.Qt({range:r,jt:!0},(d,f,_)=>{const w=$l(d[1]),S=new c(w);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Ni(t.path),i=IDBKeyRange.bound([r],[Gw(r)],!1,!0);let l=0;return Ld(e).Qt({index:Ji.documentTargetsIndex,jt:!0,range:i},([d,f],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}Tt(e,t){return gm(e).get(t).next(r=>r?_v(r):null)}}function gm(n){return Li(n,Ks.store)}function KO(n){return Li(n,xo.store)}function Ld(n){return Li(n,Ji.store)}function zf(n){return rS.apply(this,arguments)}function rS(){return rS=(0,De.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==xO)throw n;je("LocalStore","Unexpectedly lost primary lease")}),rS.apply(this,arguments)}function YO([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class MF{constructor(e){this.en=e,this.buffer=new lr(YO),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xF{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,De.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Hf(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zf(i)}yield t.un(e)}))}}class RF{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve(ki.A);const r=new MF(t);return this.an.forEachTarget(e,i=>r.rn(i.sequenceNumber)).next(()=>this.an.ln(e,i=>r.rn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(qO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qO):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,i,l,d,f,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,d=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,f=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(w=Date.now(),Ff()<=el.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${R} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:R})))}}class OF{constructor(e,t){this.db=e,this.garbageCollector=new RF(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,i)=>t(i))}addReference(e,t,r){return a0(e,r)}removeReference(e,t,r){return a0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return a0(e,t)}wn(e,t){return function(r,i){let l=!1;return WO(r).Wt(d=>zO(r,d,i).next(f=>(f&&(l=!0),we.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this._n(e,(d,f)=>{if(f<=t){const _=this.wn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Rt.min()),Ld(e).delete([0,Ni(d.path)])))});i.push(_)}}).next(()=>we.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return a0(e,t)}_n(e,t){const r=Ld(e);let i,l=ki.A;return r.Qt({index:Ji.documentTargetsIndex},([d,f],{path:_,sequenceNumber:w})=>{0===d?(l!==ki.A&&t(new c($l(i)),l),l=w,i=_):l=ki.A}).next(()=>{l!==ki.A&&t(new c($l(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function a0(n,e){return Ld(n).put((r=n.currentSequenceNumber,new Ji(0,Ni(e.path),r)));var r}class mm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){iu(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return qw(this.inner)}}class QO{constructor(){this.changes=new mm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kF{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vd(e).put(l0(t),r)}removeEntry(e,t){const r=Vd(e),i=l0(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return Vd(e).get(l0(t)).next(r=>this.gn(t,r))}yn(e,t){return Vd(e).get(l0(t)).next(r=>({document:this.gn(t,r),size:o0(r)}))}getEntries(e,t){let r=ca();return this.pn(e,t,(i,l)=>{const d=this.gn(i,l);r=r.insert(i,d)}).next(()=>r)}In(e,t){let r=ca(),i=new Ur(c.comparator);return this.pn(e,t,(l,d)=>{const f=this.gn(l,d);r=r.insert(l,f),i=i.insert(l,o0(d))}).next(()=>({documents:r,En:i}))}pn(e,t,r){if(t.isEmpty())return we.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let d=l.getNext();return Vd(e).Qt({range:i},(f,_,w)=>{const S=c.fromSegments(f);for(;d&&c.comparator(d,S)<0;)r(d,null),d=l.getNext();d&&d.isEqual(S)&&(r(d,_),d=l.hasNext()?l.getNext():null),d?w.Ut(d.path.toArray()):w.done()}).next(()=>{for(;d;)r(d,null),d=l.hasNext()?l.getNext():null})}getAll(e,t,r){let i=ca();const l=t.length+1,d={};if(r.isEqual(Rt.min())){const f=t.toArray();d.range=IDBKeyRange.lowerBound(f)}else{const f=t.toArray(),_=WT(r);d.range=IDBKeyRange.lowerBound([f,_],!0),d.index=xr.collectionReadTimeIndex}return Vd(e).Qt(d,(f,_,w)=>{if(f.length!==l)return;const S=this.gn(c.fromSegments(f),_);t.isPrefixOf(S.key.path)?i=i.insert(S.key,S):w.done()}).next(()=>i)}newChangeBuffer(e){return new PF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XO(e).get(Gl.key).next(t=>(Vt(!!t),t))}mn(e,t){return XO(e).put(Gl.key,t)}gn(e,t){if(t){const r=NO(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return Tt.newInvalidDocument(e)}}class PF extends QO{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new mm(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lr((l,d)=>zt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.An.get(l);if(d.isValidDocument()){const _=FO(this.Tn.O,d);i=i.add(l.path.popLast()),r+=o0(_)-f,t.push(this.Tn.addEntry(e,l,_))}else if(r-=f,this.trackRemovals){const _=FO(this.Tn.O,d.convertToNoDocument(Rt.min()));t.push(this.Tn.addEntry(e,l,_))}else t.push(this.Tn.removeEntry(e,l))}),i.forEach(l=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Tn.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:i})=>(i.forEach((l,d)=>{this.An.set(l,d)}),r))}}function XO(n){return Li(n,Gl.store)}function Vd(n){return Li(n,xr.store)}function l0(n){return n.path.toArray()}class NF{constructor(e){this.O=e}kt(e,t,r,i){const l=new e0("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore(Mo.store),(f=e).createObjectStore(Pd.store,{keyPath:Pd.keyPath}),f.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0}),f.createObjectStore(ds.store),JO(e),function(f){f.createObjectStore(xr.store)}(e));let d=we.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore(Ji.store),f.deleteObjectStore(Ks.store),f.deleteObjectStore(xo.store)}(e),JO(e)),d=d.next(()=>function(f){const _=f.store(xo.store),w=new xo(0,0,Rt.min().toTimestamp(),0);return _.put(xo.key,w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store(Xn.store).qt().next(w=>{f.deleteObjectStore(Xn.store),f.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0});const S=_.store(Xn.store),R=w.map(L=>S.put(L));return we.waitFor(R)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore(cu.store,{keyPath:cu.keyPath})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Rn(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore(Gl.store)}(e),this.Pn(l)))),r<7&&i>=7&&(d=d.next(()=>this.bn(l))),r<8&&i>=8&&(d=d.next(()=>this.vn(e,l))),r<9&&i>=9&&(d=d.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const _=f.objectStore(xr.store);_.createIndex(xr.readTimeIndex,xr.readTimeIndexPath,{unique:!1}),_.createIndex(xr.collectionReadTimeIndex,xr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(d=d.next(()=>this.Vn(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore(dm.store,{keyPath:dm.keyPath})})(e),function(f){f.createObjectStore(hm.store,{keyPath:hm.keyPath})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore(Fi.store,{keyPath:Fi.keyPath});_.createIndex(Fi.collectionPathOverlayIndex,Fi.collectionPathOverlayIndexPath,{unique:!1}),_.createIndex(Fi.collectionGroupOverlayIndex,Fi.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>{!function(f){f.createObjectStore(Ro.store,{keyPath:Ro.keyPath,autoIncrement:!0}).createIndex(Ro.collectionGroupIndex,Ro.collectionGroupIndexPath,{unique:!1}),f.createObjectStore(ua.store,{keyPath:ua.keyPath}).createIndex(ua.sequenceNumberIndex,ua.sequenceNumberIndexPath,{unique:!1}),f.createObjectStore(da.store,{keyPath:da.keyPath}).createIndex(da.documentKeyIndex,da.documentKeyIndexPath,{unique:!1})}(e)})),d}Pn(e){let t=0;return e.store(xr.store).Qt((r,i)=>{t+=o0(i)}).next(()=>{const r=new Gl(t);return e.store(Gl.store).put(Gl.key,r)})}Rn(e){const t=e.store(Pd.store),r=e.store(Xn.store);return t.qt().next(i=>we.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt(Xn.userMutationsIndex,d).next(f=>we.forEach(f,_=>{Vt(_.userId===l.userId);const w=fm(this.O,_);return ZO(e,l.userId,w).next(()=>{})}))}))}bn(e){const t=e.store(Ji.store),r=e.store(xr.store);return e.store(xo.store).get(xo.key).next(i=>{const l=[];return r.Qt((d,f)=>{const _=new cn(d),w=[0,Ni(_)];l.push(t.get(w).next(S=>S?we.resolve():t.put(new Ji(0,Ni(_),i.highestListenSequenceNumber))))}).next(()=>we.waitFor(l))})}vn(e,t){e.createObjectStore(jf.store,{keyPath:jf.keyPath});const r=t.store(jf.store),i=new tS,l=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Ni(_)})}};return t.store(xr.store).Qt({jt:!0},(d,f)=>{const _=new cn(d);return l(_.popLast())}).next(()=>t.store(ds.store).Qt({jt:!0},([d,f,_],w)=>{const S=$l(f);return l(S.popLast())}))}Vn(e){const t=e.store(Ks.store);return t.Qt((r,i)=>{const l=_v(i),d=LO(this.O,l);return t.put(d)})}}function JO(n){n.createObjectStore(Ji.store,{keyPath:Ji.keyPath}).createIndex(Ji.documentTargetsIndex,Ji.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ks.store,{keyPath:Ks.keyPath}).createIndex(Ks.queryTargetsIndexName,Ks.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(xo.store)}const iS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sS{constructor(e,t,r,i,l,d,f,_,w,S,R=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=l,this.window=d,this.document=f,this.Dn=w,this.Cn=S,this.schemaVersion=R,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=L=>Promise.resolve(),!sS.Vt())throw new Ne(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OF(this,i),this.Bn=t+"main",this.O=new PO(_),this.Ln=new nl(this.Bn,this.schemaVersion,new NF(this.O)),this.Un=new AF(this.referenceDelegate,this.O),this.qn=new kF(this.O),this.Kn=new EF,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===S&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,iS);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new ki(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,De.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>c0(e).put(new cu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(Hf(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return vv(e).get(Mo.key).next(t=>we.resolve(this.ts(t)))}es(e){return c0(e).delete(this.clientId)}ns(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Li(r,cu.store);return i.qt().next(l=>{const d=e.rs(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return we.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?we.resolve(!0):vv(e).get(Mo.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,iS);return!1}}return!(!this.networkEnabled||!this.inForeground)||c0(e).qt().next(r=>void 0===this.rs(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Mo.store,cu.store],t=>{const r=new kO(t,ki.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>c0(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return nS.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new SF(e)}getDocumentOverlayCache(e){return XT.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=13===(d=this.schemaVersion)?yF:12===d?MO:11===d?AO:void vt();var d;let f;return this.Ln.runTransaction(e,i,l,_=>(f=new kO(_,this.Nn?this.Nn.next():ki.A),"readwrite-primary"===t?this.Jn(f).next(w=>!!w||this.Yn(f)).next(w=>{if(!w)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Ne(he.FAILED_PRECONDITION,xO);return r(f)}).next(w=>this.Zn(f).next(()=>w)):this._s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}_s(e){return vv(e).get(Mo.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(he.FAILED_PRECONDITION,iS)})}Zn(e){const t=new Mo(this.clientId,this.allowTabSynchronization,Date.now());return vv(e).put(Mo.key,t)}static Vt(){return nl.Vt()}Xn(e){const t=vv(e);return t.get(Mo.key).next(r=>this.ts(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete(Mo.key)):we.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(br(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vv(n){return Li(n,Mo.store)}function c0(n){return Li(n,cu.store)}function oS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class FF{constructor(e,t){this.progress=e,this.ws=t}}class LF{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Is(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return c.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,t.path):NT(t)?this.Ps(e,t,r):this.bs(e,t,r);var i}Rs(e,t){return this.ys(e,new c(t)).next(r=>{let i=UT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,t,r){const i=t.collectionGroup;let l=UT();return this.indexManager.getCollectionParents(e,i).next(d=>we.forEach(d,f=>{const _=(w=t,S=f.child(i),new lu(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.bs(e,_,r).next(w=>{w.forEach((S,R)=>{l=l.insert(S,R)})})}).next(()=>l))}bs(e,t,r){let i;return this.qn.getAll(e,t.path,r).next(l=>(i=l,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const f of d.mutations){const _=f.key;let w=i.get(_);null==w&&(w=Tt.newInvalidDocument(_),i=i.insert(_,w)),VT(f,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((l,d)=>{LT(t,d)||(i=i.remove(l))}),i))}}class aS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=i}static Ss(e,t){let r=An(),i=An();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new aS(e,t.fromCache,r,i)}}class ek{Ds(e){this.Cs=e}As(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Rt.min())?this.Ns(e,t):this.Cs.Es(e,i).next(l=>{const d=this.xs(t,l);return(Zw(t)||zw(t))&&this.ks(t.limitType,d,i,r)?this.Ns(e,t):(Ff()<=el.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),FT(t)),this.Cs.As(e,t,r).next(f=>(d.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}xs(e,t){let r=new lr(WR(e));return t.forEach((i,l)=>{LT(e,l)&&(r=r.add(l))}),r}ks(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ns(e,t){return Ff()<=el.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",FT(t)),this.Cs.As(e,t,Rt.min())}}class VF{constructor(e,t,r,i){this.persistence=e,this.Os=t,this.O=i,this.Ms=new Ur(zt),this.$s=new mm(l=>au(l),Od),this.Fs=Rt.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new LF(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function tk(n,e,t,r){return new VF(n,e,t,r)}function nk(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,De.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.gs.getAllMutationBatches(r).next(l=>(i=l,t.Ls(e),t.gs.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let _=An();for(const w of i){d.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of l){f.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.Us.Es(r,_).next(w=>({qs:w,removedBatchIds:d,addedBatchIds:f}))})})}),lS.apply(this,arguments)}function BF(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const S=_.batch,R=S.keys();let L=we.resolve();return R.forEach(q=>{L=L.next(()=>w.getEntry(f,q)).next(X=>{const fe=_.docVersions.get(q);Vt(null!==fe),X.version.compareTo(fe)<0&&(S.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),w.addEntry(X)))})}),L.next(()=>d.gs.removeMutationBatch(f,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,i))})}function rk(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function UF(n,e){const t=et(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.Ms;const f=[];e.targetChanges.forEach((w,S)=>{const R=i.get(S);if(!R)return;f.push(t.Un.removeMatchingKeys(l,w.removedDocuments,S).next(()=>t.Un.addMatchingKeys(l,w.addedDocuments,S)));let L=R.withSequenceNumber(l.currentSequenceNumber);var q,X,fe;e.targetMismatches.has(S)?L=L.withResumeToken(Qr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,r)),i=i.insert(S,L),X=L,fe=w,(0===(q=R).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.Un.updateTargetData(l,L))});let _=ca();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(ik(l,d,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Rt.min())){const w=t.Un.getLastRemoteSnapshotVersion(l).next(S=>t.Un.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(w)}return we.waitFor(f).next(()=>d.apply(l)).next(()=>t.Us.Ts(l,_)).next(()=>_)}).then(l=>(t.Ms=i,l))}function ik(n,e,t){let r=An();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=ca();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Rt.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),l})}function jF(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function _m(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Un.getTargetData(r,e).next(l=>l?(i=l,we.resolve(i)):t.Un.allocateTargetId(r).next(d=>(i=new Nd(e,d,0,r.currentSequenceNumber),t.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function ym(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,De.Z)(function*(n,e,t){const r=et(n),i=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Hf(d))throw d;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),cS.apply(this,arguments)}function u0(n,e,t){const r=et(n);let i=Rt.min(),l=An();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const S=et(f),R=S.$s.get(w);return void 0!==R?we.resolve(S.Ms.get(R)):S.Un.getTargetData(_,w)}(r,d,la(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>r.Os.As(d,e,t?i:Rt.min(),t?l:An())).next(f=>({documents:f,Ks:l})))}function sk(n,e){const t=et(n),r=et(t.Un),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(d=>d?d.target:null))}function ok(n){const e=et(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,l){const d=et(r);let f=ca(),_=WT(l);const w=Vd(i),S=IDBKeyRange.lowerBound(_,!0);return w.Qt({index:xr.readTimeIndex,range:S},(R,L)=>{const q=NO(d.O,L);f=f.insert(q.key,q),_=L.readTime}).next(()=>({ws:f,readTime:KT(_)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function uS(){return uS=(0,De.Z)(function*(n){const e=et(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=Vd(r);let l=Rt.min();return i.Qt({index:xr.readTimeIndex,reverse:!0},(d,f,_)=>{f.readTime&&(l=KT(f.readTime)),_.done()}).next(()=>l)}(t)).then(t=>{e.Fs=t})}),uS.apply(this,arguments)}function dS(){return dS=(0,De.Z)(function*(n,e,t,r){const i=et(n);let l=An(),d=ca();for(const w of t){const S=e.Gs(w.metadata.name);w.document&&(l=l.add(S));const R=e.js(w);R.setReadTime(e.Qs(w.metadata.readTime)),d=d.insert(S,R)}const f=i.Bs.newChangeBuffer({trackRemovals:!0}),_=yield _m(i,(w=r,la(im(cn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>ik(w,f,d).next(S=>(f.apply(w),S)).next(S=>i.Un.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Un.addMatchingKeys(w,l,_.targetId)).next(()=>i.Us.Ts(w,S)).next(()=>S)))}),dS.apply(this,arguments)}function GF(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,De.Z)(function*(n,e,t=An()){const r=yield _m(n,la(YT(e.bundledQuery))),i=et(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Pi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Kn.saveNamedQuery(l,e);const f=r.withResumeToken(Qr.EMPTY_BYTE_STRING,d);return i.Ms=i.Ms.insert(f.targetId,f),i.Un.updateTargetData(l,f).next(()=>i.Un.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Un.addMatchingKeys(l,t,r.targetId)).next(()=>i.Kn.saveNamedQuery(l,e))})}),hS.apply(this,arguments)}class qF{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return we.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:Pi(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:YT(r.bundledQuery),readTime:Pi(r.readTime)}),we.resolve();var r}}class ZF{constructor(){this.overlays=new Ur(c.comparator),this.Hs=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(i=>{this.Yt(e,t,i)}),we.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Hs.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const i=new Map,l=t.length+1,d=new c(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Ur((w,S)=>w-S);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=l.get(w.largestBatchId);null===S&&(S=new Map,l=l.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const f=new Map,_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>f.set(S,w)),!(f.size>=i)););return we.resolve(f)}Yt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new zT(t,r));let l=this.Hs.get(t);void 0===l&&(l=new Set,this.Hs.set(t,l)),l.add(r.key)}}class fS{constructor(){this.Js=new lr(Vi.Ys),this.Xs=new lr(Vi.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new Vi(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new c(new cn([])),r=new Vi(t,e),i=new Vi(t,e+1),l=[];return this.Xs.forEachInRange([r,i],d=>{this.ei(d),l.push(d.key)}),l}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new c(new cn([])),r=new Vi(t,e),i=new Vi(t,e+1);let l=An();return this.Xs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Vi(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return c.comparator(e.key,t.key)||zt(e.oi,t.oi)}static Zs(e,t){return zt(e.oi,t.oi)||c.comparator(e.key,t.key)}}class zF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new lr(Vi.Ys)}checkEmpty(e){return we.resolve(0===this.gs.length)}addMutationBatch(e,t,r,i){const l=this.ci;this.ci++;const d=new qT(l,t,r,i);this.gs.push(d);for(const f of i)this.ui=this.ui.add(new Vi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return we.resolve(d)}lookupMutationBatch(e,t){return we.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.hi(t+1),l=i<0?0:i;return we.resolve(this.gs.length>l?this.gs[l]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return we.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),l=[];return this.ui.forEachInRange([r,i],d=>{const f=this.ai(d.oi);l.push(f)}),we.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(zt);return t.forEach(i=>{const l=new Vi(i,0),d=new Vi(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([l,d],f=>{r=r.add(f.oi)})}),we.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;c.isDocumentKey(l)||(l=l.child(""));const d=new Vi(new c(l),0);let f=new lr(zt);return this.ui.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.oi)),!0)},d),we.resolve(this.li(f))}li(e){const t=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vt(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return we.forEach(t.mutations,i=>{const l=new Vi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new Vi(t,0),i=this.ui.firstAfterOrEqual(r);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return we.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class WF{constructor(e){this.di=e,this.docs=new Ur(c.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let r=ca();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Tt.newInvalidDocument(i))}),we.resolve(r)}getAll(e,t,r){let i=ca();const l=new c(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||_.readTime.compareTo(r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return we.resolve(i)}_i(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KF(this)}getSize(e){return we.resolve(this.size)}}class KF extends QO{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class YF{constructor(e){this.persistence=e,this.wi=new mm(t=>au(t),Od),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.mi=0,this.gi=new fS,this.targetCount=0,this.yi=Zf.He()}forEachTarget(e,t){return this.wi.forEach((r,i)=>t(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),we.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new Zf(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Ze(t),we.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.wi.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.wi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),we.waitFor(l).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),we.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.gi.containsKey(t))}}class QF{constructor(e,t){this.pi={},this.overlays={},this.Nn=new ki(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new YF(this),this.indexManager=new TF,this.qn=new WF(r=>this.referenceDelegate.Ii(r)),this.O=new PO(t),this.Kn=new qF(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new zF(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new XF(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(l=>this.referenceDelegate.Ti(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ai(e,t){return we.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class XF extends RO{constructor(e){super(),this.currentSequenceNumber=e}}class pS{constructor(e){this.persistence=e,this.Ri=new fS,this.Pi=null}static bi(e){return new pS(e)}get vi(){if(this.Pi)return this.Pi;throw vt()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.vi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.vi,r=>{const i=c.fromPath(r);return this.Vi(e,i).next(l=>{l||t.removeEntry(i,Rt.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return we.or([()=>we.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function ak(n,e){return`firestore_clients_${n}_${e}`}function lk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gS(n,e){return`firestore_targets_${n}_${e}`}class d0{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Si(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ne(i.error.code,i.error.message))),d?new d0(e,t,i.state,l):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new bv(e,r.state,i):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Xw();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=a(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new h0(e,l):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mS{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mS(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _S{constructor(){this.activeTargetIds=Xw()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(e,t,r,i,l){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Ur(zt),this.started=!1,this.$i=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Fi=ak(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new _S),this.Li=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.ds();for(const i of t){if(i===e.xi)continue;const l=e.getItem(ak(e.persistenceKey,i));if(l){const d=h0.Si(i,l);d&&(e.Mi=e.Mi.insert(d.clientId,d))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const i=e.Qi(r);i&&e.Wi(i)}for(const i of e.$i)e.Oi(i);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gS(this.persistenceKey,e));if(r){const i=bv.Si(e,r);i&&(t=i.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ji(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const i=t.er(r.key);return t.nr(i,null)}{const i=t.sr(r.key,r.newValue);if(i)return t.nr(i.clientId,i)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const i=t.ir(r.key,r.newValue);if(i)return t.rr(i)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const i=t.cr(r.key,r.newValue);if(i)return t.ur(i)}}else if(r.key===t.Ki){if(null!==r.newValue){const i=t.Qi(r.newValue);if(i)return t.Wi(i)}}else if(r.key===t.Bi){const i=function(l){let d=ki.A;if(null!=l)try{const f=JSON.parse(l);Vt("number"==typeof f),d=f}catch(f){br("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==ki.A&&t.sequenceNumberHandler(i)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const i=new d0(this.currentUser,e,t,r),l=lk(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Di())}Ji(e){const t=lk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const i=gS(this.persistenceKey,e),l=new bv(e,t,r);this.setItem(i,l.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return h0.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),i=Number(r[1]);return d0.Si(new Br(void 0!==r[2]?r[2]:null),i,t)}cr(e,t){const r=this.qi.exec(e),i=Number(r[1]);return bv.Si(i,t)}Qi(e){return mS.Si(e)}rr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),l=this.zi(r),d=[],f=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.dr(d,f).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Xw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class ck{constructor(){this._r=new _S,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new _S,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class JF{mr(e){}shutdown(){}}class uk{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tL{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class nL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,i,l){const d=this.$r(e,t);je("RestConnection","Sending: ",d,r);const f={};return this.Fr(f,i,l),this.Br(e,d,f,r).then(_=>(je("RestConnection","Received: ",_),_),_=>{throw Jg("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}Lr(e,t,r,i,l){return this.Mr(e,t,r,i,l)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ul,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}$r(e,t){return`${this.kr}/v1/${t}:${eL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,i){return new Promise((l,d)=>{const f=new ru;f.listenOnce(CT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fw.NO_ERROR:const w=f.getResponseJson();je("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Fw.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),d(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case Fw.HTTP_ERROR:const S=f.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const R=f.getResponseJson().error;if(R&&R.status&&R.message){const L=function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(X)>=0?X:he.UNKNOWN}(R.status);d(new Ne(L,R.message))}else d(new Ne(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}Ur(e,t,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FR(),d=LR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new DT({})),this.Fr(f.initMessageHeaders,t,r),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");je("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let S=!1,R=!1;const L=new tL({Ar:X=>{R?je("Connection","Not sending because WebChannel is closed:",X):(S||(je("Connection","Opening WebChannel transport."),w.open(),S=!0),je("Connection","WebChannel sending:",X),w.send(X))},Rr:()=>w.close()}),q=(X,fe,Fe)=>{X.listen(fe,gt=>{try{Fe(gt)}catch(St){setTimeout(()=>{throw St},0)}})};return q(w,Nf.EventType.OPEN,()=>{R||je("Connection","WebChannel transport opened.")}),q(w,Nf.EventType.CLOSE,()=>{R||(R=!0,je("Connection","WebChannel transport closed"),L.Cr())}),q(w,Nf.EventType.ERROR,X=>{R||(R=!0,Jg("Connection","WebChannel transport errored:",X),L.Cr(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),q(w,Nf.EventType.MESSAGE,X=>{var fe;if(!R){const Fe=X.data[0];Vt(!!Fe);const gt=Fe,St=gt.error||(null===(fe=gt[0])||void 0===fe?void 0:fe.error);if(St){je("Connection","WebChannel received error:",St);const Gt=St.status;let Et=function(Rr){const ti=Jr[Rr];if(void 0!==ti)return cO(ti)}(Gt),vn=St.message;void 0===Et&&(Et=he.INTERNAL,vn="Unknown error status: "+Gt+" with message "+St.message),R=!0,L.Cr(new Ne(Et,vn)),w.close()}else je("Connection","WebChannel received:",Fe),L.Nr(Fe)}}),q(d,Xg.STAT_EVENT,X=>{X.stat===Lw.PROXY?je("Connection","Detected buffering proxy"):X.stat===Lw.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Dr()},0),L}}function dk(){return"undefined"!=typeof window?window:null}function f0(){return"undefined"!=typeof document?document:null}function Ev(n){return new rF(n,!0)}class vS{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=i,this.Gr=l,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class hk{constructor(e,t,r,i,l,d,f,_){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new vS(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,De.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,De.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===t&&this.po(r,i)},r=>{e(()=>{const i=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr((0,De.Z)(function*(){e.state=0,e.start()}))}Io(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends hk{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.O=l}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function oF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:vt(),i=e.targetChange.targetIds||[],l=function(_,w){return _.N?(Vt(void 0===w||"string"==typeof w),Qr.fromBase64String(w||"")):(Vt(void 0===w||w instanceof Uint8Array),Qr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?he.UNKNOWN:cO(_.code);return new Ne(w,_.message||"")}(d);t=new hO(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Hl(n,r.document.name),l=Pi(r.document.updateTime),d=new rt({mapValue:{fields:r.document.fields}}),f=Tt.newFoundDocument(i,l,d);t=new Jw(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Hl(n,r.document),l=r.readTime?Pi(r.readTime):Rt.min(),d=Tt.newNoDocument(i,l);t=new Jw([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Hl(n,r.document);t=new Jw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return vt();{const r=e.filter,l=new W1(r.count||0);t=new dO(r.targetId,l)}}var _;return t}(this.O,e),r=function(i){if(!("targetChange"in i))return Rt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?Pi(l.readTime):Rt.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=pv(this.O),t.addTarget=function(i,l){let d;const f=l.target;return d=kd(f)?{documents:wO(i,f)}:{query:CO(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=mO(i,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(d.readTime=hv(i,l.snapshotVersion.toTimestamp())),d}(this.O,e);const r=function lF(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=pv(this.O),t.removeTarget=e,this.fo(t)}}class iL extends hk{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.O=l,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function aF(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,i){let l=Pi(r.updateTime?r.updateTime:i);return l.isEqual(Rt.min())&&(l=Pi(i)),new q1(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.Vo(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=pv(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gv(this.O,r))};this.fo(t)}}class sL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.eo.Mr(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.eo.Lr(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class oL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(br(t),this.Oo=!1):je("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class aL{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=l,this.jo.mr(f=>{r.enqueueAndForget((0,De.Z)(function*(){var _;Bd(d)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,De.Z)(function*(w){const S=et(w);S.Ko.add(4),yield vm(S),S.Qo.set("Unknown"),S.Ko.delete(4),yield wv(S)}),function(w){return _.apply(this,arguments)})(d))}))}),this.Qo=new oL(r,i)}}function wv(n){return bS.apply(this,arguments)}function bS(){return bS=(0,De.Z)(function*(n){if(Bd(n))for(const e of n.Go)yield e(!0)}),bS.apply(this,arguments)}function vm(n){return ES.apply(this,arguments)}function ES(){return ES=(0,De.Z)(function*(n){for(const e of n.Go)yield e(!1)}),ES.apply(this,arguments)}function p0(n,e){const t=et(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),DS(t)?CS(t):Em(t).co()&&wS(t,e))}function Cv(n,e){const t=et(n),r=Em(t);t.qo.delete(e),r.co()&&fk(t,e),0===t.qo.size&&(r.co()?r.ho():Bd(t)&&t.Qo.set("Unknown"))}function wS(n,e){n.Wo.Z(e.targetId),Em(n).Ao(e)}function fk(n,e){n.Wo.Z(e),Em(n).Ro(e)}function CS(n){n.Wo=new eF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Em(n).start(),n.Qo.Mo()}function DS(n){return Bd(n)&&!Em(n).oo()&&n.qo.size>0}function Bd(n){return 0===et(n).Ko.size}function pk(n){n.Wo=void 0}function lL(n){return IS.apply(this,arguments)}function IS(){return IS=(0,De.Z)(function*(n){n.qo.forEach((e,t)=>{wS(n,e)})}),IS.apply(this,arguments)}function cL(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,De.Z)(function*(n,e){pk(n),DS(n)?(n.Qo.Bo(e),CS(n)):n.Qo.set("Unknown")}),TS.apply(this,arguments)}function uL(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,De.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof hO&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i.qo.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.qo.delete(f),i.Wo.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield g0(n,r)}else if(e instanceof Jw?n.Wo.ct(e):e instanceof dO?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(Rt.min()))try{const r=yield rk(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.Wo.yt(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.qo.get(_);w&&i.qo.set(_,w.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=i.qo.get(f);if(!_)return;i.qo.set(f,_.withResumeToken(Qr.EMPTY_BYTE_STRING,_.snapshotVersion)),fk(i,f);const w=new Nd(_.target,f,1,_.sequenceNumber);wS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield g0(n,r)}var r}),SS.apply(this,arguments)}function g0(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,De.Z)(function*(n,e,t){if(!Hf(e))throw e;n.Ko.add(1),yield vm(n),n.Qo.set("Offline"),t||(t=()=>rk(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield wv(n)}))}),AS.apply(this,arguments)}function gk(n,e){return e().catch(t=>g0(n,t,e))}function bm(n){return MS.apply(this,arguments)}function MS(){return MS=(0,De.Z)(function*(n){const e=et(n),t=Ud(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;dL(e);)try{const i=yield jF(e.localStore,r);if(null===i){0===e.Uo.length&&t.ho();break}r=i.batchId,hL(e,i)}catch(i){yield g0(e,i)}mk(e)&&_k(e)}),MS.apply(this,arguments)}function dL(n){return Bd(n)&&n.Uo.length<10}function hL(n,e){n.Uo.push(e);const t=Ud(n);t.co()&&t.bo&&t.vo(e.mutations)}function mk(n){return Bd(n)&&!Ud(n).oo()&&n.Uo.length>0}function _k(n){Ud(n).start()}function fL(n){return xS.apply(this,arguments)}function xS(){return xS=(0,De.Z)(function*(n){Ud(n).Do()}),xS.apply(this,arguments)}function pL(n){return RS.apply(this,arguments)}function RS(){return RS=(0,De.Z)(function*(n){const e=Ud(n);for(const t of n.Uo)e.vo(t.mutations)}),RS.apply(this,arguments)}function gL(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,De.Z)(function*(n,e,t){const r=n.Uo.shift(),i=ZT.from(r,e,t);yield gk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield bm(n)}),OS.apply(this,arguments)}function mL(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,De.Z)(function*(n,e){var t;e&&Ud(n).bo&&(yield(t=(0,De.Z)(function*(r,i){if(lO(l=i.code)&&l!==he.ABORTED){const d=r.Uo.shift();Ud(r).ao(),yield gk(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield bm(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),mk(n)&&_k(n)}),kS.apply(this,arguments)}function yk(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,De.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Bd(t);t.Ko.add(3),yield vm(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield wv(t)}),PS.apply(this,arguments)}function NS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,De.Z)(function*(n,e){const t=et(n);e?(t.Ko.delete(2),yield wv(t)):e||(t.Ko.add(2),yield vm(t),t.Qo.set("Unknown"))}),FS.apply(this,arguments)}function Em(n){return n.zo||(n.zo=function(e,t,r){const i=et(e);return i.No(),new rL(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:lL.bind(null,n),vr:cL.bind(null,n),To:uL.bind(null,n)}),n.Go.push(function(){var e=(0,De.Z)(function*(t){t?(n.zo.ao(),DS(n)?CS(n):n.Qo.set("Unknown")):(yield n.zo.stop(),pk(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Ud(n){return n.Ho||(n.Ho=function(e,t,r){const i=et(e);return i.No(),new iL(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:fL.bind(null,n),vr:mL.bind(null,n),So:pL.bind(null,n),Vo:gL.bind(null,n)}),n.Go.push(function(){var e=(0,De.Z)(function*(t){t?(n.Ho.ao(),yield bm(n)):(yield n.Ho.stop(),n.Uo.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class LS{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new LS(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(n,e){if(br("AsyncQueue",`${e}: ${n}`),Hf(n))return new Ne(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Cm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||c.comparator(t.key,r.key):(t,r)=>c.comparator(t.key,r.key),this.keyedMap=UT(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new Cm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vk{constructor(){this.Jo=new Ur(c.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):vt():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Dm{constructor(e,t,r,i,l,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Dm(e,t,Cm.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _L{constructor(){this.Xo=void 0,this.listeners=[]}}class yL{constructor(){this.queries=new mm(e=>zR(e),ov),this.onlineState="Unknown",this.Zo=new Set}}function VS(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,De.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new _L),i)try{l.Xo=yield t.onListen(r)}catch(d){const f=wm(d,`Initialization of query '${FT(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.tc(t.onlineState),l.Xo&&e.ec(l.Xo)&&HS(t)}),BS.apply(this,arguments)}function US(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,De.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),jS.apply(this,arguments)}function vL(n,e){const t=et(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.ec(i)&&(r=!0);d.Xo=i}}r&&HS(t)}function bL(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function HS(n){n.Zo.forEach(e=>{e.next()})}class $S{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Dm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class EL{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class bk{constructor(e){this.O=e}Gs(e){return Hl(this.O,e)}js(e){return e.metadata.exists?EO(this.O,e.document,!1):Tt.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Pi(e)}}class wL{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=Ek(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new bk(this.O);for(const i of e)if(i.metadata.queries){const l=r.Gs(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||An()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function $F(n,e,t,r){return dS.apply(this,arguments)}(e.localStore,new bk(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const i of e.queries)yield GF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new FF(Object.assign({},e.progress),t)})()}}function Ek(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class wk{constructor(e){this.key=e}}class Ck{constructor(e){this.key=e}}class Dk{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=An(),this.mutatedKeys=An(),this.mc=WR(e),this.gc=new Cm(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new vk,i=t?t.gc:this.gc;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _=Zw(this.query)&&i.size===this.query.limit?i.last():null,w=zw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,R)=>{const L=i.get(S),q=LT(this.query,R)?R:null,X=!!L&&this.mutatedKeys.has(L.key),fe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Fe=!1;L&&q?L.data.isEqual(q.data)?X!==fe&&(r.track({type:3,doc:q}),Fe=!0):this.Tc(L,q)||(r.track({type:2,doc:q}),Fe=!0,(_&&this.mc(q,_)>0||w&&this.mc(q,w)<0)&&(f=!0)):!L&&q?(r.track({type:0,doc:q}),Fe=!0):L&&!q&&(r.track({type:1,doc:L}),Fe=!0,(_||w)&&(f=!0)),Fe&&(q?(d=d.add(q),l=fe?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),Zw(this.query)||zw(this.query))for(;d.size>this.query.limit;){const S=Zw(this.query)?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{gc:d,Ec:r,ks:f,mutatedKeys:l}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const l=e.Ec.Yo();l.sort((w,S)=>function(R,L){const q=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return q(R)-q(L)}(w.type,S.type)||this.mc(w.doc,S.doc)),this.Ac(r);const d=t?this.Rc():[],f=0===this.wc.size&&this.current?1:0,_=f!==this._c;return this._c=f,0!==l.length||_?{snapshot:new Dm(this.query,e.gc,i,l,e.mutatedKeys,0===f,_,!1),Pc:d}:{Pc:d}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new vk,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=An(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new Ck(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new wk(r))}),t}vc(e){this.dc=e.Ks,this.wc=An();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Dm.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class CL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DL{constructor(e){this.key=e,this.Sc=!1}}class IL{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Dc={},this.Cc=new mm(f=>zR(f),ov),this.Nc=new Map,this.xc=new Set,this.kc=new Ur(c.comparator),this.Oc=new Map,this.Mc=new fS,this.$c={},this.Fc=new Map,this.Bc=Zf.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function TL(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,De.Z)(function*(n,e){const t=fA(n);let r,i;const l=t.Cc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Vc();else{const d=yield _m(t.localStore,la(e));t.isPrimaryClient&&p0(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield qS(t,e,r,"current"===f)}return i}),GS.apply(this,arguments)}function qS(n,e,t,r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,De.Z)(function*(n,e,t,r){n.Uc=(S,R,L)=>{return(q=(0,De.Z)(function*(X,fe,Fe,gt){let St=fe.view.Ic(Fe);St.ks&&(St=yield u0(X.localStore,fe.query,!1).then(({documents:vn})=>fe.view.Ic(vn,St)));const Gt=gt&&gt.targetChanges.get(fe.targetId),Et=fe.view.applyChanges(St,X.isPrimaryClient,Gt);return nA(X,fe.targetId,Et.Pc),Et.snapshot}),function(X,fe,Fe,gt){return q.apply(this,arguments)})(n,S,R,L);var q};const i=yield u0(n.localStore,e,!0),l=new Dk(e,i.Ks),d=l.Ic(i.documents),f=dv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=l.applyChanges(d,n.isPrimaryClient,f);nA(n,t,_.Pc);const w=new CL(e,t,l);return n.Cc.set(e,w),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),_.snapshot}),ZS.apply(this,arguments)}function SL(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,De.Z)(function*(n,e){const t=et(n),r=t.Cc.get(e),i=t.Nc.get(r.targetId);if(i.length>1)return t.Nc.set(r.targetId,i.filter(l=>!ov(l,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ym(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Cv(t.remoteStore,r.targetId),Im(t,r.targetId)}).catch(zf))):(Im(t,r.targetId),yield ym(t.localStore,r.targetId,!0))}),zS.apply(this,arguments)}function WS(){return WS=(0,De.Z)(function*(n,e,t){const r=pA(n);try{const i=yield function(l,d){const f=et(l),_=Kr.now(),w=d.reduce((R,L)=>R.add(L.key),An());let S;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>f.Us.Es(R,w).next(L=>{S=L;const q=[];for(const X of d){const fe=z1(X,S.get(X.key));null!=fe&&q.push(new Uf(X.key,fe,Yt(fe.value.mapValue),Xr.exists(!0)))}return f.gs.addMutationBatch(R,_,q,d)})).then(R=>(R.applyToLocalDocumentSet(S),{batchId:R.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let _=l.$c[l.currentUser.toKey()];_||(_=new Ur(zt)),_=_.insert(d,f),l.$c[l.currentUser.toKey()]=_}(r,i.batchId,t),yield uu(r,i.changes),yield bm(r.remoteStore)}catch(i){const l=wm(i,"Failed to persist write");t.reject(l)}}),WS.apply(this,arguments)}function Ik(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,De.Z)(function*(n,e){const t=et(n);try{const r=yield UF(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.Oc.get(l);d&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Sc=!0:i.modifiedDocuments.size>0?Vt(d.Sc):i.removedDocuments.size>0&&(Vt(d.Sc),d.Sc=!1))}),yield uu(t,r,e)}catch(r){yield zf(r)}}),KS.apply(this,arguments)}function Tk(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Cc.forEach((l,d)=>{const f=d.view.tc(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=et(l);f.onlineState=d;let _=!1;f.queries.forEach((w,S)=>{for(const R of S.listeners)R.tc(d)&&(_=!0)}),_&&HS(f)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ML(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,De.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Oc.get(e),l=i&&i.key;if(l){let d=new Ur(c.comparator);d=d.insert(l,Tt.newNoDocument(l,Rt.min()));const f=An().add(l),_=new uv(Rt.min(),new Map,new lr(zt),d,f);yield Ik(r,_),r.kc=r.kc.remove(l),r.Oc.delete(e),rA(r)}else yield ym(r.localStore,e,!1).then(()=>Im(r,e,t)).catch(zf)}),YS.apply(this,arguments)}function xL(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,De.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield BF(t.localStore,e);tA(t,r,null),eA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield uu(t,i)}catch(i){yield zf(i)}}),QS.apply(this,arguments)}function RL(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,De.Z)(function*(n,e,t){const r=et(n);try{const i=yield function(l,d){const f=et(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.gs.lookupMutationBatch(_,d).next(S=>(Vt(null!==S),w=S.keys(),f.gs.removeMutationBatch(_,S))).next(()=>f.gs.performConsistencyCheck(_)).next(()=>f.Us.Es(_,w))})}(r.localStore,e);tA(r,e,t),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield uu(r,i)}catch(i){yield zf(i)}}),XS.apply(this,arguments)}function JS(){return JS=(0,De.Z)(function*(n,e){const t=et(n);Bd(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=et(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.gs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Fc.get(r)||[];i.push(e),t.Fc.set(r,i)}catch(r){const i=wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),JS.apply(this,arguments)}function eA(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function tA(n,e,t){const r=et(n);let i=r.$c[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function Im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||Sk(n,r)})}function Sk(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(Cv(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),rA(n))}function nA(n,e,t){for(const r of t)r instanceof wk?(n.Mc.addReference(r.key,e),kL(n,r)):r instanceof Ck?(je("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||Sk(n,r.key)):vt()}function kL(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.xc.add(r),rA(n))}function rA(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new c(cn.fromString(e)),r=n.Bc.next();n.Oc.set(r,new DL(t)),n.kc=n.kc.insert(t,r),p0(n.remoteStore,new Nd(la(im(t.path)),r,2,ki.A))}}function uu(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,De.Z)(function*(n,e,t){const r=et(n),i=[],l=[],d=[];var f;r.Cc.isEmpty()||(r.Cc.forEach((f,_)=>{d.push(r.Uc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const S=aS.Ss(_.targetId,w);l.push(S)}}))}),yield Promise.all(d),r.Dc.To(i),yield(f=(0,De.Z)(function*(_,w){const S=et(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>we.forEach(w,L=>we.forEach(L.vs,q=>S.persistence.referenceDelegate.addReference(R,L.targetId,q)).next(()=>we.forEach(L.Vs,q=>S.persistence.referenceDelegate.removeReference(R,L.targetId,q)))))}catch(R){if(!Hf(R))throw R;je("LocalStore","Failed to update sequence numbers: "+R)}for(const R of w){const L=R.targetId;if(!R.fromCache){const q=S.Ms.get(L),fe=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.Ms=S.Ms.insert(L,fe)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,l))}),iA.apply(this,arguments)}function PL(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,De.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield nk(t.localStore,e);t.currentUser=e,(i=t).Fc.forEach(d=>{d.forEach(f=>{f.reject(new Ne(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uu(t,r.qs)}var i}),sA.apply(this,arguments)}function NL(n,e){const t=et(n),r=t.Oc.get(e);if(r&&r.Sc)return An().add(r.key);{let i=An();const l=t.Nc.get(e);if(!l)return i;for(const d of l){const f=t.Cc.get(d);i=i.unionWith(f.view.yc)}return i}}function FL(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,De.Z)(function*(n,e){const t=et(n),r=yield u0(t.localStore,e.query,!0),i=e.view.vc(r);return t.isPrimaryClient&&nA(t,e.targetId,i.Pc),i}),oA.apply(this,arguments)}function LL(n){return aA.apply(this,arguments)}function aA(){return aA=(0,De.Z)(function*(n){const e=et(n);return ok(e.localStore).then(t=>uu(e,t))}),aA.apply(this,arguments)}function VL(n,e,t,r){return lA.apply(this,arguments)}function lA(){return lA=(0,De.Z)(function*(n,e,t,r){const i=et(n),l=yield function(d,f){const _=et(d),w=et(_.gs);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.Ge(S,f).next(R=>R?_.Us.Es(S,R):we.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield bm(i.remoteStore):"acknowledged"===t||"rejected"===t?(tA(i,e,r||null),eA(i,e),f=e,et(et(i.localStore).gs).Qe(f)):vt(),yield uu(i,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),lA.apply(this,arguments)}function cA(){return cA=(0,De.Z)(function*(n,e){const t=et(n);if(fA(t),pA(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Ak(t,r.toArray());t.Lc=!0,yield NS(t.remoteStore,!0);for(const l of i)p0(t.remoteStore,l)}else if(!1===e&&!1!==t.Lc){const r=[];let i=Promise.resolve();t.Nc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Im(t,d),ym(t.localStore,d,!0))),Cv(t.remoteStore,d)}),yield i,yield Ak(t,r),function(l){const d=et(l);d.Oc.forEach((f,_)=>{Cv(d.remoteStore,_)}),d.Mc.ii(),d.Oc=new Map,d.kc=new Ur(c.comparator)}(t),t.Lc=!1,yield NS(t.remoteStore,!1)}}),cA.apply(this,arguments)}function Ak(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,De.Z)(function*(n,e,t){const r=et(n),i=[],l=[];for(const d of e){let f;const _=r.Nc.get(d);if(_&&0!==_.length){f=yield _m(r.localStore,la(_[0]));for(const w of _){const S=r.Cc.get(w),R=yield FL(r,S);R.snapshot&&l.push(R.snapshot)}}else{const w=yield sk(r.localStore,d);f=yield _m(r.localStore,w),yield qS(r,Mk(w),d,!1)}i.push(f)}return r.Dc.To(l),i}),uA.apply(this,arguments)}function Mk(n){return qR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UL(n){const e=et(n);return et(et(e.localStore).persistence).ds()}function jL(n,e,t,r){return dA.apply(this,arguments)}function dA(){return dA=(0,De.Z)(function*(n,e,t,r){const i=et(n);if(i.Lc)je("SyncEngine","Ignoring unexpected query state notification.");else if(i.Nc.has(e))switch(t){case"current":case"not-current":{const l=yield ok(i.localStore),d=uv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield uu(i,l,d);break}case"rejected":yield ym(i.localStore,e,!0),Im(i,e,r);break;default:vt()}}),dA.apply(this,arguments)}function HL(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,De.Z)(function*(n,e,t){const r=fA(n);if(r.Lc){for(const i of e){if(r.Nc.has(i)){je("SyncEngine","Adding an already active target "+i);continue}const l=yield sk(r.localStore,i),d=yield _m(r.localStore,l);yield qS(r,Mk(l),d.targetId,!1),p0(r.remoteStore,d)}for(const i of t)r.Nc.has(i)&&(yield ym(r.localStore,i,!1).then(()=>{Cv(r.remoteStore,i),Im(r,i)}).catch(zf))}}),hA.apply(this,arguments)}function fA(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ML.bind(null,e),e.Dc.To=vL.bind(null,e.eventManager),e.Dc.qc=bL.bind(null,e.eventManager),e}function pA(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class xk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.O=Ev(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return tk(this.persistence,new ek,e.initialUser,this.O)}jc(e){return new QF(pS.bi,this.O)}Gc(e){return new ck}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rk extends xk{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield function HF(n){return uS.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield pA(r.zc.syncEngine),yield bm(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return tk(this.persistence,new ek,e.initialUser,this.O)}Qc(e){return new xF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new sS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dk(),f0(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new ck}}class GL extends Rk{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const i=r.zc.syncEngine;r.sharedClientState instanceof yS&&(r.sharedClientState.syncEngine={hr:VL.bind(null,i),lr:jL.bind(null,i),dr:HL.bind(null,i),ds:UL.bind(null,i),ar:LL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var l=(0,De.Z)(function*(d){yield function BL(n,e){return cA.apply(this,arguments)}(r.zc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}Gc(e){const t=dk();if(!yS.Vt(t))throw new Ne(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gA{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Tk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=PL.bind(null,r.syncEngine),yield NS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yL}createDatastore(e){const t=Ev(e.databaseInfo.databaseId),r=new nL(e.databaseInfo);return new sL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>Tk(this.syncEngine,f,0),d=uk.Vt()?new uk:new JF,new aL(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,_,w){const S=new IL(r,i,l,d,f,_);return w&&(S.Lc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=et(t);je("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield vm(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ok(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class m0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qL{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,De.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),i=Number(r);isNaN(i)&&e.eu(`length string (${r}) is not valid number`);const l=yield e.nu(i);return new EL(JSON.parse(l),t.length+i)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,De.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,De.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,De.Z)(function*(l,d){const f=et(l),_=pv(f.O)+"/documents",w={documents:d.map(q=>fv(f.O,q))},S=yield f.Lr("BatchGetDocuments",_,w),R=new Map;S.forEach(q=>{const X=function sF(n,e){return"found"in e?function(t,r){Vt(!!r.found);const i=Hl(t,r.found.name),l=Pi(r.found.updateTime),d=new rt({mapValue:{fields:r.found.fields}});return Tt.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const i=Hl(t,r.missing),l=Pi(r.readTime);return Tt.newNoDocument(i,l)}(n,e):vt()}(f.O,q);R.set(X.key.toString(),X)});const L=[];return d.forEach(q=>{const X=R.get(q.toString());Vt(!!X),L.push(X)}),L}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=c.fromPath(i);e.mutations.push(new BT(l,e.precondition(l)))}),yield(r=(0,De.Z)(function*(i,l){const d=et(i),f=pv(d.O)+"/documents",_={writes:l.map(w=>gv(d.O,w))};yield d.Mr("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vt();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Xr.updateTime(t):Xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ne(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(t)}return Xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zL{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new vS(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,De.Z)(function*(){const t=new ZL(e.datastore),r=e.cu(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.uu(l)}))}).catch(i=>{e.uu(i)})}))}cu(e){try{const t=this.updateFunction(e);return!s(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!lO(t)}return!1}}class WL{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=nv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,De.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(je("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=wm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kk(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,De.Z)(function*(l){r.isEqual(l)||(yield nk(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mA.apply(this,arguments)}function Pk(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yA(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>yk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>yk(e.remoteStore,l)),n.onlineComponents=e}),_A.apply(this,arguments)}function yA(n){return vA.apply(this,arguments)}function vA(){return vA=(0,De.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield kk(n,new xk)),n.offlineComponents}),vA.apply(this,arguments)}function _0(n){return bA.apply(this,arguments)}function bA(){return bA=(0,De.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield Pk(n,new gA)),n.onlineComponents}),bA.apply(this,arguments)}function Nk(n){return yA(n).then(e=>e.persistence)}function EA(n){return yA(n).then(e=>e.localStore)}function Fk(n){return _0(n).then(e=>e.remoteStore)}function wA(n){return _0(n).then(e=>e.syncEngine)}function Tm(n){return CA.apply(this,arguments)}function CA(){return CA=(0,De.Z)(function*(n){const e=yield _0(n),t=e.eventManager;return t.onListen=TL.bind(null,e.syncEngine),t.onUnlisten=SL.bind(null,e.syncEngine),t}),CA.apply(this,arguments)}function Lk(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,l,d,f,_){const w=new m0({next:R=>{l.enqueueAndForget(()=>US(i,S));const L=R.docs.has(d);!L&&R.fromCache?_.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&f&&"server"===f.source?_.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),S=new $S(im(d.path),w,{includeMetadataChanges:!0,uc:!0});return VS(i,S)}(yield Tm(n),n.asyncQueue,e,t,r)})),r.promise}function Vk(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,l,d,f,_){const w=new m0({next:R=>{l.enqueueAndForget(()=>US(i,S)),R.fromCache&&"server"===f.source?_.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),S=new $S(d,w,{includeMetadataChanges:!0,uc:!0});return VS(i,S)}(yield Tm(n),n.asyncQueue,e,t,r)})),r.promise}const Bk=new Map;function DA(n,e,t){if(!t)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uk(n,e,t,r){if(!0===e&&!0===r)throw new Ne(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jk(n){if(!c.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hk(n){if(c.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":vt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=y0(n);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $k(n,e){if(e<=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Gk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gk({}),this._settingsFrozen=!1,e instanceof xd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new IT;switch(t.type){case"gapi":const r=t.client;return Vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Hw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Bk.get(e);t&&(je("ComponentProvider","Removing Datastore"),Bk.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class ql extends hs{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new c(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function qk(n,e,...t){if(n=(0,$t.m9)(n),DA("collection","path",e),n instanceof Dv){const r=cn.fromString(e,...t);return Hk(r),new ql(n,null,r)}{if(!(n instanceof Jn||n instanceof ql))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return Hk(r),new ql(n.firestore,null,r)}}function v0(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=nv.R()),DA("doc","path",e),n instanceof Dv){const r=cn.fromString(e,...t);return jk(r),new Jn(n,null,new c(r))}{if(!(n instanceof Jn||n instanceof ql))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return jk(r),new Jn(n.firestore,n instanceof ql?n.converter:null,new c(r))}}function Zk(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Jn||n instanceof ql)&&(e instanceof Jn||e instanceof ql)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zk(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&ov(n._query,e._query)&&n.converter===e.converter}class sV{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new vS(this,"async_queue_retry"),this.yu=()=>{const t=f0();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=f0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=f0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Wr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,De.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Hf(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,br("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const i=LS.createAndSchedule(this,e,t,r,l=>this.Tu(l));return this.du.push(i),i}pu(){this._u&&vt()}verifyOperationInProgress(){}Au(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function IA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class oV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends Dv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new sV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wk(this),this._firestoreClient.terminate()}}function ei(n){return n._firestoreClient||Wk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Wk(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jR(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new WL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Kk(n,e,t){const r=new Wr;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield kk(n,t),yield Pk(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function Yk(n){if(n._initialized||n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Qr.fromBase64String(e))}catch(t){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zl(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wf{constructor(e){this._methodName=e}}class b0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const mV=/^__.*__$/;class _V{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms):new lv(e,this.data,t,this.fieldTransforms)}}class Qk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class E0{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=i,void 0===l&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new E0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return D0(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Xk(this.Vu)&&mV.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class yV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Ev(e)}Fu(e,t,r,i=!1){return new E0({Vu:e,methodName:t,$u:r,path:Yr.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Kf(n){const e=n._freezeSettings(),t=Ev(n._databaseId);return new yV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function w0(n,e,t,r,i,l={}){const d=n.Fu(l.merge||l.mergeFields?2:0,e,t,i);MA("Data must be an object, but it was:",d,r);const f=tP(r,d);let _,w;if(l.merge)_=new Ad(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const R of l.mergeFields){const L=xA(e,R,t);if(!d.contains(L))throw new Ne(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);rP(S,L)||S.push(L)}_=new Ad(S),w=d.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,w=d.fieldTransforms;return new _V(new rt(f),_,w)}class Iv extends Wf{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iv}}function Jk(n,e,t){return new E0({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class TA extends Wf{_toFieldTransform(e){return new av(e.path,new om)}isEqual(e){return e instanceof TA}}class vV extends Wf{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Jk(this,e,!0),r=this.Bu.map(l=>Yf(l,t)),i=new Vf(r);return new av(e.path,i)}isEqual(e){return this===e}}class bV extends Wf{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=Jk(this,e,!0),r=this.Bu.map(l=>Yf(l,t)),i=new Bf(r);return new av(e.path,i)}isEqual(e){return this===e}}class EV extends Wf{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new am(e.O,QR(e.O,this.Lu));return new av(e.path,t)}isEqual(e){return this===e}}function SA(n,e,t,r){const i=n.Fu(1,e,t);MA("Data must be an object, but it was:",i,r);const l=[],d=rt.empty();iu(r,(_,w)=>{const S=C0(e,_,t);w=(0,$t.m9)(w);const R=i.xu(S);if(w instanceof Iv)l.push(S);else{const L=Yf(w,R);null!=L&&(l.push(S),d.set(S,L))}});const f=new Ad(l);return new Qk(d,f,i.fieldTransforms)}function AA(n,e,t,r,i,l){const d=n.Fu(1,e,t),f=[xA(e,r,t)],_=[i];if(l.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)f.push(xA(e,l[L])),_.push(l[L+1]);const w=[],S=rt.empty();for(let L=f.length-1;L>=0;--L)if(!rP(w,f[L])){const q=f[L];let X=_[L];X=(0,$t.m9)(X);const fe=d.xu(q);if(X instanceof Iv)w.push(q);else{const Fe=Yf(X,fe);null!=Fe&&(w.push(q),S.set(q,Fe))}}const R=new Ad(w);return new Qk(S,R,d.fieldTransforms)}function eP(n,e,t,r=!1){return Yf(t,n.Fu(r?4:3,e))}function Yf(n,e){if(nP(n=(0,$t.m9)(n)))return MA("Unsupported field value:",e,n),tP(n,e);if(n instanceof Wf)return function(t,r){if(!Xk(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=Yf(d,r.ku(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QR(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Kr.fromDate(t);return{timestampValue:hv(r.O,i)}}if(t instanceof Kr){const i=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hv(r.O,i)}}if(t instanceof b0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zl)return{bytesValue:mO(r.O,t._byteString)};if(t instanceof Jn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.Ou(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${y0(t)}`)}(n,e)}function tP(n,e){const t={};return qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(n,(r,i)=>{const l=Yf(i,e.Du(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function nP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof b0||n instanceof Zl||n instanceof Jn||n instanceof Wf)}function MA(n,e,t){if(!nP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=y0(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function xA(n,e,t){if((e=(0,$t.m9)(e))instanceof du)return e._internalPath;if("string"==typeof e)return C0(n,e);throw D0("Field path arguments must be of type string or ",n,!1,void 0,t)}const wV=new RegExp("[~\\*/\\[\\]]");function C0(n,e,t){if(e.search(wV)>=0)throw D0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch(r){throw D0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function D0(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Ne(he.INVALID_ARGUMENT,f+n+_)}function rP(n,e){return n.some(t=>t.isEqual(e))}class Tv{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new CV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(I0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class CV extends Tv{data(){return super.data()}}function I0(n,e){return"string"==typeof e?C0(n,e):e instanceof du?e._internalPath:e._delegate._internalPath}class Qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends Tv{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(I0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sv extends hu{data(e={}){return super.data(e)}}class jd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sv(this._firestore,this._userDataWriter,r.key,r,new Qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Sv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new Sv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:DV(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function iP(n,e){return n instanceof hu&&e instanceof hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jd&&e instanceof jd&&n._firestore===e._firestore&&zk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function sP(n){if(zw(n)&&0===n.explicitOrderBy.length)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}function Hd(n,...e){for(const t of e)n=t._apply(n);return n}class IV extends Av{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=Kf(e.firestore),r=function(i,l,d,f,_,w,S){let R;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){dP(S,w);const q=[];for(const X of S)q.push(uP(f,i,X));R={arrayValue:{values:q}}}else R=uP(f,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||dP(S,w),R=eP(d,"where",S,"in"===w||"not-in"===w);const L=vi.create(_,w,R);return function(q,X){if(X.S()){const Fe=PT(q);if(null!==Fe&&!Fe.isEqual(X.field))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${X.field.toString()}'`);const gt=kT(q);null!==gt&&hP(0,X.field,gt)}const fe=function(Fe,gt){for(const St of Fe.filters)if(gt.indexOf(St.op)>=0)return St.op;return null}(q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==fe)throw new Ne(he.INVALID_ARGUMENT,fe===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${fe.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new hs(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class SV extends Av{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new rm(i,l);return function(f,_){if(null===kT(f)){const w=PT(f);null!==w&&hP(0,w,_.field)}}(r,d),d}(e._query,this.Uu,this.Gu);return new hs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new lu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class oP extends Av{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new hs(e.firestore,e.converter,ZR(e._query,this.ju,this.Qu))}}class aP extends Av{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=cP(e,this.type,this.Wu,this.zu);return new hs(e.firestore,e.converter,(i=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class lP extends Av{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=cP(e,this.type,this.Wu,this.zu);return new hs(e.firestore,e.converter,(i=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function cP(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof Tv)return function(i,l,d,f,_){if(!f)throw new Ne(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const S of sm(i))if(S.field.isKeyField())w.push($(l,f.key));else{const R=f.data.field(S.field);if(rv(R))throw new Ne(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const L=S.field.canonicalString();throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(R)}return new nm(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Kf(n.firestore);return function(l,d,f,_,w,S){const R=l.explicitOrderBy;if(w.length>R.length)throw new Ne(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let q=0;q<w.length;q++){const X=w[q];if(R[q].field.isKeyField()){if("string"!=typeof X)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof X}`);if(!NT(l)&&-1!==X.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${X}' contains a slash.`);const fe=l.path.child(cn.fromString(X));if(!c.isDocumentKey(fe))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Fe=new c(fe);L.push($(d,Fe))}else{const fe=eP(f,_,X);L.push(fe)}}return new nm(L,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function uP(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&-1!==t.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!c.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $(n,new c(r))}if(t instanceof Jn)return $(n,t._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y0(t)}.`)}function dP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function hP(n,e,t){if(!t.isEqual(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class RA{convertValue(e,t="none"){switch(g(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vt()}}convertObject(e,t){const r={};return iu(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new b0(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=OT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(em(e));default:return null}}convertTimestamp(e){const t=su(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);Vt(TO(r));const i=new xd(r.get(1),r.get(3)),l=new c(r.popFirst(5));return i.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function T0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class NV extends RA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class fP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kf(e)}set(e,t,r){this._verifyNotCommitted();const i=$d(e,this._firestore),l=T0(i.converter,t,r),d=w0(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Xr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=$d(e,this._firestore);let d;return d="string"==typeof(t=(0,$t.m9)(t))||t instanceof du?AA(this._dataReader,"WriteBatch.update",l._key,t,r,i):SA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$d(e,this._firestore);return this._mutations=this._mutations.concat(new cv(t._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $d(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Ne(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xf extends RA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function pP(n,e,t){n=ln(n,Jn);const r=ln(n.firestore,cr),i=T0(n.converter,e,t);return Sm(r,[w0(Kf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xr.none())])}function gP(n,e,t,...r){n=ln(n,Jn);const i=ln(n.firestore,cr),l=Kf(i);let d;return d="string"==typeof(e=(0,$t.m9)(e))||e instanceof du?AA(l,"updateDoc",n._key,e,t,r):SA(l,"updateDoc",n._key,e),Sm(i,[d.toMutation(n._key,Xr.exists(!0))])}function mP(n,...e){var t,r,i;n=(0,$t.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||IA(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(IA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let _,w,S;if(n instanceof Jn)w=ln(n.firestore,cr),S=im(n._key.path),_={next:R=>{e[d]&&e[d](OA(w,n,R))},error:e[d+1],complete:e[d+2]};else{const R=ln(n,hs);w=ln(R.firestore,cr),S=R._query;const L=new Xf(w);_={next:q=>{e[d]&&e[d](new jd(w,L,R,q))},error:e[d+1],complete:e[d+2]},sP(n._query)}return function(R,L,q,X){const fe=new m0(X),Fe=new $S(L,fe,q);return R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return VS(yield Tm(R),Fe)})),()=>{fe.Jc(),R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return US(yield Tm(R),Fe)}))}}(ei(w),S,f,_)}function Sm(n,e){return function(t,r){const i=new Wr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function AL(n,e,t){return WS.apply(this,arguments)}(yield wA(t),r,i)})),i.promise}(ei(n),e)}function OA(n,e,t){const r=t.docs.get(e._key),i=new Xf(n);return new hu(n,i,e._key,r,new Qf(t.hasPendingWrites,t.fromCache),e.converter)}class qV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Kf(e)}get(e){const t=$d(e,this._firestore),r=new NV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return vt();const l=i[0];if(l.isFoundDocument())return new Tv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Tv(this._firestore,r,t._key,null,t.converter);throw vt()})}set(e,t,r){const i=$d(e,this._firestore),l=T0(i.converter,t,r),d=w0(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=$d(e,this._firestore);let d;return d="string"==typeof(t=(0,$t.m9)(t))||t instanceof du?AA(this._dataReader,"Transaction.update",l._key,t,r,i):SA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=$d(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$d(e,this._firestore),r=new Xf(this._firestore);return super.get(e).then(i=>new hu(this._firestore,r,t._key,i._document,new Qf(!1,!1),t.converter))}}function kA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yP(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function vP(){if(!function RT(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ul=Ja.SDK_VERSION,(0,Ja._registerComponent)(new md.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new cr(i,new Uw(t.getProvider("auth-internal")),new ST(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Ja.registerVersion)(ev,"3.4.5",n),(0,Ja.registerVersion)(ev,"3.4.5","esm2017")}();class Mv{constructor(e){this._delegate=e}static fromBase64String(e){return vP(),new Mv(Zl.fromBase64String(e))}static fromUint8Array(e){return yP(),new Mv(Zl.fromUint8Array(e))}toBase64(){return vP(),this._delegate.toBase64()}toUint8Array(){return yP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PA(n){return function eB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tB{enableIndexedDbPersistence(e,t){return function lV(n,e){Yk(n=ln(n,cr));const t=ei(n),r=n._freezeSettings(),i=new gA;return Kk(t,i,new Rk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cV(n){Yk(n=ln(n,cr));const e=ei(n),t=n._freezeSettings(),r=new gA;return Kk(e,r,new GL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uV(n){if(n._initialized&&!n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!nl.Vt())return Promise.resolve();const i=r+"main";yield nl.delete(i)}),function(r){return t.apply(this,arguments)})(oS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof xd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rV(n,e,t,r={}){var i;const l=(n=ln(n,Dv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Jg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Br.MOCK_USER;else{d=(0,$t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Br(_)}n._authCredentials=new TT(new Bw(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function hV(n){return function KL(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Nk(n),t=yield Fk(n);return e.setNetworkEnabled(!0),function(r){const i=et(r);return i.Ko.delete(0),wv(i)}(t)}))}(ei(n=ln(n,cr)))}(this._delegate)}disableNetwork(){return function fV(n){return function YL(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield Nk(n),t=yield Fk(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(i){const l=et(i);l.Ko.add(0),yield vm(l),l.Qo.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ei(n=ln(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Uk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dV(n){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function OL(n,e){return JS.apply(this,arguments)}(yield wA(e),t)})),t.promise}(ei(n=ln(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function GV(n,e){return function JL(n,e){const t=new m0(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield Tm(n),i=t,et(r).Zo.add(i),void i.next();var r,i})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield Tm(n),i=t,void et(r).Zo.delete(i);var r,i}))}}(ei(n=ln(n,cr)),IA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Am(this,qk(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new ha(this,v0(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function iV(n,e){if(n=ln(n,Dv),DA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(t=e,new lu(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ZV(n,e){return function eV(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const r=yield(i=n,_0(i).then(l=>l.datastore));var i;new zL(n.asyncQueue,r,e,t).run()})),t.promise}(ei(n=ln(n,cr)),t=>e(new qV(n,t)))}(this._delegate,t=>e(new EP(this,t)))}batch(){return ei(this._delegate),new wP(new fP(this._delegate,e=>Sm(this._delegate,e)))}loadBundle(e){return function pV(n,e){const t=ei(n=ln(n,cr)),r=new oV;return function tV(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return Ok(_,w);if(_ instanceof ArrayBuffer)return Ok(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new qL(_,d);var _}(t,Ev(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function $L(n,e,t){const r=et(n);var i;(i=(0,De.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(L,q){const X=et(L),fe=Pi(q.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Fe=>X.Kn.getBundleMetadata(Fe,q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(fe)>=0)}(l.localStore,_))return yield d.close(),void f._completeWith((L=_,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));f._updateProgress(Ek(_));const w=new wL(_,l.localStore,d.O);let S=yield d.Kc();for(;S;){const L=yield w.lc(S);L&&f._updateProgress(L),S=yield d.Kc()}const R=yield w.complete();yield uu(l,R.ws,void 0),yield function(L,q){const X=et(L);return X.persistence.runTransaction("Save bundle","readwrite",fe=>X.Kn.saveBundleMetadata(fe,q))}(l.localStore,_),f._completeWith(R.progress)}catch(_){Jg("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_)}var L}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield wA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gV(n,e){return function nV(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const i=et(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Kn.getNamedQuery(l,r))}(yield EA(n),e)}))}(ei(n=ln(n,cr)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class S0 extends RA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mv(new Zl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class EP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new S0(e)}get(e){const t=ep(e);return this._delegate.get(t).then(r=>new xv(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ep(e);return r?(kA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ep(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ep(e);return this._delegate.delete(t),this}}class wP{constructor(e){this._delegate=e}set(e,t,r){const i=ep(e);return r?(kA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ep(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ep(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Sv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Jf(e,new S0(e),t),i.set(t,l)),l}}Jf.INSTANCES=new WeakMap;class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S0(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ha(t,new Jn(t._delegate,r,new c(e)))}static forKey(e,t,r){return new ha(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Am(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Am(this.firestore,qk(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Jn&&Zk(this._delegate,e)}set(e,t){t=kA("DocumentReference.set",t);try{return t?pP(this._delegate,e,t):pP(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gP(this._delegate,e):gP(this._delegate,e,t,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function HV(n){return Sm(ln(n.firestore,cr),[new cv(n._key,Xr.none())])}(this._delegate)}onSnapshot(...e){const t=CP(e),r=DP(e,i=>new xv(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function LV(n){n=ln(n,Jn);const e=ln(n.firestore,cr),t=ei(e),r=new Xf(e);return function QL(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,l,d){try{const f=yield function(_,w){const S=et(_);return S.persistence.runTransaction("read document","readonly",R=>S.Us.ys(R,w))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Ne(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=wm(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield EA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hu(e,r,n._key,i,new Qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function VV(n){n=ln(n,Jn);const e=ln(n.firestore,cr);return Lk(ei(e),n._key,{source:"server"}).then(t=>OA(e,n,t))}(this._delegate):function FV(n){n=ln(n,Jn);const e=ln(n.firestore,cr);return Lk(ei(e),n._key).then(t=>OA(e,n,t))}(this._delegate),t.then(r=>new xv(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function CP(n){for(const e of n)if("object"==typeof e&&!PA(e))return e;return{}}function DP(n,e){var t,r;let i;return i=PA(n[0])?n[0]:PA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iP(this._delegate,e._delegate)}}class Rv extends xv{data(e){const t=this._delegate.data(e);return function VR(n,e){n||vt()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S0(e)}where(e,t,r){try{return new Is(this.firestore,Hd(this._delegate,function TV(n,e,t){const r=e,i=I0("where",n);return new IV(i,r,t)}(e,t,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,Hd(this._delegate,function AV(n,e="asc"){const t=e,r=I0("orderBy",n);return new SV(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,Hd(this._delegate,function MV(n){return $k("limit",n),new oP("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,Hd(this._delegate,function xV(n){return $k("limitToLast",n),new oP("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,Hd(this._delegate,function RV(...n){return new aP("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,Hd(this._delegate,function OV(...n){return new aP("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,Hd(this._delegate,function kV(...n){return new lP("endBefore",n,!1)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,Hd(this._delegate,function PV(...n){return new lP("endAt",n,!0)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return zk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function UV(n){n=ln(n,hs);const e=ln(n.firestore,cr),t=ei(e),r=new Xf(e);return function XL(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,l,d){try{const f=yield u0(i,l,!0),_=new Dk(l,f.Ks),w=_.Ic(f.documents),S=_.applyChanges(w,!1);d.resolve(S.snapshot)}catch(f){const _=wm(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield EA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function jV(n){n=ln(n,hs);const e=ln(n.firestore,cr),t=ei(e),r=new Xf(e);return Vk(t,n._query,{source:"server"}).then(i=>new jd(e,r,n,i))}(this._delegate):function BV(n){n=ln(n,hs);const e=ln(n.firestore,cr),t=ei(e),r=new Xf(e);return sP(n._query),Vk(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate),t.then(r=>new NA(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=CP(e),r=DP(e,i=>new NA(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mP(this._delegate,t,r)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}class rB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Rv(this._firestore,r))})}isEqual(e){return iP(this._delegate,e._delegate)}}class Am extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ha(this.firestore,e):null}doc(e){try{return new ha(this.firestore,void 0===e?v0(this._delegate):v0(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function $V(n,e){const t=ln(n.firestore,cr),r=v0(n),i=T0(n.converter,e);return Sm(t,[w0(Kf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ha(this.firestore,t))}isEqual(e){return Zk(this._delegate,e._delegate)}withConverter(e){return new Am(this.firestore,this._delegate.withConverter(e?Jf.getInstance(this.firestore,e):null))}}function ep(n){return ln(n,Jn)}class FA{constructor(...e){this._delegate=new du(...e)}static documentId(){return new FA(Yr.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof du&&this._delegate._internalPath.isEqual(e._internalPath)}}class tp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function WV(){return new TA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tp(e)}static delete(){const e=function zV(){return new Iv("deleteField")}();return e._methodName="FieldValue.delete",new tp(e)}static arrayUnion(...e){const t=function KV(...n){return new vV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tp(t)}static arrayRemove(...e){const t=function YV(...n){return new bV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tp(t)}static increment(e){const t=function QV(n){return new EV("increment",n)}(e);return t._methodName="FieldValue.increment",new tp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iB={Firestore:bP,GeoPoint:b0,Timestamp:Kr,Blob:Mv,Transaction:EP,WriteBatch:wP,DocumentReference:ha,DocumentSnapshot:xv,Query:Is,QueryDocumentSnapshot:Rv,QuerySnapshot:NA,CollectionReference:Am,FieldPath:FA,FieldValue:tp,setLogLevel:function nB(n){!function tv(n){jl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function oB(n){(function sB(n,e){n.INTERNAL.registerComponent(new md.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},iB)))})(n,(e,t)=>new bP(e,t,new tB)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(GI.Z);var A0=N(5363),aB=N(6063);class lB extends Cn.x{constructor(e=1/0,t=1/0,r=aB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var cB=N(3099);function IP(n,e,t){var r,i;let l,d=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,d=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,cB.B)({connector:()=>new lB(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function TP(n,e){return(0,$a.m)(e)?Si(()=>n,e):Si(()=>n)}var LA=N(9468);N(5867);const AP=new Map,pB={activated:!1,tokenObservers:[]},gB={initialized:!1,enabled:!1};function Bi(n){return AP.get(n)||pB}function rl(n,e){AP.set(n,e)}function x0(){return gB}class bB{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function EB(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ts=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xP(n){if(!Bi(n).activated)throw Ts.create("use-before-activation",{appName:n.name})}function jA(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,De.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,l)}catch(R){throw Ts.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==d.status)throw Ts.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(R){throw Ts.create("fetch-parse-error",{originalErrorMessage:R.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),S=Date.now();return{token:f.attestationToken,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),HA.apply(this,arguments)}function TB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ov="firebase-app-check-store";let k0=null;function OP(){return k0||(k0=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ts.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ov,{keyPath:"compositeKey"})}}catch(t){e(Ts.create("storage-open",{originalErrorMessage:t.message}))}}),k0)}function $A(){return $A=(0,De.Z)(function*(n,e){const r=(yield OP()).transaction(Ov,"readwrite"),l=r.objectStore(Ov).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;f(Ts.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),$A.apply(this,arguments)}const kv=new el.Yd("@firebase/app-check");function FP(n,e){return(0,$t.hl)()?function xB(n,e){return function kP(n,e){return $A.apply(this,arguments)}(function NP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LP(){return x0().enabled}function VP(){return zA.apply(this,arguments)}function zA(){return zA=(0,De.Z)(function*(){const n=x0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),zA.apply(this,arguments)}const FB={error:"UNKNOWN_ERROR"};function LB(n){return $t.US.encodeString(JSON.stringify(n),!1)}function P0(n){return WA.apply(this,arguments)}function WA(){return WA=(0,De.Z)(function*(n,e=!1){const t=n.app;xP(t);const r=Bi(t);let l,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&N0(_)&&(i=_)}if(!e&&i&&N0(i))return{token:i.token};let f,d=!1;if(LP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=jA(TB(t,yield VP()),n.platformLoggerProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield FP(t,_),rl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?kv.warn(_.message):kv.error(_),l=_}return i?(f={token:i.token},rl(t,Object.assign(Object.assign({},r),{token:i})),yield FP(t,i)):f=BB(l),d&&UP(t,f),f}),WA.apply(this,arguments)}function YA(n,e){const t=Bi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),rl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function BP(n){const{app:e}=n,t=Bi(e);let r=t.tokenRefresher;r||(r=function VB(n){const{app:e}=n;return new bB((0,De.Z)(function*(){let r;if(r=Bi(e).token?yield P0(n,!0):yield P0(n),r.error)throw r.error}),()=>!0,()=>{const t=Bi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),rl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function UP(n,e){const t=Bi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function N0(n){return n.expireTimeMillis-Date.now()>0}function BB(n){return{token:LB(FB),error:n}}class UB{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Bi(this.app);for(const t of e)YA(this.app,t.next);return Promise.resolve()}}const WP="app-check-internal";!function eU(){(0,Ja._registerComponent)(new md.wA("app-check",n=>function jB(n,e){return new UB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WP).initialize()})),(0,Ja._registerComponent)(new md.wA(WP,n=>function HB(n){return{getToken:e=>P0(n,e),addTokenListener:e=>function KA(n,e,t,r){const{app:i}=n,l=Bi(i),d={next:t,error:r,type:e};if(rl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&N0(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),BP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>BP(n))}(n,"INTERNAL",e),removeTokenListener:e=>YA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ja.registerVersion)("@firebase/app-check","0.5.3")}();class eM{constructor(){return(0,zr.vb)("app-check")}}"undefined"!=typeof window&&window;var sU=N(127);const YP=new u.OlP("angularfire2.auth.use-emulator"),QP=new u.OlP("angularfire2.auth.settings"),XP=new u.OlP("angularfire2.auth.tenant-id"),JP=new u.OlP("angularfire2.auth.langugage-code"),eN=new u.OlP("angularfire2.auth.use-device-language"),tN=new u.OlP("angularfire.auth.persistence"),nN=(n,e,t,r,i,l,d,f)=>(0,Zs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,S]of Object.entries(d))_.settings[w]=S;return f&&_.setPersistence(f),_},[t,r,i,l,d,f]);let nM=(()=>{class n{constructor(t,r,i,l,d,f,_,w,S,R,L,q){const X=new Cn.x,fe=at(void 0).pipe((0,A0.Q)(d.outsideAngular),Si(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,Pt.U)(()=>(0,Zs.on)(t,l,r)),(0,Pt.U)(Fe=>nN(Fe,l,f,w,S,R,_,L)),IP({bufferSize:1,refCount:!1}));if(Jl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{fe.pipe(Ai()).subscribe();const gt=fe.pipe(Si(Et=>Et.getRedirectResult().then(vn=>vn,()=>null)),zr.iC,IP({bufferSize:1,refCount:!1})),St=fe.pipe(Si(Et=>new _r.y(vn=>({unsubscribe:l.runOutsideAngular(()=>Et.onAuthStateChanged(Rr=>vn.next(Rr),Rr=>vn.error(Rr),()=>vn.complete()))})))),Gt=fe.pipe(Si(Et=>new _r.y(vn=>({unsubscribe:l.runOutsideAngular(()=>Et.onIdTokenChanged(Rr=>vn.next(Rr),Rr=>vn.error(Rr),()=>vn.complete()))}))));this.authState=gt.pipe(TP(St),(0,LA.R)(d.outsideAngular),(0,A0.Q)(d.insideAngular)),this.user=gt.pipe(TP(Gt),(0,LA.R)(d.outsideAngular),(0,A0.Q)(d.insideAngular)),this.idToken=this.user.pipe(Si(Et=>Et?(0,In.D)(Et.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Si(Et=>Et?(0,In.D)(Et.getIdTokenResult()):at(null))),this.credential=(0,xE.T)(gt,X,this.authState.pipe(ws(Et=>!Et))).pipe((0,Pt.U)(Et=>(null==Et?void 0:Et.user)?Et:null),(0,LA.R)(d.outsideAngular),(0,A0.Q)(d.insideAngular))}return(0,Zs.pX)(this,fe,l,{spy:{apply:(Fe,gt,St)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&St.then(Gt=>X.next(Gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zs.Dh),u.LFG(Zs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(zr.HU),u.LFG(YP,8),u.LFG(QP,8),u.LFG(XP,8),u.LFG(JP,8),u.LFG(eN,8),u.LFG(tN,8),u.LFG(eM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function rN(n,e){return function aU(n,e=pd.z){return new _r.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function rM(n,e){return rN(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function L0(n,e){return rM(n,e).pipe(Rh(void 0),_g(),(0,Pt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(S=>S.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function iN(n,e,t){return L0(n,t).pipe(Oh((r,i)=>function cU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function uU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return iM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return iM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return iM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function HI(n,e=Tl.y){return n=null!=n?n:$I,(0,Wi.e)((t,r)=>{let i,l=!0;t.subscribe(new Fn.Q(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}(),(0,Pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function iM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function sN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=L0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Rh(void 0),_g(),ws(([r,i])=>i.length>0||!r),(0,Pt.U)(([r,i])=>i),zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sN(e);return iN(this.query,t,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return rM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),zr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(zr.iC)}add(e){return this.ref.add(e)}doc(e){return new aN(this.ref.doc(e),this.afs)}}class aN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=uN(r,t);return new oN(i,l,this.afs)}snapshotChanges(){return function lU(n,e){return rN(n,e).pipe(Rh(void 0),_g(),(0,Pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(zr.iC)}}class dU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?L0(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ws(t=>t.length>0),zr.iC):L0(this.query,this.afs.schedulers.outsideAngular).pipe(zr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Oh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sN(e);return iN(this.query,t,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(e={}){return rM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),zr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(zr.iC)}}const lN=new u.OlP("angularfire2.enableFirestorePersistence"),cN=new u.OlP("angularfire2.firestore.persistenceSettings"),hU=new u.OlP("angularfire2.firestore.settings"),fU=new u.OlP("angularfire2.firestore.use-emulator");function uN(n,e=(t=>t)){return{query:e(n),ref:n}}let sM=(()=>{class n{constructor(t,r,i,l,d,f,_,w,S,R,L,q,X,fe,Fe,gt,St){this.schedulers=_;const Gt=(0,Zs.on)(t,f,r),Et=S;R&&nN(Gt,f,L,X,fe,Fe,q,gt),[this.firestore,this.persistenceEnabled$]=(0,Zs.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const vn=f.runOutsideAngular(()=>Gt.firestore());if(l&&vn.settings(l),Et&&vn.useEmulator(...Et),i&&!Jl(d)){const Rr=()=>{try{return(0,In.D)(vn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ti){return"undefined"!=typeof console&&console.warn(ti),at(!1)}};return[vn,f.runOutsideAngular(Rr)]}return[vn,at(!1)]},[l,Et,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=uN(i,r),f=this.schedulers.ngZone.run(()=>l);return new oN(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new dU(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new aN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zs.Dh),u.LFG(Zs.xv,8),u.LFG(lN,8),u.LFG(hU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(zr.HU),u.LFG(cN,8),u.LFG(fU,8),u.LFG(nM,8),u.LFG(YP,8),u.LFG(QP,8),u.LFG(XP,8),u.LFG(JP,8),u.LFG(eN,8),u.LFG(tN,8),u.LFG(eM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pU=(()=>{class n{constructor(){sU.Z.registerVersion("angularfire",zr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lN,useValue:!0},{provide:cN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sM]}),n})(),V0=(()=>{class n{constructor(t){this.firestoreServices=t}addPassword(t){return new Promise((r,i)=>{this.firestoreServices.collection(Gc.passwordList).add(t).then(l=>{r()},l=>i(l))})}getPasswordList(){return this.firestoreServices.collection(Gc.passwordList).snapshotChanges()}updatePassword(t){return new Promise((r,i)=>{this.firestoreServices.doc(Gc.passwordList+"/"+t.id).update(Object.assign({},t)).then(l=>r(),l=>i(l))})}deletePassword(t){return new Promise((r,i)=>{this.firestoreServices.doc(Gc.passwordList+"/"+t.id).delete().then(l=>r(),l=>i(l))})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B0=[0,0,0],mU=["primary","secondary","success","danger","warning","info","light","dark"];let Mm=(()=>{class n{constructor(t,r){this._elementRef=t,this._renderer=r,this._rippleCentered=!1,this.rippleColor="",this.rippleDuration="500ms",this.rippleRadius=0,this._rippleUnbound=!1,this.ripple=!0}get rippleCentered(){return this._rippleCentered}set rippleCentered(t){this._rippleCentered=Nl(t)}get rippleUnbound(){return this._rippleUnbound}set rippleUnbound(t){this._rippleUnbound=Nl(t)}get host(){return this._elementRef.nativeElement}_createRipple(t){const{layerX:r,layerY:i}=t,l=r,d=i,f=this.host.offsetHeight,_=this.host.offsetWidth,w=this._durationToMsNumber(this.rippleDuration),R=this._getDiameter({offsetX:this.rippleCentered?f/2:l,offsetY:this.rippleCentered?_/2:d,height:f,width:_}),L=this.rippleRadius||R/2,X={left:this.rippleCentered?_/2-L+"px":l-L+"px",top:this.rippleCentered?f/2-L+"px":d-L+"px",height:`${2*this.rippleRadius||R}px`,width:`${2*this.rippleRadius||R}px`,transitionDelay:`0s, ${.5*w}ms`,transitionDuration:`${w}ms, ${w-.5*w}ms`},fe=this._renderer.createElement("div");this._createHTMLRipple(this.host,fe,X),this._removeHTMLRipple(fe,w)}_createHTMLRipple(t,r,i){Object.keys(i).forEach(l=>r.style[l]=i[l]),this._renderer.addClass(r,"ripple-wave"),""!==this.rippleColor&&(this._removeOldColorClasses(t),this._addColor(r,t)),this._toggleUnbound(t),this._appendRipple(r,t)}_removeHTMLRipple(t,r){setTimeout(()=>{t&&t.remove()},r)}_durationToMsNumber(t){return Number(t.replace("ms","").replace("s","000"))}_getDiameter({offsetX:t,offsetY:r,height:i,width:l}){const d=r<=i/2,f=t<=l/2,_=(q,X)=>Math.sqrt(Math.pow(q,2)+Math.pow(X,2)),w=r===i/2&&t===l/2,S_first=!0===d&&!1===f,S_second=!0===d&&!0===f,S_third=!1===d&&!0===f,S_fourth=!1===d&&!1===f,R={topLeft:_(t,r),topRight:_(l-t,r),bottomLeft:_(t,i-r),bottomRight:_(l-t,i-r)};let L=0;return w||S_fourth?L=R.topLeft:S_third?L=R.topRight:S_second?L=R.bottomRight:S_first&&(L=R.bottomLeft),2*L}_appendRipple(t,r){this._renderer.appendChild(r,t),setTimeout(()=>{this._renderer.addClass(t,"active")},50)}_toggleUnbound(t){this.rippleUnbound?this._renderer.addClass(t,"ripple-surface-unbound"):this._renderer.removeClass(t,"ripple-surface-unbound")}_addColor(t,r){if(mU.find(l=>l===this.rippleColor.toLowerCase()))this._renderer.addClass(r,`ripple-surface-${this.rippleColor.toLowerCase()}`);else{const l=this._colorToRGB(this.rippleColor).join(","),d="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join(`${l}`);t.style.backgroundImage=`radial-gradient(circle, ${d})`}}_removeOldColorClasses(t){const r=new RegExp("ripple-surface-[a-z]+","gi");(t.classList.value.match(r)||[]).forEach(l=>{this._renderer.removeClass(t,l)})}_colorToRGB(t){return"transparent"===t.toLowerCase()?B0:"#"===t[0]?function r(d){return d.length<7&&(d=`#${d[1]}${d[1]}${d[2]}${d[2]}${d[3]}${d[3]}`),[parseInt(d.substr(1,2),16),parseInt(d.substr(3,2),16),parseInt(d.substr(5,2),16)]}(t):(-1===t.indexOf("rgb")&&(t=function i(d){const f=document.body.appendChild(document.createElement("fictum")),_="rgb(1, 2, 3)";return f.style.color=_,f.style.color!==_||(f.style.color=d,f.style.color===_||""===f.style.color)?B0:(d=getComputedStyle(f).color,document.body.removeChild(f),d)}(t)),0===t.indexOf("rgb")?function l(d){return(d=d.match(/[.\d]+/g).map(f=>+Number(f))).length=3,d}(t):B0)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","mdbRipple",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r._createRipple(l)}),2&t&&u.ekj("ripple-surface",r.ripple)},inputs:{rippleCentered:"rippleCentered",rippleColor:"rippleColor",rippleDuration:"rippleDuration",rippleRadius:"rippleRadius",rippleUnbound:"rippleUnbound"},exportAs:["mdbRipple"]}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})();function yU(n,e){1&n&&(u.TgZ(0,"p",14),u.TgZ(1,"strong"),u._uU(2,"Error!"),u.qZA(),u._uU(3," Password does not match! Please try again. "),u.qZA())}let vU=(()=>{class n{constructor(t,r){this.addModal=t,this.passwordApiServices=r,this.passwordList=new Ki,this.confirmPassword="",this.notMatch=!1}ngOnInit(){}addData(t){if(this.confirmPassword===t.appPassword){const r={appName:t.appName,appUser:t.appUser,appPassword:t.appPassword,lastUpdatedBy:"Farhan",lastUpdatedDate:new Date};this.passwordApiServices.addPassword(r).then(()=>this.addModal.close(!0)).catch(()=>{this.addModal.close(!1)}),this.notMatch=!1}else this.notMatch=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(df),u.Y36(V0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add"]],decls:27,vars:5,consts:[[1,"modal-header","text-center",2,"background-color","#ec4a89","color","white"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close","mdbRipple","",1,"btn-close",3,"click"],[1,"modal-body"],["class","note note-danger",4,"ngIf"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text",2,"width","200px","color","#ec4a89"],["type","text","placeholder","Application Name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Username/Email","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Confirm Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","mdbRipple","",1,"btn","btn-default",2,"background-color","#ec4a89","color","white",3,"click"],["type","button","mdbRipple","",1,"btn","btn-info",3,"click"],[1,"note","note-danger"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"Add New Application"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return r.addModal.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,yU,4,0,"p",4),u.TgZ(6,"div",5),u.TgZ(7,"span",6),u._uU(8,"Application Name"),u.qZA(),u.TgZ(9,"input",7),u.NdJ("ngModelChange",function(l){return r.passwordList.appName=l}),u.qZA(),u.qZA(),u.TgZ(10,"div",5),u.TgZ(11,"span",6),u._uU(12,"Username"),u.qZA(),u.TgZ(13,"input",8),u.NdJ("ngModelChange",function(l){return r.passwordList.appUser=l}),u.qZA(),u.qZA(),u.TgZ(14,"div",5),u.TgZ(15,"span",6),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",9),u.NdJ("ngModelChange",function(l){return r.passwordList.appPassword=l}),u.qZA(),u.qZA(),u.TgZ(18,"div",5),u.TgZ(19,"span",6),u._uU(20,"Confirm Password"),u.qZA(),u.TgZ(21,"input",10),u.NdJ("ngModelChange",function(l){return r.confirmPassword=l}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"div",11),u.TgZ(23,"button",12),u.NdJ("click",function(){return r.addModal.close()}),u._uU(24," Close "),u.qZA(),u.TgZ(25,"button",13),u.NdJ("click",function(){return r.addData(r.passwordList)}),u._uU(26," Add New + "),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Q6J("ngIf",!0===r.notMatch),u.xp6(4),u.Q6J("ngModel",r.passwordList.appName),u.xp6(4),u.Q6J("ngModel",r.passwordList.appUser),u.xp6(4),u.Q6J("ngModel",r.passwordList.appPassword),u.xp6(4),u.Q6J("ngModel",r.confirmPassword))},directives:[Mm,nr,di,Bs,_o],styles:[""]}),n})(),bU=(()=>{class n{constructor(t,r){this.deleteModal=t,this.passwordApiServices=r,this.passwordDelete=new Ki}ngOnInit(){}deleteData(){this.passwordApiServices.deletePassword(this.passwordDelete).then(()=>this.deleteModal.close(!0)).catch(()=>{this.deleteModal.close(!1)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(df),u.Y36(V0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-delete"]],decls:12,vars:0,consts:[[1,"modal-header","text-center",2,"background-color","#ec4a89","color","white"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close","mdbRipple","",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center"],[1,"modal-footer"],["type","button","mdbRipple","",1,"btn","btn-default",2,"background-color","#ec4a89","color","white",3,"click"],["type","button","mdbRipple","",1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"Delete Password"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return r.deleteModal.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"p",4),u._uU(6,"Are you sure to delete this password?"),u.qZA(),u.qZA(),u.TgZ(7,"div",5),u.TgZ(8,"button",6),u.NdJ("click",function(){return r.deleteModal.close()}),u._uU(9," Cancel "),u.qZA(),u.TgZ(10,"button",7),u.NdJ("click",function(){return r.deleteData()}),u._uU(11," Delete Password "),u.qZA(),u.qZA())},directives:[Mm],styles:[""]}),n})();function EU(n,e){1&n&&(u.TgZ(0,"p",14),u.TgZ(1,"strong"),u._uU(2,"Error!"),u.qZA(),u._uU(3," Password does not match! Please try again. "),u.qZA())}let wU=(()=>{class n{constructor(t,r){this.editModal=t,this.passwordApiServices=r,this.passwordEdit=new Ki,this.passwordObj=new Ki,this.confirmPassword="",this.notMatch=!1}ngOnInit(){this.passwordObj={appName:this.passwordEdit.appName,appUser:this.passwordEdit.appUser,appPassword:this.passwordEdit.appPassword,id:this.passwordEdit.id,lastUpdatedBy:this.passwordEdit.lastUpdatedBy,lastUpdatedDate:this.passwordEdit.lastUpdatedDate}}updateData(t){if(this.confirmPassword===t.appPassword){const r={appName:t.appName,appUser:t.appUser,appPassword:t.appPassword,lastUpdatedBy:"Farhan",lastUpdatedDate:new Date,id:this.passwordEdit.id};this.passwordApiServices.updatePassword(r).then(()=>this.editModal.close(!0)).catch(()=>{this.editModal.close(!1)}),this.notMatch=!1}else this.notMatch=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(df),u.Y36(V0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-edit"]],decls:27,vars:5,consts:[[1,"modal-header","text-center",2,"background-color","#ec4a89","color","white"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close","mdbRipple","",1,"btn-close",3,"click"],[1,"modal-body"],["class","note note-danger",4,"ngIf"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text",2,"width","200px","color","#ec4a89"],["type","text","placeholder","Application Name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Username/Email","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Confirm Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","mdbRipple","",1,"btn","btn-default",2,"background-color","#ec4a89","color","white",3,"click"],["type","button","mdbRipple","",1,"btn","btn-info",3,"click"],[1,"note","note-danger"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"h5",1),u._uU(2,"Edit Application"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return r.editModal.close()}),u.qZA(),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,EU,4,0,"p",4),u.TgZ(6,"div",5),u.TgZ(7,"span",6),u._uU(8,"Application Name"),u.qZA(),u.TgZ(9,"input",7),u.NdJ("ngModelChange",function(l){return r.passwordObj.appName=l}),u.qZA(),u.qZA(),u.TgZ(10,"div",5),u.TgZ(11,"span",6),u._uU(12,"Username"),u.qZA(),u.TgZ(13,"input",8),u.NdJ("ngModelChange",function(l){return r.passwordObj.appUser=l}),u.qZA(),u.qZA(),u.TgZ(14,"div",5),u.TgZ(15,"span",6),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",9),u.NdJ("ngModelChange",function(l){return r.passwordObj.appPassword=l}),u.qZA(),u.qZA(),u.TgZ(18,"div",5),u.TgZ(19,"span",6),u._uU(20,"Confirm Password"),u.qZA(),u.TgZ(21,"input",10),u.NdJ("ngModelChange",function(l){return r.confirmPassword=l}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"div",11),u.TgZ(23,"button",12),u.NdJ("click",function(){return r.editModal.close()}),u._uU(24," Close "),u.qZA(),u.TgZ(25,"button",13),u.NdJ("click",function(){return r.updateData(r.passwordObj)}),u._uU(26," Update Password "),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Q6J("ngIf",!0===r.notMatch),u.xp6(4),u.Q6J("ngModel",r.passwordObj.appName),u.xp6(4),u.Q6J("ngModel",r.passwordObj.appUser),u.xp6(4),u.Q6J("ngModel",r.passwordObj.appPassword),u.xp6(4),u.Q6J("ngModel",r.confirmPassword))},directives:[Mm,nr,di,Bs,_o],styles:[""]}),n})();var CU=N(791);let Pv=(()=>{class n{constructor(t,r,i,l){this.afs=t,this.afAuth=r,this.router=i,this.ngZone=l,this.afAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(i=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(i.user)})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t)}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new CU.N).then(t=>{t&&this.router.navigate(["dashboard"])})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(r.user)}).catch(r=>{window.alert(r)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){var t=this;return(0,De.Z)(function*(){return yield t.afAuth.signOut().then(()=>{localStorage.removeItem("user"),t.router.navigate(["login"])})})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sM),u.LFG(nM),u.LFG(qr),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oM=(()=>{class n{constructor(t,r){this._elementRef=t,this._renderer=r,this.collapseClass=!0,this.collapseShow=new u.vpe,this.collapseShown=new u.vpe,this.collapseHide=new u.vpe,this.collapseHidden=new u.vpe,this._collapsed=!0,this._isTransitioning=!1}set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}get host(){return this._elementRef.nativeElement}show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const t=this.host.scrollHeight;Wa(this.host,"transitionend").pipe((0,ta.q)(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,Wa(this.host,"transitionend").pipe((0,ta.q)(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,r){let i=!1;const d=r+5;Wa(t,"transitionend").pipe((0,ta.q)(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||t.dispatchEvent(new Event("transitionend"))},d)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("collapse",r.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]}),n})(),fN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),DU=(()=>{class n{transform(t,r){return r&&t?n.filter(t,r):t}static filter(t,r){const i=r.toLowerCase();function l(d,f){for(let _ in d)if(null!==d[_]&&null!=d[_]&&("object"==typeof d[_]&&l(d[_],f)||d[_].toString().toLowerCase().includes(i)))return!0;return!1}return t.filter(function(d){return l(d,r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),IU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function TU(n,e){1&n&&(u.TgZ(0,"p",22),u.TgZ(1,"strong"),u._uU(2,"Success!"),u.qZA(),u._uU(3," Data has been successfully added / updated / deleted! "),u.qZA())}function SU(n,e){1&n&&(u.TgZ(0,"p",23),u.TgZ(1,"strong"),u._uU(2,"Failed!"),u.qZA(),u._uU(3," Failed to add / update / delete data. Please try again! "),u.qZA())}function AU(n,e){1&n&&(u.TgZ(0,"div",24),u.TgZ(1,"div",25),u.TgZ(2,"span",26),u._uU(3,"Loading..."),u.qZA(),u.qZA(),u.qZA())}function MU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"th",32),u._uU(2),u.qZA(),u.TgZ(3,"td"),u.TgZ(4,"p",33),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"td"),u.TgZ(7,"div",34),u._UZ(8,"input",35),u.TgZ(9,"button",36),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).copyToClipboard(l.appUser)}),u._UZ(10,"i",37),u._uU(11," Copy "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"td"),u.TgZ(13,"div",38),u._UZ(14,"input",39),u.TgZ(15,"button",40),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).copyToClipboard(l.appPassword)}),u._UZ(16,"i",37),u._uU(17," Copy "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"td"),u.TgZ(19,"div",41),u.TgZ(20,"button",42),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).editApplication(l)}),u._UZ(21,"i",43),u._uU(22," Edit "),u.qZA(),u.TgZ(23,"button",44),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).deleteApplication(l)}),u._uU(24," Delete "),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(2),u.Oqu(r+1),u.xp6(3),u.Oqu(t.appName),u.xp6(3),u.s9C("value",t.appUser),u.Q6J("disabled",!0),u.xp6(6),u.s9C("value",t.appPassword),u.Q6J("disabled",!0)}}function xU(n,e){if(1&n&&(u.TgZ(0,"div",27),u.TgZ(1,"table",28),u.TgZ(2,"thead",29),u.TgZ(3,"tr"),u.TgZ(4,"th",30),u._uU(5,"#"),u.qZA(),u.TgZ(6,"th",30),u._uU(7,"Application"),u.qZA(),u.TgZ(8,"th",30),u._uU(9,"Username"),u.qZA(),u.TgZ(10,"th",30),u._uU(11,"Password"),u.qZA(),u.TgZ(12,"th",30),u._uU(13,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"tbody"),u.YNc(15,MU,25,6,"tr",31),u.ALo(16,"filter"),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(15),u.Q6J("ngForOf",u.xi3(16,1,t.passwordList,t.searchFilter))}}let RU=(()=>{class n{constructor(t,r,i){this.modalService=t,this.passwordApiServices=r,this.authServices=i,this.addModal=null,this.editModal=null,this.deleteModal=null,this.showBanner=!1,this.passwordList=[{}],this.searchFilter="",this.tableLoading=!0,this.noteSuccess=!1,this.noteDanger=!1,this.getPassword()}ngOnInit(){this.tableLoading=!0}addApplication(){this.addModal=this.modalService.open(vU),this.addModal.onClose.subscribe(t=>{!0===t?(this.noteSuccess=t,setTimeout(()=>{this.noteSuccess=!1},3e3)):(this.noteDanger=t,setTimeout(()=>{this.noteDanger=!1},3e3))})}editApplication(t){this.editModal=this.modalService.open(wU,{data:{passwordEdit:t}}),this.editModal.onClose.subscribe(r=>{!0===r?(this.noteSuccess=r,setTimeout(()=>{this.noteSuccess=!1},3e3)):(this.noteDanger=r,setTimeout(()=>{this.noteDanger=!1},3e3))})}deleteApplication(t){this.deleteModal=this.modalService.open(bU,{data:{passwordDelete:t}}),this.deleteModal.onClose.subscribe(r=>{!0===r?(this.noteSuccess=r,setTimeout(()=>{this.noteSuccess=!1},3e3)):(this.noteDanger=r,setTimeout(()=>{this.noteDanger=!1},3e3))})}getPassword(){this.tableLoading=!0,this.passwordApiServices.getPasswordList().subscribe(t=>{this.passwordList=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),this.tableLoading=!1})}copyToClipboard(t){const r=document.createElement("textarea");r.value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}logout(){this.authServices.SignOut()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($E),u.Y36(V0),u.Y36(Pv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:31,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#ec4a89"],[1,"container-fluid"],["aria-current","page","routerLink","/dashboard",1,"nav-link","text-white"],[1,"fa-solid","fa-fingerprint","fa-2xl",2,"color","gold"],["type","button","aria-expanded","false","aria-label","Toggle navigation","mdbRipple","",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],["basicNavbar","mdbCollapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active","text-white",3,"routerLink"],["aria-current","page",1,"nav-link","active","text-white",3,"routerLink","click"],[1,"container"],["class","note note-success",4,"ngIf"],["class","note note-danger",4,"ngIf"],[1,"row"],[1,"col-md-12"],["type","button","data-mdb-toggle","modal","data-mdb-target","#exampleModal","mdbRipple","",1,"btn","btn-default",2,"background-color","#ec4a89","color","white",3,"click"],[1,"d-flex","input-group","w-auto"],["type","search","placeholder","Search...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-12 text-center",4,"ngIf"],["class","col-md-12 table-responsive-sm",4,"ngIf"],[1,"note","note-success"],[1,"note","note-danger"],[1,"col-md-12","text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-md-12","table-responsive-sm"],[1,"table","table-hover"],[2,"background-color","#ec4a89","color","white"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-start"],[1,"input-group","sm-12",2,"width","200px"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","button-addon2",1,"form-control",3,"disabled","value"],["type","button","id","button-addon2","mdbRipple","","rippleColor","default","mdbRipple","",1,"btn-sm","btn-outline-default",2,"color","#ec4a89","border-color","#ec4a89",3,"click"],[1,"fa-regular","fa-clone"],[1,"input-group","mb-3",2,"width","200px"],["type","text","placeholder","Password","aria-label","Password","aria-describedby","button-addon2",1,"form-control",3,"disabled","value"],["type","button","id","button-addon2","mdbRipple","","rippleColor","default",1,"btn-sm","btn-outline-default",2,"color","#ec4a89","border-color","#ec4a89",3,"click"],["role","group","aria-label","Basic example",1,"btn-group",2,"width","200px"],["type","button","mdbRipple","",1,"btn","btn-outline-info",3,"click"],[1,"fa-regular","fa-pen-to-square"],["type","button","mdbRipple","",1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"a",2),u._UZ(3,"i",3),u._uU(4," \xa0 MyPassword"),u.qZA(),u.TgZ(5,"button",4),u.NdJ("click",function(){return u.CHM(i),u.MAs(8).toggle()}),u._UZ(6,"i",5),u.qZA(),u.TgZ(7,"div",6,7),u.TgZ(9,"ul",8),u.TgZ(10,"li",9),u.TgZ(11,"a",10),u._uU(12,"Dashboard"),u.qZA(),u.qZA(),u.TgZ(13,"li",9),u.TgZ(14,"a",11),u.NdJ("click",function(){return r.logout()}),u._uU(15,"Logout"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(16,"br"),u.TgZ(17,"div",12),u.YNc(18,TU,4,0,"p",13),u.YNc(19,SU,4,0,"p",14),u.TgZ(20,"div",15),u.TgZ(21,"div",16),u.TgZ(22,"button",17),u.NdJ("click",function(){return r.addApplication()}),u._uU(23," Add New + "),u.qZA(),u.qZA(),u.qZA(),u._UZ(24,"br"),u.TgZ(25,"div",18),u.TgZ(26,"input",19),u.NdJ("ngModelChange",function(d){return r.searchFilter=d}),u.qZA(),u.qZA(),u._UZ(27,"br"),u.TgZ(28,"div",15),u.YNc(29,AU,4,0,"div",20),u.YNc(30,xU,17,4,"div",21),u.qZA(),u.qZA()}2&t&&(u.xp6(11),u.Q6J("routerLink","/dashboard"),u.xp6(3),u.Q6J("routerLink","/login"),u.xp6(4),u.Q6J("ngIf",!0===r.noteSuccess),u.xp6(1),u.Q6J("ngIf",!0===r.noteDanger),u.xp6(7),u.Q6J("ngModel",r.searchFilter),u.xp6(3),u.Q6J("ngIf",!0===r.tableLoading),u.xp6(1),u.Q6J("ngIf",!1===r.tableLoading))},directives:[us,Mm,oM,nr,di,Bs,_o,tr],pipes:[DU],styles:[""]}),n})();function OU(n,e){1&n&&(u.TgZ(0,"p",26),u._uU(1," Success! An Email has been sent to recover your password. Please check your inbox/spam folder. "),u.qZA())}function kU(n,e){1&n&&(u.TgZ(0,"p",27),u._uU(1," Failed! Please try again or contact Administrator. "),u.qZA())}function PU(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"Recover Password"),u.qZA())}function NU(n,e){1&n&&(u.TgZ(0,"div",28),u.TgZ(1,"span",29),u._uU(2,"Loading..."),u.qZA(),u.qZA())}let FU=(()=>{class n{constructor(t,r){this.authServices=t,this.router=r,this.userName="",this.forgotLoading=!1,this.recoverSuccess=!1,this.recoverFailed=!1}ngOnInit(){}recover(){this.forgotLoading=!0,this.authServices.ForgotPassword(this.userName).then(()=>{this.forgotLoading=!1,this.recoverSuccess=!0,this.router.navigate(["login"])}).catch(t=>{this.recoverFailed=!0,this.recoverSuccess=!1,this.forgotLoading=!1,console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pv),u.Y36(qr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot"]],decls:41,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#ec4a89"],[1,"container-fluid"],["type","button","aria-controls","jumbotronExample","aria-expanded","false","aria-label","Toggle navigation","mdbRipple","",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],["mdbCollapse","","id","jumbotronExample",1,"collapse","navbar-collapse"],["jumbotronExample","mdbCollapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","active"],["aria-current","page","routerLink","/",1,"nav-link","text-white"],[1,"fa-solid","fa-fingerprint","fa-2xl",2,"color","gold"],[1,"p-5","text-center","bg-light"],[1,"row"],[1,"col-md"],[1,"card","text-center",2,"color","#ec4a89"],[1,"card-body"],["class","note note-success",4,"ngIf"],["class","note note-danger",4,"ngIf"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-default","text-white",2,"background-color","#ec4a89",3,"click"],[4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],["routerLink","/login",2,"color","#ec4a89"],[1,"bg-light","text-center","text-lg-start","text-white"],[1,"text-center","p-3",2,"background-color","#ec4a89"],["href","https://github.com/paanjoe",1,"text-white"],[1,"note","note-success"],[1,"note","note-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"header"),u.TgZ(1,"nav",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u.NdJ("click",function(){return u.CHM(i),u.MAs(6).toggle()}),u._UZ(4,"i",3),u.qZA(),u.TgZ(5,"div",4,5),u.TgZ(7,"ul",6),u.TgZ(8,"li",7),u.TgZ(9,"a",8),u._UZ(10,"i",9),u._uU(11," \xa0 MyPassword"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",10),u.TgZ(13,"div",11),u._UZ(14,"div",12),u.TgZ(15,"div",12),u.TgZ(16,"div",13),u.TgZ(17,"div",14),u._UZ(18,"br"),u.TgZ(19,"h3"),u._UZ(20,"i",9),u._uU(21," \xa0 MyPassword "),u.qZA(),u._UZ(22,"br"),u.YNc(23,OU,2,0,"p",15),u.YNc(24,kU,2,0,"p",16),u.TgZ(25,"input",17),u.NdJ("ngModelChange",function(d){return r.userName=d}),u.qZA(),u._UZ(26,"br"),u.TgZ(27,"div",18),u.TgZ(28,"a",19),u.NdJ("click",function(){return r.recover()}),u.YNc(29,PU,2,0,"div",20),u.YNc(30,NU,3,0,"div",21),u.qZA(),u.qZA(),u._UZ(31,"br"),u.TgZ(32,"a",22),u._uU(33,"Go Back to Login"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(34,"div",12),u.qZA(),u.qZA(),u.TgZ(35,"footer",23),u.TgZ(36,"div",24),u._uU(37," \xa9 2020 Copyright: "),u.TgZ(38,"a",25),u.TgZ(39,"u"),u._uU(40,"MyPassword"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(23),u.Q6J("ngIf",!0===r.recoverSuccess),u.xp6(1),u.Q6J("ngIf",!0===r.recoverFailed),u.xp6(1),u.Q6J("ngModel",r.userName),u.xp6(4),u.Q6J("ngIf",!1===r.forgotLoading),u.xp6(1),u.Q6J("ngIf",!0===r.forgotLoading))},directives:[Mm,oM,us,nr,di,Bs,_o],styles:[""]}),n})();function LU(n,e){1&n&&(u.TgZ(0,"p",23),u._uU(1," Incorrect Email or Password. Please try again. "),u.qZA())}function VU(n,e){1&n&&(u.TgZ(0,"p",23),u._uU(1," Please enter a valid Email Address. "),u.qZA())}function BU(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"Login"),u.qZA())}function UU(n,e){1&n&&(u.TgZ(0,"div",24),u.TgZ(1,"span",25),u._uU(2,"Loading..."),u.qZA(),u.qZA())}const jU=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,r){this.authServices=t,this.router=r,this.userName="",this.password="",this.badlogin=!1,this.bademail=!1,this.loginLoading=!1}ngOnInit(){}login(){this.loginLoading=!0,this.authServices.SignIn(this.userName,this.password).then(()=>{this.loginLoading=!1,this.authServices.afAuth.authState.subscribe(t=>{t&&this.router.navigate(["dashboard"])})}).catch(t=>{this.loginLoading=!1,"auth/invalid-email"===t.code?(this.badlogin=!1,this.bademail=!0):"auth/user-not-found"===t.code||"auth/internal-error"===t.code||"auth/wrong-password"===t.code?(this.bademail=!1,this.badlogin=!0):(this.badlogin=!0,this.bademail=!1)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pv),u.Y36(qr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#ec4a89"],[1,"container-fluid"],["type","button","aria-controls","jumbotronExample","aria-expanded","false","aria-label","Toggle navigation","mdbRipple","",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],["mdbCollapse","","id","jumbotronExample",1,"collapse","navbar-collapse"],["jumbotronExample","mdbCollapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","active"],["aria-current","page","routerLink","/",1,"nav-link","text-white"],[1,"fa-solid","fa-fingerprint","fa-2xl",2,"color","gold"],[1,"p-5","text-center","bg-light"],[1,"row"],[1,"col-md"],[1,"card","text-center",2,"color","#ec4a89"],[1,"card-body"],["class","note note-danger",4,"ngIf"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-default","text-white",2,"background-color","#ec4a89",3,"click"],[4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],["routerLink","/forgot",2,"color","#ec4a89"],[1,"note","note-danger"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"header"),u.TgZ(1,"nav",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u.NdJ("click",function(){return u.CHM(i),u.MAs(6).toggle()}),u._UZ(4,"i",3),u.qZA(),u.TgZ(5,"div",4,5),u.TgZ(7,"ul",6),u.TgZ(8,"li",7),u.TgZ(9,"a",8),u._UZ(10,"i",9),u._uU(11," \xa0 MyPassword"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",10),u.TgZ(13,"div",11),u._UZ(14,"div",12),u.TgZ(15,"div",12),u.TgZ(16,"div",13),u.TgZ(17,"div",14),u._UZ(18,"br"),u.TgZ(19,"h3"),u._UZ(20,"i",9),u._uU(21," \xa0 MyPassword "),u.qZA(),u._UZ(22,"br"),u.YNc(23,LU,2,0,"p",15),u.YNc(24,VU,2,0,"p",15),u.TgZ(25,"input",16),u.NdJ("ngModelChange",function(d){return r.userName=d}),u.qZA(),u._UZ(26,"br"),u.TgZ(27,"input",17),u.NdJ("ngModelChange",function(d){return r.password=d}),u.qZA(),u._UZ(28,"br"),u.TgZ(29,"div",18),u.TgZ(30,"a",19),u.NdJ("click",function(){return r.login()}),u.YNc(31,BU,2,0,"div",20),u.YNc(32,UU,3,0,"div",21),u.qZA(),u.qZA(),u._UZ(33,"br"),u.TgZ(34,"a",22),u._uU(35,"Forgot Password?"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(36,"div",12),u.qZA(),u.qZA()}2&t&&(u.xp6(23),u.Q6J("ngIf",!0===r.badlogin),u.xp6(1),u.Q6J("ngIf",!0===r.bademail),u.xp6(1),u.Q6J("ngModel",r.userName),u.xp6(2),u.Q6J("ngModel",r.password),u.xp6(4),u.Q6J("ngIf",!1===r.loginLoading),u.xp6(1),u.Q6J("ngIf",!0===r.loginLoading))},directives:[Mm,oM,us,nr,di,Bs,_o],styles:[""]}),n})()},{path:"dashboard",component:RU,canActivate:[(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Pv),u.LFG(qr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"forgot",component:FU}];let HU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Lb.forRoot(jU)],Lb]}),n})(),$U=(()=>{class n{constructor(){this.title="mypassword"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"text-white","text-center"],[1,"p-3",2,"background-color","#ec4a89","position","fixed","left","0","bottom","0","width","100%"],["href","https://github.com/paanjoe",1,"text-white"]],template:function(t,r){1&t&&(u._UZ(0,"router-outlet"),u.TgZ(1,"footer",0),u.TgZ(2,"div",1),u._uU(3," \xa9 2020 Copyright: "),u.TgZ(4,"a",2),u.TgZ(5,"u"),u._uU(6,"MyPassword"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[Hh],styles:[""]}),n})();new u.OlP("MdbAccordionItemBodyDirective"),new u.OlP("MdbAccordionItemHeaderDirective");let ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,fN]]}),n})(),WU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai]]}),n})();const KU={provide:Yn,useExisting:(0,u.Gpc)(()=>QU),multi:!0};class YU{}let QU=(()=>{class n{constructor(){this._checked=!1,this._value=null,this._disabled=!1,this.checkboxChange=new u.vpe,this.onChange=t=>{},this.onTouched=()=>{}}get checked(){return this._checked}set checked(t){this._checked=Nl(t)}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=Nl(t)}get isDisabled(){return this._disabled}get isChecked(){return this._checked}onCheckboxClick(){this.toggle()}onBlur(){this.onTouched()}get changeEvent(){const t=new YU;return t.element=this,t.checked=this.checked,t}toggle(){this.disabled||(this._checked=!this._checked,this.onChange(this.checked),this.onCheckboxChange())}onCheckboxChange(){this.checkboxChange.emit(this.changeEvent)}writeValue(t){this.value=t,this.checked=!!t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mdbCheckbox",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onCheckboxClick()})("blur",function(){return r.onBlur()}),2&t&&u.Ikx("disabled",r.isDisabled)("checked",r.isChecked)},inputs:{checked:"checked",value:"value",disabled:"disabled"},outputs:{checkboxChange:"checkboxChange"},features:[u._Bn([KU])]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,jn]]}),n})(),JU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,mg]]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,jn]]}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,mg]]}),n})(),n2=(()=>{class n{constructor(){this._checked=!1,this._value=null,this._disabled=!1}get name(){return this._name}set name(t){this._name=t}get checked(){return this._checked}set checked(t){this._checked=Nl(t)}get value(){return this._value}set value(t){this._value=t}get disabled(){return this._disabled}set disabled(t){this._disabled=Nl(t)}get isDisabled(){return this._disabled}get isChecked(){return this._checked}get nameAttr(){return this.name}_updateName(t){this._name=t}_updateChecked(t){this._checked=t}_updateDisabledState(t){this._disabled=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mdbRadio",""]],hostVars:3,hostBindings:function(t,r){2&t&&(u.Ikx("disabled",r.isDisabled)("checked",r.isChecked),u.uIk("name",r.nameAttr))},inputs:{name:"name",checked:"checked",value:"value",disabled:"disabled"}}),n})();const r2={provide:Yn,useExisting:(0,u.Gpc)(()=>s2),multi:!0};let s2=(()=>{class n{constructor(){this._disabled=!1,this._destroy$=new Cn.x,this.onChange=t=>{},this.onTouched=()=>{}}get value(){return this._value}set value(t){this._value=t,this.radios&&this._updateChecked()}get name(){return this._name}set name(t){this._name=t,this.radios&&this._updateNames()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.radios&&this._updateDisabled()}ngAfterContentInit(){this._updateNames(),this._updateDisabled(),this.radios.changes.pipe(Rh(this.radios),Si(t=>(0,In.D)(Promise.resolve(t))),Kh(this._destroy$)).subscribe(()=>this._updateRadiosState())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_updateRadiosState(){this._updateNames(),this._updateChecked(),this._updateDisabled()}_updateNames(){this.radios.forEach(t=>t._updateName(this.name))}_updateChecked(){this.radios.forEach(t=>{t._updateChecked(t.value===this._value)})}_updateDisabled(){this.radios.forEach(t=>t._updateDisabledState(this._disabled))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._disabled=t,this._updateDisabled()}writeValue(t){this.value=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mdbRadioGroup",""]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,n2,5),2&t){let l;u.iGM(l=u.CRH())&&(r.radios=l)}},inputs:{value:"value",name:"name",disabled:"disabled"},features:[u._Bn([r2])]}),n})(),o2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,jn]]}),n})();const a2=["input"],l2=["thumb"],c2=["thumbValue"],u2=function(n){return{"thumb-active":n}},d2={provide:Yn,useExisting:(0,u.Gpc)(()=>h2),multi:!0};let h2=(()=>{class n{constructor(t){this._cdRef=t,this.min=0,this.max=100,this.rangeValueChange=new u.vpe,this.visibility=!1,this.onChange=r=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=Nl(t)}get default(){return this._default}set default(t){this._default=t}onchange(t){this.onChange(t.target.value)}onInput(){this.rangeValueChange.emit({value:this.value}),this.focusRangeInput()}ngAfterViewInit(){this.thumbPositionUpdate()}focusRangeInput(){this.input.nativeElement.focus(),this.visibility=!0}blurRangeInput(){this.input.nativeElement.blur(),this.visibility=!1}thumbPositionUpdate(){const t=this.input.nativeElement,r=t.value,i=t.min?t.min:0,d=Number(100*(r-i)/((t.max?t.max:100)-i));this.value=r,this.thumbStyle={left:`calc(${d}% + (${8-.15*d}px))`}}writeValue(t){this.value=t,this._cdRef.markForCheck(),setTimeout(()=>{this.thumbPositionUpdate()},0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mdb-range"]],viewQuery:function(t,r){if(1&t&&(u.Gf(a2,5),u.Gf(l2,5),u.Gf(c2,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.input=i.first),u.iGM(i=u.CRH())&&(r.thumb=i.first),u.iGM(i=u.CRH())&&(r.thumbValue=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("change",function(l){return r.onchange(l)})("input",function(){return r.onInput()})},inputs:{id:"id",required:"required",name:"name",value:"value",disabled:"disabled",label:"label",min:"min",max:"max",step:"step",default:"default",defaultRangeCounterClass:"defaultRangeCounterClass"},outputs:{rangeValueChange:"rangeValueChange"},features:[u._Bn([d2])],decls:10,vars:15,consts:[["for","id",1,"form-label"],[1,"range"],["type","range","min","0","max","5",1,"form-range",3,"name","disabled","id","min","max","step","value","ngModel","ngModelChange","input","blur","mousedown","mouseup","touchstart","touchend"],["input",""],[1,"thumb",3,"ngStyle","ngClass"],["thumb",""],[1,"thumb-value"],["thumbValue",""]],template:function(t,r){1&t&&(u.TgZ(0,"label",0),u._uU(1),u.qZA(),u.TgZ(2,"div",1),u.TgZ(3,"input",2,3),u.NdJ("ngModelChange",function(l){return r.value=l})("input",function(){return r.thumbPositionUpdate()})("blur",function(){return r.blurRangeInput()})("mousedown",function(){return r.focusRangeInput()})("mouseup",function(){return r.blurRangeInput()})("touchstart",function(){return r.focusRangeInput()})("touchend",function(){return r.blurRangeInput()}),u.qZA(),u.TgZ(5,"span",4,5),u.TgZ(7,"span",6,7),u._uU(9),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.Oqu(r.label),u.xp6(2),u.Q6J("name",r.name)("disabled",r.disabled)("id",r.id)("min",r.min)("max",r.max)("step",r.step)("value",r.value)("ngModel",r.value)("id",r.id),u.xp6(2),u.Q6J("ngStyle",r.thumbStyle)("ngClass",u.VKq(13,u2,r.visibility)),u.xp6(4),u.Oqu(r.value))},directives:[Dc,di,Bs,_o,_u,Ms],encapsulation:2,changeDetection:0}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,jn]]}),n})(),p2=(()=>{class n{constructor(){this.scrollSpys=[],this.activeSubject=new Cn.x,this.active$=this.activeSubject}addScrollspy(t){this.scrollSpys.push(t)}removeScrollspy(t){const r=this.scrollSpys.findIndex(i=>i.id===t);this.scrollSpys.splice(r,1)}updateActiveState(t,r){const i=this.scrollSpys.find(d=>d.id===t);if(!i)return;const l=i.links.find(d=>d.id===r);this.setActiveLink(l)}removeActiveState(t,r){const i=this.scrollSpys.find(d=>d.id===t);if(!i)return;const l=i.links.find(d=>d.id===r);!l||(l.active=!1,l.detectChanges())}setActiveLink(t){t&&(t.active=!0,t.detectChanges(),this.activeSubject.next(t))}removeActiveLinks(t){const r=this.scrollSpys.find(i=>i.id===t);!r||r.links.forEach(i=>{i.active=!1,i.detectChanges()})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[p2]}),n})();new u.OlP("MdbTabContentDirective"),new u.OlP("MdbTabTitleDirective");let E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,L_]]}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai,mg]]}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ai]]}),n})();class pN{}const fu="*";function gN(n,e=null){return{type:2,steps:n,options:e}}function mN(n){return{type:6,styles:n,offset:null}}function _N(n){Promise.resolve(null).then(n)}class xm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_N(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?_N(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function vN(){return"undefined"!=typeof window&&void 0!==window.document}function lM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gd(n){switch(n.length){case 0:return new xm;case 1:return n[0];default:return new yN(n)}}function bN(n,e,t,r,i={},l={}){const d=[],f=[];let _=-1,w=null;if(r.forEach(S=>{const R=S.offset,L=R==_,q=L&&w||{};Object.keys(S).forEach(X=>{let fe=X,Fe=S[X];if("offset"!==X)switch(fe=e.normalizePropertyName(fe,d),Fe){case"!":Fe=i[X];break;case fu:Fe=l[X];break;default:Fe=e.normalizeStyleValue(X,fe,Fe,d)}q[fe]=Fe}),L||f.push(q),w=q,_=R}),d.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${d.join(S)}`)}return f}function cM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&uM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&uM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&uM(t,"destroy",n)))}}function uM(n,e,t){const r=t.totalTime,l=dM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function dM(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function Oo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function EN(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hM=(n,e)=>!1,wN=(n,e,t)=>[];(lM()||"undefined"!=typeof Element)&&(hM=vN()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),wN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let np=null,CN=!1;function fM(n){np||(np=function T2(){return"undefined"!=typeof document?document.body:null}()||{},CN=!!np.style&&"WebkitAppearance"in np.style);let e=!0;return np.style&&!function I2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in np.style,!e&&CN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in np.style)),e}const pM=hM,gM=wN;function DN(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let IN=(()=>{class n{validateStyleProperty(t){return fM(t)}matchesElement(t,r){return!1}containsElement(t,r){return pM(t,r)}query(t,r,i){return gM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,f=[],_){return new xm(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mM=(()=>{class n{}return n.NOOP=new IN,n})();const _M="ng-enter",U0="ng-leave",j0="ng-trigger",H0=".ng-trigger",SN="ng-animating",yM=".ng-animating";function rp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vM(parseFloat(e[1]),e[2])}function vM(n,e){return"s"===e?1e3*n:n}function $0(n,e,t){return n.hasOwnProperty("duration")?n:function M2(n,e,t){let i,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=vM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=vM(parseFloat(_),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:l,easing:d}}(n,e,t)}function Rm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qd(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Rm(n,t);return t}function MN(n,e,t){return t?e+":"+t+";":""}function xN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=MN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=MN(0,O2(t),n.style[t]));n.setAttribute("style",e)}function zl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=EM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),lM()&&xN(n))}function ip(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=EM(t);n.style[r]=""}),lM()&&xN(n))}function Nv(n){return Array.isArray(n)?1==n.length?n[0]:gN(n):n}const bM=new RegExp("{{\\s*(.+?)\\s*}}","g");function RN(n){let e=[];if("string"==typeof n){let t;for(;t=bM.exec(n);)e.push(t[1]);bM.lastIndex=0}return e}function G0(n,e,t){const r=n.toString(),i=r.replace(bM,(l,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return i==r?n:i}function q0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const R2=/-+([a-z0-9])/g;function EM(n){return n.replace(R2,(...e)=>e[1].toUpperCase())}function O2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ON(n,e){return 0===n||0===e}function kN(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(f=>{l.hasOwnProperty(f)||d.push(f),l[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=wM(n,_)})}}return e}function ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function wM(n,e){return window.getComputedStyle(n)[e]}function k2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function P2(n,e,t){if(":"==n[0]){const _=function N2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],l=r[2],d=r[3];e.push(PN(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(PN(d,i))}(r,t,e)):t.push(n),t}const z0=new Set(["true","1"]),W0=new Set(["false","0"]);function PN(n,e){const t=z0.has(n)||W0.has(n),r=z0.has(e)||W0.has(e);return(i,l)=>{let d="*"==n||n==i,f="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?z0.has(n):W0.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?z0.has(e):W0.has(e)),d&&f}}const F2=new RegExp("s*:selfs*,?","g");function CM(n,e,t){return new L2(n).build(e,t)}class L2{constructor(e){this._driver=e}build(e,t){const r=new U2(t);return this._resetContextStyleTimingState(r),ko(this,Nv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,l.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};if(r.styles.forEach(f=>{if(K0(f)){const _=f;Object.keys(_).forEach(w=>{RN(_[w]).forEach(S=>{d.hasOwnProperty(S)||l.add(S)})})}}),l.size){const f=q0(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ko(this,Nv(e.animation),t);return{type:1,matchers:k2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ko(this,r,t)),options:sp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const f=ko(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:sp(e.options)}}visitAnimate(e,t){const r=function H2(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return DM($0(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=DM(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||$0(r,e),DM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:mN({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=mN(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==fu?r.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(e.styles);let i=!1,l=null;return r.forEach(d=>{if(K0(d)){const f=d,_=f.easing;if(_&&(l=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let S=!0;w&&(l!=i&&l>=w.startTime&&i<=w.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${i}ms"`),S=!1),l=w.startTime),S&&(_[f]={startTime:l,endTime:i}),t.options&&function x2(n,e,t){const r=e.params||{},i=RN(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const d=[];let f=!1,_=!1,w=0;const S=e.steps.map(gt=>{const St=this._makeStyleAst(gt,t);let Gt=null!=St.offset?St.offset:function j2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(K0(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(K0(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(St.styles),Et=0;return null!=Gt&&(l++,Et=St.offset=Gt),_=_||Et<0||Et>1,f=f||Et<w,w=Et,d.push(Et),St});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let L=0;l>0&&l<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(L=1/(R-1));const q=R-1,X=t.currentTime,fe=t.currentAnimateTimings,Fe=fe.duration;return S.forEach((gt,St)=>{const Gt=L>0?St==q?1:L*St:d[St],Et=Gt*Fe;t.currentTime=X+fe.delay+Et,fe.duration=Et,this._validateStyleAst(gt,t),gt.offset=Gt,r.styles.push(gt)}),r}visitReference(e,t){return{type:8,animation:ko(this,Nv(e.animation),t),options:sp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function V2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(F2,"")),n=n.replace(/@\*/g,H0).replace(/@\w+/g,t=>H0+"-"+t.substr(1)).replace(/:animating/g,yM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Oo(t.collectedStyles,t.currentQuerySelector,{});const f=ko(this,Nv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:sp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$0(e.timings,t.errors,!0);return{type:12,animation:ko(this,Nv(e.animation),t),timings:r,options:null}}}class U2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function K0(n){return!Array.isArray(n)&&"object"==typeof n}function sp(n){return n?(n=Rm(n)).params&&(n.params=function B2(n){return n?Rm(n):null}(n.params)):n={},n}function DM(n,e,t){return{duration:n,delay:e,easing:t}}function IM(n,e,t,r,i,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:f}}class Y0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const q2=new RegExp(":enter","g"),z2=new RegExp(":leave","g");function TM(n,e,t,r,i,l={},d={},f,_,w=[]){return(new W2).buildKeyframes(n,e,t,r,i,l,d,f,_,w)}class W2{buildKeyframes(e,t,r,i,l,d,f,_,w,S=[]){w=w||new Y0;const R=new SM(e,t,w,i,l,S,[]);R.options=_,R.currentTimeline.setStyles([d],null,R.errors,_),ko(this,r,R);const L=R.timelines.filter(q=>q.containsAnimation());if(Object.keys(f).length){let q;for(let X=L.length-1;X>=0;X--){const fe=L[X];if(fe.element===t){q=fe;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,R.errors,_)}return L.length?L.map(q=>q.buildKeyframes()):[IM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?rp(r.duration):null,f=null!=r.delay?rp(r.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,f);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Q0);const d=rp(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>ko(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?rp(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),ko(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $0(t.params?G0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?rp(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Q0);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,S)=>{t.currentQueryIndex=S;const R=t.createSubContext(e.options,w);l&&R.delayNextStep(l),w===t.element&&(_=R.currentTimeline),ko(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const R=S.currentTime;ko(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const Q0={};class SM{constructor(e,t,r,i,l,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new X0(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=rp(r.duration)),null!=r.delay&&(i.delay=rp(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=G0(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new SM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Q0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new K2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(q2,"."+this._enterClassName)).replace(z2,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!l&&0==f.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class X0{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new X0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fu,this._currentKeyframe[t]=fu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},d=function Y2(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=fu})):qd(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=G0(d[f],l,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:fu),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=qd(f,!0);Object.keys(w).forEach(S=>{const R=w[S];"!"==R?e.add(S):R==fu&&t.add(S)}),r||(w.offset=_/this.duration),i.push(w)});const l=e.size?q0(e.values()):[],d=t.size?q0(t.values()):[];if(r){const f=i[0],_=Rm(f);f.offset=0,_.offset=1,i=[f,_]}return IM(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class K2 extends X0{constructor(e,t,r,i,l,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,f=t/d,_=qd(e[0],!1);_.offset=0,l.push(_);const w=qd(e[0],!1);w.offset=LN(f),l.push(w);const S=e.length-1;for(let R=1;R<=S;R++){let L=qd(e[R],!1);L.offset=LN((t+L.offset*r)/d),l.push(L)}r=d,t=0,i="",e=l}return IM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class AM{}class Q2 extends AM{normalizePropertyName(e,t){return EM(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if(X2[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return d+l}}const X2=(()=>function J2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VN(n,e,t,r,i,l,d,f,_,w,S,R,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:R,errors:L}}const MM={};class BN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ej(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,i,l,d,f,_,w,S){const R=[],L=this.ast.options&&this.ast.options.params||MM,X=this.buildStyles(r,f&&f.params||MM,R),fe=_&&_.params||MM,Fe=this.buildStyles(i,fe,R),gt=new Set,St=new Map,Gt=new Map,Et="void"===i,vn={params:Object.assign(Object.assign({},L),fe)},Rr=S?[]:TM(e,t,this.ast.animation,l,d,X,Fe,vn,w,R);let ti=0;if(Rr.forEach(gu=>{ti=Math.max(gu.duration+gu.delay,ti)}),R.length)return VN(t,this._triggerName,r,i,Et,X,Fe,[],[],St,Gt,ti,R);Rr.forEach(gu=>{const mu=gu.element,p1=Oo(St,mu,{});gu.preStyleProps.forEach(op=>p1[op]=!0);const Lv=Oo(Gt,mu,{});gu.postStyleProps.forEach(op=>Lv[op]=!0),mu!==t&&gt.add(mu)});const pu=q0(gt.values());return VN(t,this._triggerName,r,i,Et,X,Fe,Rr,pu,St,Gt,ti)}}class tj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Rm(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(i[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=G0(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class rj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new tj(i.style,i.options&&i.options.params||{},r)}),UN(this.states,"true","1"),UN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BN(e,i,this.states))}),this.fallbackTransition=function ij(n,e,t){return new BN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UN(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const sj=new Y0;class oj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=CM(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,l=bN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let d;const f=new Map;if(l?(d=TM(this._driver,t,l,_M,U0,{},{},r,sj,i),d.forEach(S=>{const R=Oo(f,S.element,{});S.postStyleProps.forEach(L=>R[L]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),d=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((S,R)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(R,L,fu)})});const w=Gd(d.map(S=>{const R=f.get(S.element);return this._buildPlayer(S,{},R)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const l=dM(t,"","","");return cM(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jN="ng-animate-queued",xM="ng-animate-disabled",dj=[],HN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fa="__ng_removed";class RM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function mj(n){return null!=n?n:null}(r?e.value:e),r){const l=Rm(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Fv="void",OM=new RM(Fv);class fj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function _j(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=Oo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const f=Oo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(pa(e,j0),pa(e,j0+"-"+t),f[t]=OM),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(d);_>=0&&l.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new kM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(pa(e,j0),pa(e,j0+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new RM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=OM),w.value!==Fv&&_.value===w.value){if(!function bj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(_.params,w.params)){const fe=[],Fe=l.matchStyles(_.value,_.params,fe),gt=l.matchStyles(w.value,w.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{ip(e,Fe),zl(e,gt)})}return}const L=Oo(this._engine.playersByElement,e,[]);L.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==t&&fe.queued&&fe.destroy()});let q=l.matchTransition(_.value,w.value,e,w.params),X=!1;if(!q){if(!i)return;q=l.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:_,toState:w,player:d,isFallbackTransition:X}),X||(pa(e,jN),d.onStart(()=>{Om(e,jN)})),d.onDone(()=>{let fe=this.players.indexOf(d);fe>=0&&this.players.splice(fe,1);const Fe=this._engine.playersByElement.get(e);if(Fe){let gt=Fe.indexOf(d);gt>=0&&Fe.splice(gt,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,H0,!0);r.forEach(i=>{if(i[fa])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(d.set(_,l[_].value),this._triggers[_]){const w=this.trigger(e,_,Fv,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Gd(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,w=r[d]||OM,S=new RM(Fv),R=new kM(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:S,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[fa];(!l||l===HN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=dM(l,r.triggerName,r.fromState.value,r.toState.value);_._data=e,cM(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class pj{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new fj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const d=r[i[l]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(J0(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!J0(t))return;const l=t[fa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pa(e,xM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Om(e,xM))}removeNode(e,t,r,i){if(J0(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return J0(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,H0,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,yM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gd(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[fa];if(r&&r.setForRemoval){if(e[fa]=HN,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(xM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Y0,i=[],l=new Map,d=[],f=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(mt=>{S.add(mt);const At=this.driver.query(mt,".ng-animate-queued",!0);for(let Ot=0;Ot<At.length;Ot++)S.add(At[Ot])});const R=this.bodyNode,L=Array.from(this.statesByElement.keys()),q=qN(L,this.collectedEnterElements),X=new Map;let fe=0;q.forEach((mt,At)=>{const Ot=_M+fe++;X.set(At,Ot),mt.forEach(pn=>pa(pn,Ot))});const Fe=[],gt=new Set,St=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const At=this.collectedLeaveElements[mt],Ot=At[fa];Ot&&Ot.setForRemoval&&(Fe.push(At),gt.add(At),Ot.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(pn=>gt.add(pn)):St.add(At))}const Gt=new Map,Et=qN(L,Array.from(gt));Et.forEach((mt,At)=>{const Ot=U0+fe++;Gt.set(At,Ot),mt.forEach(pn=>pa(pn,Ot))}),e.push(()=>{q.forEach((mt,At)=>{const Ot=X.get(At);mt.forEach(pn=>Om(pn,Ot))}),Et.forEach((mt,At)=>{const Ot=Gt.get(At);mt.forEach(pn=>Om(pn,Ot))}),Fe.forEach(mt=>{this.processLeaveNode(mt)})});const vn=[],Rr=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Ot=>{const pn=Ot.player,Ui=Ot.element;if(vn.push(pn),this.collectedEnterElements.length){const Ss=Ui[fa];if(Ss&&Ss.setForMove){if(Ss.previousTriggersValues&&Ss.previousTriggersValues.has(Ot.triggerName)){const ap=Ss.previousTriggersValues.get(Ot.triggerName),zd=this.statesByElement.get(Ot.element);zd&&zd[Ot.triggerName]&&(zd[Ot.triggerName].value=ap)}return void pn.destroy()}}const Wl=!R||!this.driver.containsElement(R,Ui),Po=Gt.get(Ui),Zd=X.get(Ui),wr=this._buildInstruction(Ot,r,Zd,Po,Wl);if(wr.errors&&wr.errors.length)return void Rr.push(wr);if(Wl)return pn.onStart(()=>ip(Ui,wr.fromStyles)),pn.onDestroy(()=>zl(Ui,wr.toStyles)),void i.push(pn);if(Ot.isFallbackTransition)return pn.onStart(()=>ip(Ui,wr.fromStyles)),pn.onDestroy(()=>zl(Ui,wr.toStyles)),void i.push(pn);const _1=[];wr.timelines.forEach(Ss=>{Ss.stretchStartingKeyframe=!0,this.disabledNodes.has(Ss.element)||_1.push(Ss)}),wr.timelines=_1,r.append(Ui,wr.timelines),d.push({instruction:wr,player:pn,element:Ui}),wr.queriedElements.forEach(Ss=>Oo(f,Ss,[]).push(pn)),wr.preStyleProps.forEach((Ss,ap)=>{const zd=Object.keys(Ss);if(zd.length){let lp=_.get(ap);lp||_.set(ap,lp=new Set),zd.forEach(LM=>lp.add(LM))}}),wr.postStyleProps.forEach((Ss,ap)=>{const zd=Object.keys(Ss);let lp=w.get(ap);lp||w.set(ap,lp=new Set),zd.forEach(LM=>lp.add(LM))})});if(Rr.length){const mt=[];Rr.forEach(At=>{mt.push(`@${At.triggerName} has failed due to:\n`),At.errors.forEach(Ot=>mt.push(`- ${Ot}\n`))}),vn.forEach(At=>At.destroy()),this.reportError(mt)}const ti=new Map,pu=new Map;d.forEach(mt=>{const At=mt.element;r.has(At)&&(pu.set(At,At),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,ti))}),i.forEach(mt=>{const At=mt.element;this._getPreviousPlayers(At,!1,mt.namespaceId,mt.triggerName,null).forEach(pn=>{Oo(ti,At,[]).push(pn),pn.destroy()})});const gu=Fe.filter(mt=>zN(mt,_,w)),mu=new Map;GN(mu,this.driver,St,w,fu).forEach(mt=>{zN(mt,_,w)&&gu.push(mt)});const Lv=new Map;q.forEach((mt,At)=>{GN(Lv,this.driver,new Set(mt),_,"!")}),gu.forEach(mt=>{const At=mu.get(mt),Ot=Lv.get(mt);mu.set(mt,Object.assign(Object.assign({},At),Ot))});const op=[],g1=[],m1={};d.forEach(mt=>{const{element:At,player:Ot,instruction:pn}=mt;if(r.has(At)){if(S.has(At))return Ot.onDestroy(()=>zl(At,pn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(pn.totalTime),void i.push(Ot);let Ui=m1;if(pu.size>1){let Po=At;const Zd=[];for(;Po=Po.parentNode;){const wr=pu.get(Po);if(wr){Ui=wr;break}Zd.push(Po)}Zd.forEach(wr=>pu.set(wr,Ui))}const Wl=this._buildAnimation(Ot.namespaceId,pn,ti,l,Lv,mu);if(Ot.setRealPlayer(Wl),Ui===m1)op.push(Ot);else{const Po=this.playersByElement.get(Ui);Po&&Po.length&&(Ot.parentPlayer=Gd(Po)),i.push(Ot)}}else ip(At,pn.fromStyles),Ot.onDestroy(()=>zl(At,pn.toStyles)),g1.push(Ot),S.has(At)&&i.push(Ot)}),g1.forEach(mt=>{const At=l.get(mt.element);if(At&&At.length){const Ot=Gd(At);mt.setRealPlayer(Ot)}}),i.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<Fe.length;mt++){const At=Fe[mt],Ot=At[fa];if(Om(At,U0),Ot&&Ot.hasAnimation)continue;let pn=[];if(f.size){let Wl=f.get(At);Wl&&Wl.length&&pn.push(...Wl);let Po=this.driver.query(At,yM,!0);for(let Zd=0;Zd<Po.length;Zd++){let wr=f.get(Po[Zd]);wr&&wr.length&&pn.push(...wr)}}const Ui=pn.filter(Wl=>!Wl.destroyed);Ui.length?yj(this,At,Ui):this.processLeaveNode(At)}return Fe.length=0,op.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const At=this.players.indexOf(mt);this.players.splice(At,1)}),mt.play()}),op}elementContainsData(e,t){let r=!1;const i=t[fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!l||l==Fv;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,S=w!==l,R=Oo(r,w,[]);this._getPreviousPlayers(w,S,d,f,t.toState).forEach(q=>{const X=q.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),q.destroy(),R.push(q)})}ip(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const f=t.triggerName,_=t.element,w=[],S=new Set,R=new Set,L=t.timelines.map(X=>{const fe=X.element;S.add(fe);const Fe=fe[fa];if(Fe&&Fe.removedBeforeQueried)return new xm(X.duration,X.delay);const gt=fe!==_,St=function vj(n){const e=[];return ZN(n,e),e}((r.get(fe)||dj).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===fe),Gt=l.get(fe),Et=d.get(fe),vn=bN(0,this._normalizer,0,X.keyframes,Gt,Et),Rr=this._buildPlayer(X,vn,St);if(X.subTimeline&&i&&R.add(fe),gt){const ti=new kM(e,f,fe);ti.setRealPlayer(Rr),w.push(ti)}return Rr});w.forEach(X=>{Oo(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function gj(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,X.element,X))}),S.forEach(X=>pa(X,SN));const q=Gd(L);return q.onDestroy(()=>{S.forEach(X=>Om(X,SN)),zl(_,t.toStyles)}),R.forEach(X=>{Oo(i,X,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new xm(e.duration,e.delay)}}class kM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new xm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>cM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Oo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function J0(n){return n&&1===n.nodeType}function $N(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function GN(n,e,t,r,i){const l=[];t.forEach(_=>l.push($N(_)));const d=[];r.forEach((_,w)=>{const S={};_.forEach(R=>{const L=S[R]=e.computeStyle(w,R,i);(!L||0==L.length)&&(w[fa]=hj,d.push(w))}),n.set(w,S)});let f=0;return t.forEach(_=>$N(_,l[f++])),d}function qN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(f){if(!f)return 1;let _=l.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:d(w),l.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function pa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Om(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function yj(n,e,t){Gd(t).onDone(()=>n.processLeaveNode(e))}function ZN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yN?ZN(r.players,e):e.push(r)}}function zN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class eC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new pj(e,t,r),this._timelineEngine=new oj(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],w=CM(this._driver,l,_);if(_.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);f=function nj(n,e,t){return new rj(n,e,t)}(i,w,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=EN(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,f]=EN(r);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WN(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=PM(e[0]),e.length>1&&(r=PM(e[e.length-1]))):e&&(t=PM(e)),t||r?new Ej(n,t,r):null}let Ej=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&zl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zl(this._element,this._initialStyles),this._endStyles&&(zl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ip(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ip(this._element,this._endStyles),this._endStyles=null),zl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function PM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];wj(i)&&(e=e||{},e[i]=n[i])}return e}function wj(n){return"display"===n||"position"===n}const KN="animation",YN="animationend";class Ij{constructor(e,t,r,i,l,d,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=l,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function Tj(n,e){const t=FM(n,"").trim();let r=0;t.length&&(r=function Aj(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),tC(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),JN(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QN(this._element,this._name,"paused")}resume(){QN(this._element,this._name,"running")}setPosition(e){const t=XN(this._element,this._name);this._position=e*this._duration,tC(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),JN(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Sj(n,e){const r=FM(n,"").split(","),i=NM(r,e);i>=0&&(r.splice(i,1),tC(n,"",r.join(",")))}(this._element,this._name))}}function QN(n,e,t){tC(n,"PlayState",t,XN(n,e))}function XN(n,e){const t=FM(n,"");return t.indexOf(",")>0?NM(t.split(","),e):NM([t],e)}function NM(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function JN(n,e,t){t?n.removeEventListener(YN,e):n.addEventListener(YN,e)}function tC(n,e,t,r){const i=KN+e;if(null!=r){const l=n.style[i];if(l.length){const d=l.split(",");d[r]=t,t=d.join(",")}}n.style[i]=t}function FM(n,e){return n.style[KN+e]||""}class e1{constructor(e,t,r,i,l,d,f,_){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=l,this._finalStyles=f,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=i+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ij(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:wM(this.element,r))})}this.currentSnapshot=e}}class Rj extends xm{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=DN(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class n1{constructor(){this._count=0}validateStyleProperty(e){return fM(e)}matchesElement(e,t){return!1}containsElement(e,t){return pM(e,t)}query(e,t,r){return gM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>DN(f));let i=`@keyframes ${t} {\n`,l="";r.forEach(f=>{l=" ";const _=parseFloat(f.offset);i+=`${l}${100*_}% {\n`,l+=" ",Object.keys(f).forEach(w=>{const S=f[w];switch(w){case"offset":return;case"easing":return void(S&&(i+=`${l}animation-timing-function: ${S};\n`));default:return void(i+=`${l}${w}: ${S};\n`)}}),i+=`${l}}\n`}),i+="}\n";const d=document.createElement("style");return d.textContent=i,d}animate(e,t,r,i,l,d=[],f){const _=d.filter(Fe=>Fe instanceof e1),w={};ON(r,i)&&_.forEach(Fe=>{let gt=Fe.currentSnapshot;Object.keys(gt).forEach(St=>w[St]=gt[St])});const S=function Pj(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=kN(e,t,w));if(0==r)return new Rj(e,S);const R="gen_css_kf_"+this._count++,L=this.buildKeyframeElement(e,R,t);(function kj(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(L);const X=WN(e,t),fe=new e1(e,t,R,r,i,l,S,X);return fe.onDestroy(()=>function Nj(n){n.parentNode.removeChild(n)}(L)),fe}}class s1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:wM(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Fj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(o1().toString()),this._cssKeyframesDriver=new n1}validateStyleProperty(e){return fM(e)}matchesElement(e,t){return!1}containsElement(e,t){return pM(e,t)}query(e,t,r){return gM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,l,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,l,d);const S={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(S.easing=l);const R={},L=d.filter(X=>X instanceof s1);ON(r,i)&&L.forEach(X=>{let fe=X.currentSnapshot;Object.keys(fe).forEach(Fe=>R[Fe]=fe[Fe])});const q=WN(e,t=kN(e,t=t.map(X=>qd(X,!1)),R));return new s1(e,t,S,q)}}function o1(){return vN()&&Element.prototype.animate||{}}let Vj=(()=>{class n extends pN{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?gN(t):t;return a1(this._renderer,null,r,"register",[i]),new Bj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(oe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bj extends class D2{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Uj(this._id,e,t||{},this._renderer)}}class Uj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return a1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function a1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const l1="@.disabled";let jj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const f=null==d?void 0:d.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new c1("",l,this.engine),this._rendererCache.set(l,S)),S}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(d,f,t,S.name,S)};return r.data.animation.forEach(_),new Hj(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(eC),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class c1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==l1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Hj extends c1{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==l1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $j(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Gj(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let qj=(()=>{class n extends eC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oe),u.LFG(mM),u.LFG(AM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const u1=new u.OlP("AnimationModuleType"),d1=[{provide:pN,useClass:Vj},{provide:AM,useFactory:function zj(){return new Q2}},{provide:eC,useClass:qj},{provide:u.FYo,useFactory:function Wj(n,e,t){return new jj(n,e,t)},deps:[Nr,eC,u.R0b]}],h1=[{provide:mM,useFactory:function Zj(){return function Lj(){return"function"==typeof o1()}()?new Fj:new n1}},{provide:u1,useValue:"BrowserAnimations"},...d1],Kj=[{provide:mM,useClass:IN},{provide:u1,useValue:"NoopAnimations"},...d1];let Yj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Kj:h1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:h1,imports:[Mu]}),n})();const f1_firebaseConfig={apiKey:"AIzaSyBklEjelK5FFZ5iQXr3W9NoAfH2x38d2aM",authDomain:"mypassword-e16e8.firebaseapp.com",projectId:"mypassword-e16e8",storageBucket:"mypassword-e16e8.appspot.com",messagingSenderId:"436273833191",appId:"1:436273833191:web:334dd2074a0dd6ce8aae42",measurementId:"G-CHM2XQ54D0"};let Qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[$U]}),n.\u0275inj=u.cJS({providers:[Pv],imports:[[Mu,HU,jn,ZU,WU,XU,fN,JU,e2,jI,t2,o2,f2,_U,g2,E2,w2,C2,Yj,pU,IU,Zs.hO.initializeApp(f1_firebaseConfig)]]}),n})();(0,u.G48)(),sc().bootstrapModule(Qj).catch(n=>console.error(n))},5867:(dt,xe,N)=>{"use strict";N.d(xe,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=N(9681);(0,u.registerVersion)("firebase","9.6.8","app")},127:(dt,xe,N)=>{"use strict";N.d(xe,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.6.8","app-compat")},5881:(dt,xe,N)=>{"use strict";N.r(xe);var u=N(5861),B=N(3942),P=N(791),se=N(2090),oe=(N(9681),N(1877),N(4859));function ue(){return window}function j(){return(j=(0,u.Z)(function*(re,K,z){var Ae;const{BuildInfo:Ke}=ue();(0,P.ap)(K.sessionId,"AuthEvent did not contain a session ID");const it=yield ae(K.sessionId),kt={};return(0,P.aq)()?kt.ibi=Ke.packageName:(0,P.ar)()?kt.apn=Ke.packageName:(0,P.as)(re,"operation-not-supported-in-this-environment"),Ke.displayName&&(kt.appDisplayName=Ke.displayName),kt.sessionId=it,(0,P.at)(re,z,K.type,void 0,null!==(Ae=K.eventId)&&void 0!==Ae?Ae:void 0,kt)})).apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(re){const{BuildInfo:K}=ue(),z={};(0,P.aq)()?z.iosBundleId=K.packageName:(0,P.ar)()?z.androidPackageName=K.packageName:(0,P.as)(re,"operation-not-supported-in-this-environment"),yield(0,P.au)(re,z)})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(re,K,z){const{cordova:Ae}=ue();let Ke=()=>{};try{yield new Promise((it,kt)=>{let Zt=null;function Wt(){var Ut;it();const Hr=null===(Ut=Ae.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Hr&&Hr(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function Ln(){Zt||(Zt=window.setTimeout(()=>{kt((0,P.av)(re,"redirect-cancelled-by-user"))},2e3))}function fr(){"visible"===(null==document?void 0:document.visibilityState)&&Ln()}K.addPassiveListener(Wt),document.addEventListener("resume",Ln,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",fr,!1),Ke=()=>{K.removePassiveListener(Wt),document.removeEventListener("resume",Ln,!1),document.removeEventListener("visibilitychange",fr,!1),Zt&&window.clearTimeout(Zt)}})}finally{Ke()}})).apply(this,arguments)}function ae(re){return me.apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(re){const K=Me(re),z=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(z)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Me(re){if((0,P.ap)(/[0-9a-zA-Z]+/.test(re),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(re);const K=new ArrayBuffer(re.length),z=new Uint8Array(K);for(let Ae=0;Ae<re.length;Ae++)z[Ae]=re.charCodeAt(Ae);return z}class ze extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(K)),super.onEvent(K)}initialized(){var K=this;return(0,u.Z)(function*(){yield K.initPromise})()}}function Xe(re){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(re){const K=yield be()._get(Te(re));return K&&(yield be()._remove(Te(re))),K})).apply(this,arguments)}function _e(){const re=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const Ae=Math.floor(Math.random()*K.length);re.push(K.charAt(Ae))}return re.join("")}function be(){return(0,P.ax)(P.b)}function Te(re){return(0,P.ay)("authEvent",re.config.apiKey,re.name)}function Mt(re){if(!(null==re?void 0:re.includes("?")))return{};const[K,...z]=re.split("?");return(0,se.zd)(z.join("?"))}function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function Dr(){var re;return(null===(re=null==self?void 0:self.location)||void 0===re?void 0:re.protocol)||null}function bn(re=(0,se.z$)()){return!("file:"!==Dr()&&"ionic:"!==Dr()||!re.toLowerCase().match(/iphone|ipad|ipod|android/))}function ri(){try{const re=self.localStorage,K=P.aG();if(re)return re.setItem(K,"1"),re.removeItem(K),!function ni(re=(0,se.z$)()){return function gn(){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function dr(re=(0,se.z$)()){return/Edge\/\d+/.test(re)}(re)}()||(0,se.hl)()}catch(re){return Be()&&(0,se.hl)()}return!1}function Be(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return(function jr(){return"http:"===Dr()||"https:"===Dr()}()||(0,se.ru)()||bn())&&!function Mn(){return(0,se.b$)()||(0,se.UG)()}()&&ri()&&!Be()}function zn(){return bn()&&"undefined"!=typeof document}function xn(){return(xn=(0,u.Z)(function*(){return!!zn()&&new Promise(re=>{const K=setTimeout(()=>{re(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),re(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},hr=P.aw,Or="persistence";function mn(re){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(re){yield re._initializationPromise;const K=qt(),z=P.ay(Or,re.config.apiKey,re.name);K&&K.setItem(z,re._getPersistence())})).apply(this,arguments)}function qt(){var re;try{return(null===(re=function Rn(){return"undefined"!=typeof window?window:null}())||void 0===re?void 0:re.sessionStorage)||null}catch(K){return null}}const ft=P.aw;class pt{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Cr{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(K){var z=this;return(0,u.Z)(function*(){const Ae=K._key();let Ke=z.eventManagers.get(Ae);return Ke||(Ke=new ze(K),z.eventManagers.set(Ae,Ke),z.attachCallbackListeners(K,Ke)),Ke})()}_openPopup(K){(0,P.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,z,Ae,Ke){var it=this;return(0,u.Z)(function*(){!function J(re){var K,z,Ae,Ke,it,kt,Zt,Wt,Ln,fr;const Ut=ue();(0,P.aw)("function"==typeof(null===(K=null==Ut?void 0:Ut.universalLinks)||void 0===K?void 0:K.subscribe),re,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(z=null==Ut?void 0:Ut.BuildInfo)||void 0===z?void 0:z.packageName),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(it=null===(Ke=null===(Ae=null==Ut?void 0:Ut.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===it?void 0:it.openUrl),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Wt=null===(Zt=null===(kt=null==Ut?void 0:Ut.cordova)||void 0===kt?void 0:kt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===Wt?void 0:Wt.isAvailable),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(fr=null===(Ln=null==Ut?void 0:Ut.cordova)||void 0===Ln?void 0:Ln.InAppBrowser)||void 0===fr?void 0:fr.open),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const kt=yield it._initialize(K);yield kt.initialized(),kt.resetRedirect(),(0,P.aB)(),yield it._originValidation(K);const Zt=function Oe(re,K,z=null){return{type:K,eventId:z,urlResponse:null,sessionId:_e(),postBody:null,tenantId:re.tenantId,error:(0,P.av)(re,"no-auth-event")}}(K,Ae,Ke);yield function lt(re,K){return be()._set(Te(re),K)}(K,Zt);const Wt=yield function H(re,K,z){return j.apply(this,arguments)}(K,Zt,z),Ln=yield function ke(re){const{cordova:K}=ue();return new Promise(z=>{K.plugins.browsertab.isAvailable(Ae=>{let Ke=null;Ae?K.plugins.browsertab.openUrl(re):Ke=K.InAppBrowser.open(re,(0,P.ao)()?"_blank":"_system","location=yes"),z(Ke)})})}(Wt);return function Le(re,K,z){return $e.apply(this,arguments)}(K,kt,Ln)})()}_isIframeWebStorageSupported(K,z){throw new Error("Method not implemented.")}_originValidation(K){const z=K._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function ie(re){return Ge.apply(this,arguments)}(K)),this.originValidationPromises[z]}attachCallbackListeners(K,z){const{universalLinks:Ae,handleOpenURL:Ke,BuildInfo:it}=ue(),kt=setTimeout((0,u.Z)(function*(){yield Xe(K),z.onEvent(Ct())}),500),Zt=function(){var fr=(0,u.Z)(function*(Ut){clearTimeout(kt);const Hr=yield Xe(K);let bi=null;Hr&&(null==Ut?void 0:Ut.url)&&(bi=function te(re,K){var z,Ae;const Ke=function pe(re){const K=Mt(re),z=K.link?decodeURIComponent(K.link):void 0,Ae=Mt(z).link,Ke=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Mt(Ke).link||Ke||Ae||z||re}(K);if(Ke.includes("/__/auth/callback")){const it=Mt(Ke),kt=it.firebaseError?function Ue(re){try{return JSON.parse(re)}catch(K){return null}}(decodeURIComponent(it.firebaseError)):null,Zt=null===(Ae=null===(z=null==kt?void 0:kt.code)||void 0===z?void 0:z.split("auth/"))||void 0===Ae?void 0:Ae[1],Wt=Zt?(0,P.av)(Zt):null;return Wt?{type:re.type,eventId:re.eventId,tenantId:re.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:re.type,eventId:re.eventId,tenantId:re.tenantId,sessionId:re.sessionId,urlResponse:Ke,postBody:null}}return null}(Hr,Ut.url)),z.onEvent(bi||Ct())});return function(Hr){return fr.apply(this,arguments)}}();void 0!==Ae&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Zt);const Wt=Ke,Ln=`${it.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var fr=(0,u.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Ln)&&Zt({url:Ut}),"function"==typeof Wt)try{Wt(Ut)}catch(Hr){console.error(Hr)}});return function(Ut){return fr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(K){var z=this;return(0,u.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,z,Ae,Ke){var it=this;return(0,u.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(K,z,Ae,Ke)})()}_openRedirect(K,z,Ae,Ke){var it=this;return(0,u.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(K,z,Ae,Ke)})()}_isIframeWebStorageSupported(K,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,z)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,u.Z)(function*(){if(K.underlyingResolver)return;const z=yield function wt(){return xn.apply(this,arguments)}();K.underlyingResolver=z?K.cordovaResolver:K.browserResolver})()}}function es(re){return re.unwrap()}function _t(re){return er(re)}function er(re){const{_tokenResponse:K}=re instanceof se.ZR?re.customData:re;if(!K)return null;if(!(re instanceof se.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return P.P.credentialFromResult(re);const z=K.providerId;if(!z||z===P.o.PASSWORD)return null;let Ae;switch(z){case P.o.GOOGLE:Ae=P.N;break;case P.o.FACEBOOK:Ae=P.M;break;case P.o.GITHUB:Ae=P.Q;break;case P.o.TWITTER:Ae=P.V;break;default:const{oauthIdToken:Ke,oauthAccessToken:it,oauthTokenSecret:kt,pendingToken:Zt,nonce:Wt}=K;return it||kt||Ke||Zt?Zt?z.startsWith("saml.")?P.aJ._create(z,Zt):P.I._fromParams({providerId:z,signInMethod:z,pendingToken:Zt,idToken:Ke,accessToken:it}):new P.T(z).credential({idToken:Ke,accessToken:it,rawNonce:Wt}):null}return re instanceof se.ZR?Ae.credentialFromError(re):Ae.credentialFromResult(re)}function dn(re,K){return K.catch(z=>{throw z instanceof se.ZR&&function ii(re,K){var z;const Ae=null===(z=K.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new W(re,P.am(re,K));else if(Ae){const Ke=er(K),it=K;Ke&&(it.credential=Ke,it.tenantId=Ae.tenantId||void 0,it.email=Ae.email||void 0,it.phoneNumber=Ae.phoneNumber||void 0)}}(re,z),z}).then(z=>{const Ke=z.user;return{operationType:z.operationType,credential:_t(z),additionalUserInfo:P.ak(z),user:ye.getOrCreate(Ke)}})}function U(re,K){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(re,K){const z=yield K;return{verificationId:z.verificationId,confirm:Ae=>dn(re,z.confirm(Ae))}})).apply(this,arguments)}class W{constructor(K,z){this.resolver=z,this.auth=function sn(re){return re.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dn(es(this.auth),this.resolver.resolveSignIn(K))}}class ye{constructor(K){this._delegate=K,this.multiFactor=P.an(K)}static getOrCreate(K){return ye.USER_MAP.has(K)||ye.USER_MAP.set(K,new ye(K)),ye.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var z=this;return(0,u.Z)(function*(){return dn(z.auth,P.Y(z._delegate,K))})()}linkWithPhoneNumber(K,z){var Ae=this;return(0,u.Z)(function*(){return U(Ae.auth,P.l(Ae._delegate,K,z))})()}linkWithPopup(K){var z=this;return(0,u.Z)(function*(){return dn(z.auth,P.d(z._delegate,K,pt))})()}linkWithRedirect(K){var z=this;return(0,u.Z)(function*(){return yield mn(P.aC(z.auth)),P.g(z._delegate,K,pt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var z=this;return(0,u.Z)(function*(){return dn(z.auth,P.Z(z._delegate,K))})()}reauthenticateWithPhoneNumber(K,z){return U(this.auth,P.r(this._delegate,K,z))}reauthenticateWithPopup(K){return dn(this.auth,P.e(this._delegate,K,pt))}reauthenticateWithRedirect(K){var z=this;return(0,u.Z)(function*(){return yield mn(P.aC(z.auth)),P.h(z._delegate,K,pt)})()}sendEmailVerification(K){return P.aa(this._delegate,K)}unlink(K){var z=this;return(0,u.Z)(function*(){return yield P.aj(z._delegate,K),z})()}updateEmail(K){return P.af(this._delegate,K)}updatePassword(K){return P.ag(this._delegate,K)}updatePhoneNumber(K){return P.u(this._delegate,K)}updateProfile(K){return P.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,z){return P.ab(this._delegate,K,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ye.USER_MAP=new WeakMap;const ne=P.aw;let Ye=(()=>{class re{constructor(z,Ae){if(this.app=z,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=z.options;ne(Ke,"invalid-api-key",{appName:z.name}),ne(Ke,"invalid-api-key",{appName:z.name});const it="undefined"!=typeof window?pt:void 0;this._delegate=Ae.initialize({options:{persistence:Ce(Ke,z.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ye.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,Ae){P.E(this._delegate,z,Ae)}applyActionCode(z){return P.a1(this._delegate,z)}checkActionCode(z){return P.a2(this._delegate,z)}confirmPasswordReset(z,Ae){return P.a0(this._delegate,z,Ae)}createUserWithEmailAndPassword(z,Ae){var Ke=this;return(0,u.Z)(function*(){return dn(Ke._delegate,P.a4(Ke._delegate,z,Ae))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return P.a9(this._delegate,z)}isSignInWithEmailLink(z){return P.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,u.Z)(function*(){ne(En(),z._delegate,"operation-not-supported-in-this-environment");const Ae=yield P.j(z._delegate,pt);return Ae?dn(z._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function $n(re,K){(0,P.aC)(re)._logFramework(K)}(this._delegate,z)}onAuthStateChanged(z,Ae,Ke){const{next:it,error:kt,complete:Zt}=Se(z,Ae,Ke);return this._delegate.onAuthStateChanged(it,kt,Zt)}onIdTokenChanged(z,Ae,Ke){const{next:it,error:kt,complete:Zt}=Se(z,Ae,Ke);return this._delegate.onIdTokenChanged(it,kt,Zt)}sendSignInLinkToEmail(z,Ae){return P.a6(this._delegate,z,Ae)}sendPasswordResetEmail(z,Ae){return P.$(this._delegate,z,Ae||void 0)}setPersistence(z){var Ae=this;return(0,u.Z)(function*(){let Ke;switch(function Ir(re,K){hr(Object.values(Jt).includes(K),re,"invalid-persistence-type"),(0,se.b$)()?hr(K!==Jt.SESSION,re,"unsupported-persistence-type"):(0,se.UG)()?hr(K===Jt.NONE,re,"unsupported-persistence-type"):Be()?hr(K===Jt.NONE||K===Jt.LOCAL&&(0,se.hl)(),re,"unsupported-persistence-type"):hr(K===Jt.NONE||ri(),re,"unsupported-persistence-type")}(Ae._delegate,z),z){case Jt.SESSION:Ke=P.a;break;case Jt.LOCAL:Ke=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case Jt.NONE:Ke=P.K;break;default:return P.as("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return dn(this._delegate,P.W(this._delegate))}signInWithCredential(z){return dn(this._delegate,P.X(this._delegate,z))}signInWithCustomToken(z){return dn(this._delegate,P._(this._delegate,z))}signInWithEmailAndPassword(z,Ae){return dn(this._delegate,P.a5(this._delegate,z,Ae))}signInWithEmailLink(z,Ae){return dn(this._delegate,P.a8(this._delegate,z,Ae))}signInWithPhoneNumber(z,Ae){return U(this._delegate,P.s(this._delegate,z,Ae))}signInWithPopup(z){var Ae=this;return(0,u.Z)(function*(){return ne(En(),Ae._delegate,"operation-not-supported-in-this-environment"),dn(Ae._delegate,P.c(Ae._delegate,z,pt))})()}signInWithRedirect(z){var Ae=this;return(0,u.Z)(function*(){return ne(En(),Ae._delegate,"operation-not-supported-in-this-environment"),yield mn(Ae._delegate),P.f(Ae._delegate,z,pt)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return P.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return re.Persistence=Jt,re})();function Se(re,K,z){let Ae=re;"function"!=typeof re&&({next:Ae,error:K,complete:z}=re);const Ke=Ae;return{next:kt=>Ke(kt&&ye.getOrCreate(kt)),error:K,complete:z}}function Ce(re,K){const z=function ji(re,K){const z=qt();if(!z)return[];const Ae=P.ay(Or,re,K);switch(z.getItem(Ae)){case Jt.NONE:return[P.K];case Jt.LOCAL:return[P.i,P.a];case Jt.SESSION:return[P.a];default:return[]}}(re,K);if("undefined"!=typeof self&&!z.includes(P.i)&&z.push(P.i),"undefined"!=typeof window)for(const Ae of[P.b,P.a])z.includes(Ae)||z.push(Ae);return z.includes(P.K)||z.push(P.K),z}class Ze{constructor(){this.providerId="phone",this._delegate=new P.P(es(B.Z.auth()))}static credential(K,z){return P.P.credential(K,z)}verifyPhoneNumber(K,z){return this._delegate.verifyPhoneNumber(K,z)}unwrap(){return this._delegate}}Ze.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ze.PROVIDER_ID=P.P.PROVIDER_ID;const ht=P.aw;class xt{constructor(K,z,Ae=B.Z.app()){var Ke;ht(null===(Ke=Ae.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new P.R(K,z,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dn(re){re.INTERNAL.registerComponent(new oe.wA("auth-compat",K=>{const z=K.getProvider("app-compat").getImmediate(),Ae=K.getProvider("auth");return new Ye(z,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:Ze,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:xt,TwitterAuthProvider:P.V,Auth:Ye,AuthCredential:P.G,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),re.registerVersion("@firebase/auth-compat","0.2.9")}(B.Z)},2940:function(dt,xe){!function(N){"use strict";function u(J){return Array.prototype.slice.call(J)}function B(J){return new Promise(function(ae,me){J.onsuccess=function(){ae(J.result)},J.onerror=function(){me(J.error)}})}function P(J,ae,me){var Me,Ie=new Promise(function(ze,Oe){B(Me=J[ae].apply(J,me)).then(ze,Oe)});return Ie.request=Me,Ie}function se(J,ae,me){var Me=P(J,ae,me);return Me.then(function(Ie){if(Ie)return new H(Ie,Me.request)})}function ce(J,ae,me){me.forEach(function(Me){Object.defineProperty(J.prototype,Me,{get:function(){return this[ae][Me]},set:function(Ie){this[ae][Me]=Ie}})})}function ge(J,ae,me,Me){Me.forEach(function(Ie){Ie in me.prototype&&(J.prototype[Ie]=function(){return P(this[ae],Ie,arguments)})})}function oe(J,ae,me,Me){Me.forEach(function(Ie){Ie in me.prototype&&(J.prototype[Ie]=function(){return this[ae][Ie].apply(this[ae],arguments)})})}function ue(J,ae,me,Me){Me.forEach(function(Ie){Ie in me.prototype&&(J.prototype[Ie]=function(){return se(this[ae],Ie,arguments)})})}function de(J){this._index=J}function H(J,ae){this._cursor=J,this._request=ae}function j(J){this._store=J}function ie(J){this._tx=J,this.complete=new Promise(function(ae,me){J.oncomplete=function(){ae()},J.onerror=function(){me(J.error)},J.onabort=function(){me(J.error)}})}function Ge(J,ae,me){this._db=J,this.oldVersion=ae,this.transaction=new ie(me)}function ke(J){this._db=J}ce(de,"_index",["name","keyPath","multiEntry","unique"]),ge(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),ce(H,"_cursor",["direction","key","primaryKey","value"]),ge(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(J){J in IDBCursor.prototype&&(H.prototype[J]=function(){var ae=this,me=arguments;return Promise.resolve().then(function(){return ae._cursor[J].apply(ae._cursor,me),B(ae._request).then(function(Me){if(Me)return new H(Me,ae._request)})})})}),j.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},ce(j,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(j,"_store",IDBObjectStore,["deleteIndex"]),ie.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ce(ie,"_tx",["objectStoreNames","mode"]),oe(ie,"_tx",IDBTransaction,["abort"]),Ge.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ce(Ge,"_db",["name","version","objectStoreNames"]),oe(Ge,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new ie(this._db.transaction.apply(this._db,arguments))},ce(ke,"_db",["name","version","objectStoreNames"]),oe(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(J){[j,de].forEach(function(ae){J in ae.prototype&&(ae.prototype[J.replace("open","iterate")]=function(){var me=u(arguments),Me=me[me.length-1],Ie=this._store||this._index,ze=Ie[J].apply(Ie,me.slice(0,-1));ze.onsuccess=function(){Me(ze.result)}})})}),[de,j].forEach(function(J){J.prototype.getAll||(J.prototype.getAll=function(ae,me){var Me=this,Ie=[];return new Promise(function(ze){Me.iterateCursor(ae,function(Oe){Oe?(Ie.push(Oe.value),void 0===me||Ie.length!=me?Oe.continue():ze(Ie)):ze(Ie)})})})}),N.openDb=function Le(J,ae,me){var Me=P(indexedDB,"open",[J,ae]),Ie=Me.request;return Ie&&(Ie.onupgradeneeded=function(ze){me&&me(new Ge(Ie.result,ze.oldVersion,Ie.transaction))}),Me.then(function(ze){return new ke(ze)})},N.deleteDb=function $e(J){return P(indexedDB,"deleteDatabase",[J])},Object.defineProperty(N,"__esModule",{value:!0})}(xe)},8306:(dt,xe,N)=>{"use strict";N.d(xe,{y:()=>H});var u=N(930),B=N(727),P=N(8822),se=N(4671);var oe=N(2416),ue=N(576),de=N(2806);let H=(()=>{class ke{constructor($e){$e&&(this._subscribe=$e)}lift($e){const J=new ke;return J.source=this,J.operator=$e,J}subscribe($e,J,ae){const me=function Ge(ke){return ke&&ke instanceof u.Lv||function ie(ke){return ke&&(0,ue.m)(ke.next)&&(0,ue.m)(ke.error)&&(0,ue.m)(ke.complete)}(ke)&&(0,B.Nn)(ke)}($e)?$e:new u.Hp($e,J,ae);return(0,de.x)(()=>{const{operator:Me,source:Ie}=this;me.add(Me?Me.call(me,Ie):Ie?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe($e){try{return this._subscribe($e)}catch(J){$e.error(J)}}forEach($e,J){return new(J=j(J))((ae,me)=>{let Me;Me=this.subscribe(Ie=>{try{$e(Ie)}catch(ze){me(ze),null==Me||Me.unsubscribe()}},me,ae)})}_subscribe($e){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe($e)}[P.L](){return this}pipe(...$e){return function ge(ke){return 0===ke.length?se.y:1===ke.length?ke[0]:function($e){return ke.reduce((J,ae)=>ae(J),$e)}}($e)(this)}toPromise($e){return new($e=j($e))((J,ae)=>{let me;this.subscribe(Me=>me=Me,Me=>ae(Me),()=>J(me))})}}return ke.create=Le=>new ke(Le),ke})();function j(ke){var Le;return null!==(Le=null!=ke?ke:oe.v.Promise)&&void 0!==Le?Le:Promise}},7579:(dt,xe,N)=>{"use strict";N.d(xe,{x:()=>oe});var u=N(8306),B=N(727);const se=(0,N(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=N(8737),ge=N(2806);let oe=(()=>{class de extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new ue(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ie=this.observers.slice();for(const Ge of ie)Ge.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:Ge,observers:ke}=this;return ie||Ge?B.Lc:(ke.push(j),new B.w0(()=>(0,ce.P)(ke,j)))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:Ge,isStopped:ke}=this;ie?j.error(Ge):ke&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return de.create=(H,j)=>new ue(H,j),de})();class ue extends oe{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,H)}error(H){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==ie?ie:B.Lc}}},930:(dt,xe,N)=>{"use strict";N.d(xe,{Hp:()=>Ge,Lv:()=>ie});var u=N(576),B=N(727),P=N(2416),se=N(7849),ce=N(5032);const ge=de("C",void 0,void 0);function de(ae,me,Me){return{kind:ae,value:me,error:Me}}var H=N(3410),j=N(2806);class ie extends B.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,B.Nn)(me)&&me.add(this)):this.destination=J}static create(me,Me,Ie){return new Ge(me,Me,Ie)}next(me){this.isStopped?$e(function ue(ae){return de("N",ae,void 0)}(me),this):this._next(me)}error(me){this.isStopped?$e(function oe(ae){return de("E",void 0,ae)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?$e(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ge extends ie{constructor(me,Me,Ie){let ze;if(super(),(0,u.m)(me))ze=me;else if(me){let Oe;({next:ze,error:Me,complete:Ie}=me),this&&P.v.useDeprecatedNextContext?(Oe=Object.create(me),Oe.unsubscribe=()=>this.unsubscribe()):Oe=me,ze=null==ze?void 0:ze.bind(Oe),Me=null==Me?void 0:Me.bind(Oe),Ie=null==Ie?void 0:Ie.bind(Oe)}this.destination={next:ze?ke(ze):ce.Z,error:ke(null!=Me?Me:Le),complete:Ie?ke(Ie):ce.Z}}}function ke(ae,me){return(...Me)=>{try{ae(...Me)}catch(Ie){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ie):(0,se.h)(Ie)}}}function Le(ae){throw ae}function $e(ae,me){const{onStoppedNotification:Me}=P.v;Me&&H.z.setTimeout(()=>Me(ae,me))}const J={closed:!0,next:ce.Z,error:Le,complete:ce.Z}},727:(dt,xe,N)=>{"use strict";N.d(xe,{Lc:()=>ge,w0:()=>ce,Nn:()=>oe});var u=N(576);const P=(0,N(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,Ge)=>`${Ge+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=N(8737);class ce{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,u.m)(ie))try{ie()}catch(ke){H=ke instanceof P?ke.errors:[ke]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const ke of Ge)try{ue(ke)}catch(Le){H=null!=H?H:[],Le instanceof P?H=[...H,...Le.errors]:H.push(Le)}}if(H)throw new P(H)}}add(H){var j;if(H&&H!==this)if(this.closed)ue(H);else{if(H instanceof ce){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(j=this._teardowns)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,H)}remove(H){const{_teardowns:j}=this;j&&(0,se.P)(j,H),H instanceof ce&&H._removeParent(this)}}ce.EMPTY=(()=>{const de=new ce;return de.closed=!0,de})();const ge=ce.EMPTY;function oe(de){return de instanceof ce||de&&"closed"in de&&(0,u.m)(de.remove)&&(0,u.m)(de.add)&&(0,u.m)(de.unsubscribe)}function ue(de){(0,u.m)(de)?de():de.unsubscribe()}},2416:(dt,xe,N)=>{"use strict";N.d(xe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,xe,N)=>{"use strict";N.d(xe,{E:()=>B});const B=new(N(8306).y)(ce=>ce.complete())},8996:(dt,xe,N)=>{"use strict";N.d(xe,{D:()=>ze});var u=N(8421),B=N(5363),P=N(9468),ge=N(8306),ue=N(2202),de=N(576),H=N(9672);function ie(Oe,lt){if(!Oe)throw new Error("Iterable cannot be null");return new ge.y(Xe=>{(0,H.f)(Xe,lt,()=>{const bt=Oe[Symbol.asyncIterator]();(0,H.f)(Xe,lt,()=>{bt.next().then(te=>{te.done?Xe.complete():Xe.next(te.value)})},0,!0)})})}var Ge=N(3670),ke=N(8239),Le=N(1144),$e=N(6495),J=N(2206),ae=N(4532),me=N(3260);function ze(Oe,lt){return lt?function Ie(Oe,lt){if(null!=Oe){if((0,Ge.c)(Oe))return function se(Oe,lt){return(0,u.Xf)(Oe).pipe((0,P.R)(lt),(0,B.Q)(lt))}(Oe,lt);if((0,Le.z)(Oe))return function oe(Oe,lt){return new ge.y(Xe=>{let bt=0;return lt.schedule(function(){bt===Oe.length?Xe.complete():(Xe.next(Oe[bt++]),Xe.closed||this.schedule())})})}(Oe,lt);if((0,ke.t)(Oe))return function ce(Oe,lt){return(0,u.Xf)(Oe).pipe((0,P.R)(lt),(0,B.Q)(lt))}(Oe,lt);if((0,J.D)(Oe))return ie(Oe,lt);if((0,$e.T)(Oe))return function j(Oe,lt){return new ge.y(Xe=>{let bt;return(0,H.f)(Xe,lt,()=>{bt=Oe[ue.h](),(0,H.f)(Xe,lt,()=>{let te,_e;try{({value:te,done:_e}=bt.next())}catch(be){return void Xe.error(be)}_e?Xe.complete():Xe.next(te)},0,!0)}),()=>(0,de.m)(null==bt?void 0:bt.return)&&bt.return()})}(Oe,lt);if((0,me.L)(Oe))return function Me(Oe,lt){return ie((0,me.Q)(Oe),lt)}(Oe,lt)}throw(0,ae.z)(Oe)}(Oe,lt):(0,u.Xf)(Oe)}},8421:(dt,xe,N)=>{"use strict";N.d(xe,{Xf:()=>Ge});var u=N(5987),B=N(1144),P=N(8239),se=N(8306),ce=N(3670),ge=N(2206),oe=N(4532),ue=N(6495),de=N(3260),H=N(576),j=N(7849),ie=N(8822);function Ge(Ie){if(Ie instanceof se.y)return Ie;if(null!=Ie){if((0,ce.c)(Ie))return function ke(Ie){return new se.y(ze=>{const Oe=Ie[ie.L]();if((0,H.m)(Oe.subscribe))return Oe.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,B.z)(Ie))return function Le(Ie){return new se.y(ze=>{for(let Oe=0;Oe<Ie.length&&!ze.closed;Oe++)ze.next(Ie[Oe]);ze.complete()})}(Ie);if((0,P.t)(Ie))return function $e(Ie){return new se.y(ze=>{Ie.then(Oe=>{ze.closed||(ze.next(Oe),ze.complete())},Oe=>ze.error(Oe)).then(null,j.h)})}(Ie);if((0,ge.D)(Ie))return ae(Ie);if((0,ue.T)(Ie))return function J(Ie){return new se.y(ze=>{for(const Oe of Ie)if(ze.next(Oe),ze.closed)return;ze.complete()})}(Ie);if((0,de.L)(Ie))return function me(Ie){return ae((0,de.Q)(Ie))}(Ie)}throw(0,oe.z)(Ie)}function ae(Ie){return new se.y(ze=>{(function Me(Ie,ze){var Oe,lt,Xe,bt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,u.KL)(Ie);!(lt=yield Oe.next()).done;)if(ze.next(lt.value),ze.closed)return}catch(te){Xe={error:te}}finally{try{lt&&!lt.done&&(bt=Oe.return)&&(yield bt.call(Oe))}finally{if(Xe)throw Xe.error}}ze.complete()})})(Ie,ze).catch(Oe=>ze.error(Oe))})}},6451:(dt,xe,N)=>{"use strict";N.d(xe,{T:()=>ge});var u=N(8189),B=N(8421),P=N(515),se=N(3269),ce=N(8996);function ge(...oe){const ue=(0,se.yG)(oe),de=(0,se._6)(oe,1/0),H=oe;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,u.J)(de)((0,ce.D)(H,ue)):P.E}},5403:(dt,xe,N)=>{"use strict";N.d(xe,{Q:()=>B});var u=N(930);class B extends u.Lv{constructor(se,ce,ge,oe,ue){super(se),this.onFinalize=ue,this._next=ce?function(de){try{ce(de)}catch(H){se.error(H)}}:super._next,this._error=oe?function(de){try{oe(de)}catch(H){se.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(de){se.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}},4004:(dt,xe,N)=>{"use strict";N.d(xe,{U:()=>P});var u=N(4482),B=N(5403);function P(se,ce){return(0,u.e)((ge,oe)=>{let ue=0;ge.subscribe(new B.Q(oe,de=>{oe.next(se.call(ce,de,ue++))}))})}},8189:(dt,xe,N)=>{"use strict";N.d(xe,{J:()=>P});var u=N(5577),B=N(4671);function P(se=1/0){return(0,u.z)(B.y,se)}},5577:(dt,xe,N)=>{"use strict";N.d(xe,{z:()=>ue});var u=N(4004),B=N(8421),P=N(4482),se=N(9672),ce=N(5403),oe=N(576);function ue(de,H,j=1/0){return(0,oe.m)(H)?ue((ie,Ge)=>(0,u.U)((ke,Le)=>H(ie,ke,Ge,Le))((0,B.Xf)(de(ie,Ge))),j):("number"==typeof H&&(j=H),(0,P.e)((ie,Ge)=>function ge(de,H,j,ie,Ge,ke,Le,$e){const J=[];let ae=0,me=0,Me=!1;const Ie=()=>{Me&&!J.length&&!ae&&H.complete()},ze=lt=>ae<ie?Oe(lt):J.push(lt),Oe=lt=>{ke&&H.next(lt),ae++;let Xe=!1;(0,B.Xf)(j(lt,me++)).subscribe(new ce.Q(H,bt=>{null==Ge||Ge(bt),ke?ze(bt):H.next(bt)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(ae--;J.length&&ae<ie;){const bt=J.shift();Le?(0,se.f)(H,Le,()=>Oe(bt)):Oe(bt)}Ie()}catch(bt){H.error(bt)}}))};return de.subscribe(new ce.Q(H,ze,()=>{Me=!0,Ie()})),()=>{null==$e||$e()}}(ie,Ge,de,j)))}},5363:(dt,xe,N)=>{"use strict";N.d(xe,{Q:()=>se});var u=N(9672),B=N(4482),P=N(5403);function se(ce,ge=0){return(0,B.e)((oe,ue)=>{oe.subscribe(new P.Q(ue,de=>(0,u.f)(ue,ce,()=>ue.next(de),ge),()=>(0,u.f)(ue,ce,()=>ue.complete(),ge),de=>(0,u.f)(ue,ce,()=>ue.error(de),ge)))})}},3099:(dt,xe,N)=>{"use strict";N.d(xe,{B:()=>ge});var u=N(8996),B=N(5698),P=N(7579),se=N(930),ce=N(4482);function ge(ue={}){const{connector:de=(()=>new P.x),resetOnError:H=!0,resetOnComplete:j=!0,resetOnRefCountZero:ie=!0}=ue;return Ge=>{let ke=null,Le=null,$e=null,J=0,ae=!1,me=!1;const Me=()=>{null==Le||Le.unsubscribe(),Le=null},Ie=()=>{Me(),ke=$e=null,ae=me=!1},ze=()=>{const Oe=ke;Ie(),null==Oe||Oe.unsubscribe()};return(0,ce.e)((Oe,lt)=>{J++,!me&&!ae&&Me();const Xe=$e=null!=$e?$e:de();lt.add(()=>{J--,0===J&&!me&&!ae&&(Le=oe(ze,ie))}),Xe.subscribe(lt),ke||(ke=new se.Hp({next:bt=>Xe.next(bt),error:bt=>{me=!0,Me(),Le=oe(Ie,H,bt),Xe.error(bt)},complete:()=>{ae=!0,Me(),Le=oe(Ie,j),Xe.complete()}}),(0,u.D)(Oe).subscribe(ke))})(Ge)}}function oe(ue,de,...H){return!0===de?(ue(),null):!1===de?null:de(...H).pipe((0,B.q)(1)).subscribe(()=>ue())}},9468:(dt,xe,N)=>{"use strict";N.d(xe,{R:()=>B});var u=N(4482);function B(P,se=0){return(0,u.e)((ce,ge)=>{ge.add(P.schedule(()=>ce.subscribe(ge),se))})}},5698:(dt,xe,N)=>{"use strict";N.d(xe,{q:()=>se});var u=N(515),B=N(4482),P=N(5403);function se(ce){return ce<=0?()=>u.E:(0,B.e)((ge,oe)=>{let ue=0;ge.subscribe(new P.Q(oe,de=>{++ue<=ce&&(oe.next(de),ce<=ue&&oe.complete())}))})}},8505:(dt,xe,N)=>{"use strict";N.d(xe,{b:()=>ce});var u=N(576),B=N(4482),P=N(5403),se=N(4671);function ce(ge,oe,ue){const de=(0,u.m)(ge)||oe||ue?{next:ge,error:oe,complete:ue}:ge;return de?(0,B.e)((H,j)=>{var ie;null===(ie=de.subscribe)||void 0===ie||ie.call(de);let Ge=!0;H.subscribe(new P.Q(j,ke=>{var Le;null===(Le=de.next)||void 0===Le||Le.call(de,ke),j.next(ke)},()=>{var ke;Ge=!1,null===(ke=de.complete)||void 0===ke||ke.call(de),j.complete()},ke=>{var Le;Ge=!1,null===(Le=de.error)||void 0===Le||Le.call(de,ke),j.error(ke)},()=>{var ke,Le;Ge&&(null===(ke=de.unsubscribe)||void 0===ke||ke.call(de)),null===(Le=de.finalize)||void 0===Le||Le.call(de)}))}):se.y}},4408:(dt,xe,N)=>{"use strict";N.d(xe,{o:()=>ce});var u=N(727);class B extends u.w0{constructor(oe,ue){super()}schedule(oe,ue=0){return this}}const P={setInterval(...ge){const{delegate:oe}=P;return((null==oe?void 0:oe.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:oe}=P;return((null==oe?void 0:oe.clearInterval)||clearInterval)(ge)},delegate:void 0};var se=N(8737);class ce extends B{constructor(oe,ue){super(oe,ue),this.scheduler=oe,this.work=ue,this.pending=!1}schedule(oe,ue=0){if(this.closed)return this;this.state=oe;const de=this.id,H=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(H,de,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(H,this.id,ue),this}requestAsyncId(oe,ue,de=0){return P.setInterval(oe.flush.bind(oe,this),de)}recycleAsyncId(oe,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;P.clearInterval(ue)}execute(oe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(oe,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ue){let H,de=!1;try{this.work(oe)}catch(j){de=!0,H=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:oe,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(de,this),null!=oe&&(this.id=this.recycleAsyncId(ue,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,xe,N)=>{"use strict";N.d(xe,{v:()=>P});var u=N(6063);class B{constructor(ce,ge=B.now){this.schedulerActionCtor=ce,this.now=ge}schedule(ce,ge=0,oe){return new this.schedulerActionCtor(this,ce).schedule(oe,ge)}}B.now=u.l.now;class P extends B{constructor(ce,ge=B.now){super(ce,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:ge}=this;if(this._active)return void ge.push(ce);let oe;this._active=!0;do{if(oe=ce.execute(ce.state,ce.delay))break}while(ce=ge.shift());if(this._active=!1,oe){for(;ce=ge.shift();)ce.unsubscribe();throw oe}}}},4986:(dt,xe,N)=>{"use strict";N.d(xe,{z:()=>P,P:()=>se});var u=N(4408);const P=new(N(7565).v)(u.o),se=P},6063:(dt,xe,N)=>{"use strict";N.d(xe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(dt,xe,N)=>{"use strict";N.d(xe,{z:()=>u});const u={setTimeout(...B){const{delegate:P}=u;return((null==P?void 0:P.setTimeout)||setTimeout)(...B)},clearTimeout(B){const{delegate:P}=u;return((null==P?void 0:P.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(dt,xe,N)=>{"use strict";N.d(xe,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,xe,N)=>{"use strict";N.d(xe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,xe,N)=>{"use strict";N.d(xe,{jO:()=>se,yG:()=>ce,_6:()=>ge});var u=N(576),B=N(3532);function P(oe){return oe[oe.length-1]}function se(oe){return(0,u.m)(P(oe))?oe.pop():void 0}function ce(oe){return(0,B.K)(P(oe))?oe.pop():void 0}function ge(oe,ue){return"number"==typeof P(oe)?oe.pop():ue}},8737:(dt,xe,N)=>{"use strict";function u(B,P){if(B){const se=B.indexOf(P);0<=se&&B.splice(se,1)}}N.d(xe,{P:()=>u})},3888:(dt,xe,N)=>{"use strict";function u(B){const se=B(ce=>{Error.call(ce),ce.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}N.d(xe,{d:()=>u})},2806:(dt,xe,N)=>{"use strict";N.d(xe,{x:()=>P,O:()=>se});var u=N(2416);let B=null;function P(ce){if(u.v.useDeprecatedSynchronousErrorHandling){const ge=!B;if(ge&&(B={errorThrown:!1,error:null}),ce(),ge){const{errorThrown:oe,error:ue}=B;if(B=null,oe)throw ue}}else ce()}function se(ce){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ce)}},9672:(dt,xe,N)=>{"use strict";function u(B,P,se,ce=0,ge=!1){const oe=P.schedule(function(){se(),ge?B.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(B.add(oe),!ge)return oe}N.d(xe,{f:()=>u})},4671:(dt,xe,N)=>{"use strict";function u(B){return B}N.d(xe,{y:()=>u})},1144:(dt,xe,N)=>{"use strict";N.d(xe,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(dt,xe,N)=>{"use strict";N.d(xe,{D:()=>B});var u=N(576);function B(P){return Symbol.asyncIterator&&(0,u.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(dt,xe,N)=>{"use strict";function u(B){return"function"==typeof B}N.d(xe,{m:()=>u})},3670:(dt,xe,N)=>{"use strict";N.d(xe,{c:()=>P});var u=N(8822),B=N(576);function P(se){return(0,B.m)(se[u.L])}},6495:(dt,xe,N)=>{"use strict";N.d(xe,{T:()=>P});var u=N(2202),B=N(576);function P(se){return(0,B.m)(null==se?void 0:se[u.h])}},8239:(dt,xe,N)=>{"use strict";N.d(xe,{t:()=>B});var u=N(576);function B(P){return(0,u.m)(null==P?void 0:P.then)}},3260:(dt,xe,N)=>{"use strict";N.d(xe,{Q:()=>P,L:()=>se});var u=N(5987),B=N(576);function P(ce){return(0,u.FC)(this,arguments,function*(){const oe=ce.getReader();try{for(;;){const{value:ue,done:de}=yield(0,u.qq)(oe.read());if(de)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ue)}}finally{oe.releaseLock()}})}function se(ce){return(0,B.m)(null==ce?void 0:ce.getReader)}},3532:(dt,xe,N)=>{"use strict";N.d(xe,{K:()=>B});var u=N(576);function B(P){return P&&(0,u.m)(P.schedule)}},4482:(dt,xe,N)=>{"use strict";N.d(xe,{A:()=>B,e:()=>P});var u=N(576);function B(se){return(0,u.m)(null==se?void 0:se.lift)}function P(se){return ce=>{if(B(ce))return ce.lift(function(ge){try{return se(ge,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,xe,N)=>{"use strict";function u(){}N.d(xe,{Z:()=>u})},7849:(dt,xe,N)=>{"use strict";N.d(xe,{h:()=>P});var u=N(2416),B=N(3410);function P(se){B.z.setTimeout(()=>{const{onUnhandledError:ce}=u.v;if(!ce)throw se;ce(se)})}},4532:(dt,xe,N)=>{"use strict";function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(xe,{z:()=>u})},5987:(dt,xe,N)=>{"use strict";function ue(te,_e,be,Te){return new(be||(be=Promise))(function(pe,Mt){function nn(Ct){try{ct(Te.next(Ct))}catch($n){Mt($n)}}function Cr(Ct){try{ct(Te.throw(Ct))}catch($n){Mt($n)}}function ct(Ct){Ct.done?pe(Ct.value):function Ue(pe){return pe instanceof be?pe:new be(function(Mt){Mt(pe)})}(Ct.value).then(nn,Cr)}ct((Te=Te.apply(te,_e||[])).next())})}function J(te){return this instanceof J?(this.v=te,this):new J(te)}function ae(te,_e,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Te=be.apply(te,_e||[]),pe=[];return Ue={},Mt("next"),Mt("throw"),Mt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Mt(en){Te[en]&&(Ue[en]=function(ur){return new Promise(function(rn,Dr){pe.push([en,ur,rn,Dr])>1||nn(en,ur)})})}function nn(en,ur){try{!function Cr(en){en.value instanceof J?Promise.resolve(en.value.v).then(ct,Ct):$n(pe[0][2],en)}(Te[en](ur))}catch(rn){$n(pe[0][3],rn)}}function ct(en){nn("next",en)}function Ct(en){nn("throw",en)}function $n(en,ur){en(ur),pe.shift(),pe.length&&nn(pe[0][0],pe[0][1])}}function Me(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,_e=te[Symbol.asyncIterator];return _e?_e.call(te):(te=function ie(te){var _e="function"==typeof Symbol&&Symbol.iterator,be=_e&&te[_e],Te=0;if(be)return be.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Te>=te.length&&(te=void 0),{value:te&&te[Te++],done:!te}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),be={},Te("next"),Te("throw"),Te("return"),be[Symbol.asyncIterator]=function(){return this},be);function Te(pe){be[pe]=te[pe]&&function(Mt){return new Promise(function(nn,Cr){!function Ue(pe,Mt,nn,Cr){Promise.resolve(Cr).then(function(ct){pe({value:ct,done:nn})},Mt)}(nn,Cr,(Mt=te[pe](Mt)).done,Mt.value)})}}}N.d(xe,{mG:()=>ue,qq:()=>J,FC:()=>ae,KL:()=>Me})},5e3:(dt,xe,N)=>{"use strict";N.d(xe,{deG:()=>oh,tb:()=>Fy,AFp:()=>eu,ip1:()=>Gg,CZH:()=>Jc,hGG:()=>RT,z2F:()=>tu,sBO:()=>Qg,Sil:()=>Td,_Vd:()=>ff,EJc:()=>Ly,SBq:()=>Fl,qLn:()=>xh,vpe:()=>zs,tBr:()=>ir,XFs:()=>wt,OlP:()=>yn,zs3:()=>Ki,ZZ4:()=>ki,aQg:()=>zt,soG:()=>Af,YKP:()=>fy,h0i:()=>To,PXZ:()=>Gy,R0b:()=>yi,FiY:()=>an,Lbi:()=>Ny,g9A:()=>Cw,Qsj:()=>WI,FYo:()=>ZE,JOm:()=>as,tp0:()=>fi,Rgc:()=>vr,dDg:()=>jy,q4F:()=>bg,GfV:()=>cy,s_b:()=>Ef,ifc:()=>qt,eFA:()=>qy,G48:()=>Pw,Gpc:()=>j,f3M:()=>Ve,X6Q:()=>nu,_c5:()=>iu,VLi:()=>xw,c2e:()=>Zg,zSh:()=>og,wAp:()=>It,vHH:()=>Le,cg1:()=>fd,kL8:()=>EE,dqk:()=>_t,sIi:()=>Xh,CqO:()=>PD,QGY:()=>rE,F4k:()=>kD,RDi:()=>Su,AaK:()=>ue,qOj:()=>Kh,TTD:()=>eo,_Bn:()=>Lt,xp6:()=>cb,uIk:()=>Kb,Tol:()=>rI,ekj:()=>q_,Suo:()=>pw,Xpm:()=>Ze,lG2:()=>Ae,Yz7:()=>rn,cJS:()=>jr,oAB:()=>re,Yjl:()=>Ke,Y36:()=>lg,_UZ:()=>MD,qZA:()=>nE,TgZ:()=>tE,EpF:()=>OD,n5z:()=>yc,Ikx:()=>Q_,LFG:()=>Q,$8M:()=>fl,$Z:()=>AD,NdJ:()=>iE,CRH:()=>Vl,oxw:()=>VD,ALo:()=>Ag,xi3:()=>sw,Q6J:()=>Jb,s9C:()=>oE,VKq:()=>Dg,iGM:()=>zc,MAs:()=>_D,CHM:()=>cl,LSH:()=>M,kYT:()=>K,YNc:()=>mD,_uU:()=>uE,Oqu:()=>dE,Gf:()=>fw});var u=N(7579),B=N(727),P=N(8306),se=N(6451),ce=N(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function oe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ge({__forward_ref__:ge});function j(s){return s.__forward_ref__=j,s.toString=function(){return ue(this())},s}function ie(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===j}class Le extends Error{constructor(o,a){super(function $e(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function J(s){return"string"==typeof s?s:null==s?"":String(s)}function ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():J(s)}function ze(s,o){const a=o?` in ${o}`:"";throw new Le(-201,`No provider for ${ae(s)} found${a}`)}function ct(s,o){null==s&&function Ct(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jr(s){return{providers:s.providers||[],imports:s.imports||[]}}function bn(s){return Mn(s,ri)||Mn(s,En)}function Mn(s,o){return s.hasOwnProperty(o)?s[o]:null}function ni(s){return s&&(s.hasOwnProperty(Be)||s.hasOwnProperty(zn))?s[Be]:null}const ri=ge({\u0275prov:ge}),Be=ge({\u0275inj:ge}),En=ge({ngInjectableDef:ge}),zn=ge({ngInjectorDef:ge});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let xn;function Jt(s){const o=xn;return xn=s,o}function hr(s,o,a){const c=bn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&wt.Optional?null:void 0!==o?o:void ze(ue(s),"Injector")}function Ir(s){return{toString:s}.toString()}var mn=(()=>((mn=mn||{})[mn.OnPush=0]="OnPush",mn[mn.Default=1]="Default",mn))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const ft="undefined"!=typeof globalThis&&globalThis,pt="undefined"!=typeof window&&window,es="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t=ft||"undefined"!=typeof global&&global||pt||es,dn={},U=[],G=ge({\u0275cmp:ge}),W=ge({\u0275dir:ge}),ye=ge({\u0275pipe:ge}),ne=ge({\u0275mod:ge}),Ye=ge({\u0275fac:ge}),Se=ge({__NG_ELEMENT_ID__:ge});let Ce=0;function Ze(s){return Ir(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,y=s.pipes;return c.id+=Ce++,c.inputs=z(s.inputs,a),c.outputs=z(s.outputs),g&&g.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(xt):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(yt):null,c})}function xt(s){return it(s)||function kt(s){return s[W]||null}(s)}function yt(s){return function Zt(s){return s[ye]||null}(s)}const Dn={};function re(s){return Ir(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Dn[s.id]=s.type),o})}function K(s,o){return Ir(()=>{const a=Wt(s,!0);a.declarations=o.declarations||U,a.imports=o.imports||U,a.exports=o.exports||U})}function z(s,o){if(null==s)return dn;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=c,o&&(o[h]=g)}return a}const Ae=Ze;function Ke(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function it(s){return s[G]||null}function Wt(s,o){const a=s[ne]||null;if(!a&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return a}function Ei(s){return Array.isArray(s)&&"object"==typeof s[1]}function ts(s){return Array.isArray(s)&&!0===s[1]}function pr(s){return 0!=(8&s.flags)}function Yl(s){return 2==(2&s.flags)}function xs(s){return 1==(1&s.flags)}function Hi(s){return null!==s.template}function _u(s){return 0!=(512&s[2])}function ps(s,o){return s.hasOwnProperty(Ye)?s[Ye]:null}class Du{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function eo(){return gs}function gs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Iu),ms}function ms(){const s=$i(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===dn)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Iu(s,o,a,c){const h=$i(s)||function Fo(s,o){return s[ai]=o}(s,{previous:dn,current:null}),g=h.current||(h.current={}),y=h.previous,E=this.declaredInputs[a],C=y[E];g[E]=new Du(C&&C.currentValue,o,y===dn),s[c]=o}eo.ngInherit=!0;const ai="__ngSimpleChanges__";function $i(s){return s[ai]||null}let Tu;function Su(s){Tu=s}function On(s){return!!s.listen}const Os={createRenderer:(s,o)=>function ba(){return void 0!==Tu?Tu:"undefined"!=typeof document?document:void 0}()};function Bn(s){for(;Array.isArray(s);)s=s[0];return s}function Pr(s,o){return Bn(o[s])}function rr(s,o){return Bn(o[s.index])}function Ea(s,o){return s.data[o]}function _s(s,o){return s[o]}function ci(s,o){const a=o[s];return Ei(a)?a:a[0]}function kn(s){return 4==(4&s[2])}function wa(s){return 128==(128&s[2])}function Gi(s,o){return null==o?null:s[o]}function ks(s){s[18]=0}function to(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const ut={lFrame:ac(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ll(){return ut.bindingsEnabled}function Pe(){return ut.lFrame.lView}function jt(){return ut.lFrame.tView}function cl(s){return ut.lFrame.contextLView=s,s[8]}function hn(){let s=Uo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uo(){return ut.lFrame.currentTNode}function Nr(s,o){const a=ut.lFrame;a.currentTNode=s,a.isParent=o}function Ps(){return ut.lFrame.isParent}function Ia(){return ut.isInCheckNoChangesMode}function jo(s){ut.isInCheckNoChangesMode=s}function gr(){const s=ut.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qi(){return ut.lFrame.bindingIndex++}function ys(s){const o=ut.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function rc(s,o){const a=ut.lFrame;a.bindingIndex=a.bindingRootIndex=s,ic(o)}function ic(s){ut.lFrame.currentDirectiveIndex=s}function sc(){return ut.lFrame.currentQueryIndex}function lo(s){ut.lFrame.currentQueryIndex=s}function Mu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ta(s,o,a){if(a&wt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&wt.Host||(h=Mu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=ut.lFrame=oc();return c.currentTNode=o,c.lView=s,!0}function Sa(s){const o=oc(),a=s[1];ut.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function oc(){const s=ut.lFrame,o=null===s?null:s.child;return null===o?ac(s):o}function ac(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Aa(){const s=ut.lFrame;return ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const lc=Aa;function $o(){const s=Aa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kn(){return ut.lFrame.selectedIndex}function mr(s){ut.lFrame.selectedIndex=s}function Nn(){const s=ut.lFrame;return Ea(s.tView,s.selectedIndex)}function xa(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:x}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Go(s,o,a){dc(s,o,3,a)}function qo(s,o,a,c){(3&s[2])===a&&dc(s,o,a,c)}function xu(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function dc(s,o,a,c){const g=null!=c?c:-1,y=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<g||-1==g)&&(_p(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function _p(s,o,a,c){const h=a[c]<0,g=a[c+1],E=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class qn{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function hc(s,o,a){const c=On(s);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],E=a[h++],C=a[h++];c?s.setAttribute(o,E,C,y):o.setAttributeNS(y,E,C)}else{const y=g,E=a[++h];_r(y)?c&&s.setProperty(o,y,E):c?s.setAttribute(o,y,E):o.setAttribute(y,E),h++}}return h}function In(s){return 3===s||4===s||6===s}function _r(s){return 64===s.charCodeAt(0)}function Fr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||rh(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function rh(s,o,a,c,h){let g=0,y=s.length;if(-1===o)y=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,o),g=y+1),s.splice(g++,0,a),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function ih(s){return-1!==s}function Ra(s){return 32767&s}function Oa(s,o){let a=function Ou(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Ns=!0;function ui(s){const o=Ns;return Ns=s,o}let pc=0;function zo(s,o){const a=Wo(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ka(c.data,s),ka(o,null),ka(c.blueprint,null));const h=Di(s,o),g=s.injectorIndex;if(ih(h)){const y=Ra(h),E=Oa(h,o),C=E[1].data;for(let T=0;T<8;T++)o[g+T]=E[y+T]|C[y+T]}return o[g+8]=h,g}function ka(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Di(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const g=h[1],y=g.type;if(c=2===y?g.declTNode:1===y?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Yn(s,o,a){!function gc(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Se)&&(c=a[Se]),null==c&&(c=a[Se]=pc++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function mc(s,o,a){if(a&wt.Optional)return s;ze(o,"NodeInjector")}function ns(s,o,a,c){if(a&wt.Optional&&void 0===c&&(c=null),0==(a&(wt.Self|wt.Host))){const h=s[9],g=Jt(void 0);try{return h?h.get(o,c,a&wt.Optional):hr(o,c,a&wt.Optional)}finally{Jt(g)}}return mc(c,o,a)}function _c(s,o,a,c=wt.Default,h){if(null!==s){const g=function rs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Se)?s[Se]:void 0;return"number"==typeof o?o>=0?255&o:di:o}(a);if("function"==typeof g){if(!Ta(o,s,c))return c&wt.Host?mc(h,a,c):ns(o,a,c,h);try{const y=g(c);if(null!=y||c&wt.Optional)return y;ze(a)}finally{lc()}}else if("number"==typeof g){let y=null,E=Wo(s,o),C=-1,T=c&wt.Host?o[16][6]:null;for((-1===E||c&wt.SkipSelf)&&(C=-1===E?Di(s,o):o[E+8],-1!==C&&sh(c,!1)?(y=o[1],E=Ra(C),o=Oa(C,o)):E=-1);-1!==E;){const x=o[1];if(Pa(g,E,x.data)){const F=Fs(E,o,a,y,c,T);if(F!==ku)return F}C=o[E+8],-1!==C&&sh(c,o[1].data[E+8]===T)&&Pa(g,E,o)?(y=x,E=Ra(C),o=Oa(C,o)):E=-1}}}return ns(o,a,c,h)}const ku={};function di(){return new wn(hn(),Pe())}function Fs(s,o,a,c,h,g){const y=o[1],E=y.data[s+8],x=Ls(E,y,a,null==c?Yl(E)&&Ns:c!=y&&0!=(3&E.type),h&wt.Host&&g===E);return null!==x?Tn(o,y,x,E):ku}function Ls(s,o,a,c,h){const g=s.providerIndexes,y=o.data,E=1048575&g,C=s.directiveStart,x=g>>20,$=h?E+x:s.directiveEnd;for(let ee=c?E:E+x;ee<$;ee++){const ve=y[ee];if(ee<C&&a===ve||ee>=C&&ve.type===a)return ee}if(h){const ee=y[C];if(ee&&Hi(ee)&&ee.type===a)return C}return null}function Tn(s,o,a,c){let h=s[a];const g=o.data;if(function Jd(s){return s instanceof qn}(h)){const y=h;y.resolving&&function me(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${a}`)}(ae(g[a]));const E=ui(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Jt(y.injectImpl):null;Ta(s,c,wt.Default);try{h=s[a]=y.factory(void 0,g,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Pm(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const y=gs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==C&&Jt(C),ui(E),y.resolving=!1,lc()}}return h}function Pa(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function sh(s,o){return!(s&wt.Self||s&wt.Host&&o)}class wn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return _c(this._tNode,this._lView,o,c,a)}}function yc(s){return Ir(()=>{const o=s.prototype.constructor,a=o[Ye]||Vs(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Ye]||Vs(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Vs(s){return Ge(s)?()=>{const o=Vs(ie(s));return o&&o()}:ps(s)}function fl(s){return function hl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const g=a[h];if(In(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(hn(),s)}const uo="__parameters__";function is(s,o,a){return Ir(()=>{const c=function bs(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const y=new h(...g);return E.annotation=y,E;function E(C,T,x){const F=C.hasOwnProperty(uo)?C[uo]:Object.defineProperty(C,uo,{value:[]})[uo];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class yn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oh=new yn("AnalyzeForEntryComponents");function Un(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Un(c,o)):o!==s&&o.push(c)}return o}function Pn(s,o){s.forEach(a=>Array.isArray(a)?Pn(a,o):o(a))}function ml(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function _l(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Lr(s,o,a){let c=po(s,o);return c>=0?s[1|c]=a:(c=~c,function La(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function bl(s,o){const a=po(s,o);if(a>=0)return s[1|a]}function po(s,o){return function bp(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const g=c+(h-c>>1),y=s[g<<a];if(o===y)return g<<a;y>o?h=g:c=g+1}return~(h<<a)}(s,o,1)}const $r={},mo="__NG_DI_FLAG__",Qo="ngTempTokenPath",wl=/\n/gm,uh="__source",D=ge({provide:String,useValue:ge});let I;function O(s){const o=I;return I=s,o}function V(s,o=wt.Default){if(void 0===I)throw new Le(203,"");return null===I?hr(s,void 0,o):I.get(s,o&wt.Optional?null:void 0,o)}function Q(s,o=wt.Default){return(function Rn(){return xn}()||V)(ie(s),o)}const Ve=Q;function nt(s){const o=[];for(let a=0;a<s.length;a++){const c=ie(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Le(900,"");let h,g=wt.Default;for(let y=0;y<c.length;y++){const E=c[y],C=Ht(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(Q(h,g))}else o.push(Q(c))}return o}function tt(s,o){return s[mo]=o,s.prototype[mo]=o,s}function Ht(s){return s[mo]}const ir=tt(is("Inject",s=>({token:s})),-1),an=tt(is("Optional"),8),fi=tt(is("SkipSelf"),4);class gh{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yo(s){return s instanceof gh?s.changingThisBreaksApplicationSecurity:s}const vh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ic=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var p=(()=>((p=p||{})[p.NONE=0]="NONE",p[p.HTML=1]="HTML",p[p.STYLE=2]="STYLE",p[p.SCRIPT=3]="SCRIPT",p[p.URL=4]="URL",p[p.RESOURCE_URL=5]="RESOURCE_URL",p))();function M(s){const o=function jn(){const s=Pe();return s&&s[12]}();return o?o.sanitize(p.URL,s)||"":function Il(s,o){const a=function Um(s){return s instanceof gh&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?yo(s):function Tc(s){return(s=String(s)).match(vh)||s.match(Ic)?s:"unsafe:"+s}(J(s))}const kp="__ngContext__";function at(s,o){s[kp]=o}function Ti(s){const o=function Cn(s){return s[kp]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Rc(s){return s.ngOriginalError}function zv(s,...o){s.error(...o)}class xh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function Wi(s){return s&&s.ngErrorLogger||zv}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Rc(o);for(;a&&Rc(a);)a=Rc(a);return a||null}}const Np=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_t))();function Ai(s){return s instanceof Function?s():s}var as=(()=>((as=as||{})[as.Important=1]="Important",as[as.DashCase=2]="DashCase",as))();function Km(s,o){return undefined(s,o)}function Ph(s){const o=s[3];return ts(o)?o[3]:o}function Lp(s){return eb(s[13])}function Vp(s){return eb(s[4])}function eb(s){for(;null!==s&&!ts(s);)s=s[4];return s}function Wu(s,o,a,c,h){if(null!=c){let g,y=!1;ts(c)?g=c:Ei(c)&&(y=!0,c=c[0]);const E=Bn(c);0===s&&null!==a?null==h?t_(o,a,E):Oc(o,a,E,h||null,!0):1===s&&null!==a?Oc(o,a,E,h||null,!0):2===s?function o_(s,o,a){const c=Nh(s,o);c&&function uC(s,o,a,c){On(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}(o,E,y):3===s&&o.destroyNode(E),null!=g&&function rb(s,o,a,c,h){const g=a[7];g!==Bn(a)&&Wu(o,s,c,g,h);for(let E=10;E<a.length;E++){const C=a[E];Lh(C[1],C,s,o,c,g)}}(o,s,g,a,h)}}function Xm(s,o,a){return On(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function vo(s,o){const a=s[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,to(h,-1)),a.splice(c,1)}function Bp(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&vo(h,c),o>0&&(s[a-1][4]=c[4]);const g=_l(s,10+o);!function Ku(s,o){Lh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=g[19];null!==y&&y.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function e_(s,o){if(!(256&o[2])){const a=o[11];On(a)&&a.destroyNode&&Lh(s,o,a,3,null,null),function aC(s){let o=s[13];if(!o)return Up(s[1],s);for(;o;){let a=null;if(Ei(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)Ei(o)&&Up(o[1],o),o=o[3];null===o&&(o=s),Ei(o)&&Up(o[1],o),a=o&&o[4]}o=a}}(o)}}function Up(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function gi(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof qn)){const g=a[c+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=h[g[y]],C=g[y+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function UM(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const y=a[g+1],E="function"==typeof y?y(o):Bn(o[y]),C=c[h=a[g+2]],T=a[g+3];"boolean"==typeof T?E.removeEventListener(a[g],C,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),g+=2}else{const y=c[h=a[g+1]];a[g].call(y)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&On(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ts(o[3])){a!==o[3]&&vo(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function bo(s,o,a){return function nb(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return rr(c,a)}(s,o.parent,a)}function Oc(s,o,a,c,h){On(s)?s.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function t_(s,o,a){On(s)?s.appendChild(o,a):o.appendChild(a)}function n_(s,o,a,c,h){null!==c?Oc(s,o,a,c,h):t_(s,o,a)}function Nh(s,o){return On(s)?s.parentNode(o):o.parentNode}let Fh=function i_(s,o,a){return 40&s.type?rr(s,a):null};function Al(s,o,a,c){const h=bo(s,c,o),g=o[11],E=function r_(s,o,a){return Fh(s,o,a)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)n_(g,h,a[C],E,!1);else n_(g,h,a,E,!1)}function jp(s,o){if(null!==o){const a=o.type;if(3&a)return rr(o,s);if(4&a)return s_(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return jp(s,c);{const h=s[o.index];return ts(h)?s_(-1,h):Bn(h)}}if(32&a)return Km(o,s)()||Bn(s[o.index]);{const c=Ml(s,o);return null!==c?Array.isArray(c)?c[0]:jp(Ph(s[16]),c):jp(s,o.next)}}return null}function Ml(s,o){return null!==o?s[16][6].projection[o.projection]:null}function s_(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return jp(c,h)}return o[7]}function Hp(s,o,a,c,h,g,y){for(;null!=a;){const E=c[a.index],C=a.type;if(y&&0===o&&(E&&at(Bn(E),c),a.flags|=4),64!=(64&a.flags))if(8&C)Hp(s,o,a.child,c,h,g,!1),Wu(o,s,h,E,g);else if(32&C){const T=Km(a,c);let x;for(;x=T();)Wu(o,s,h,x,g);Wu(o,s,h,E,g)}else 16&C?Yu(s,o,c,a,h,g):Wu(o,s,h,E,g);a=y?a.projectionNext:a.next}}function Lh(s,o,a,c,h,g){Hp(a,c,s.firstChild,o,h,g,!1)}function Yu(s,o,a,c,h,g){const y=a[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Wu(o,s,h,C[T],g);else Hp(s,o,C,y[3],h,g,!0)}function ib(s,o,a){On(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Vh(s,o,a){On(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Bh(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}a=h+1}}const a_="ng-template";function fC(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==Bh(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function sb(s){return 4===s.type&&s.value!==a_}function pC(s,o,a){return o===(4!==s.type||a?s.value:a_)}function qp(s,o,a){let c=4;const h=s.attrs||[],g=function _C(s){for(let o=0;o<s.length;o++)if(In(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!pC(s,C,a)||""===C&&1===o.length){if(Eo(c))return!1;y=!0}}else{const T=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!fC(s.attrs,T,a)){if(Eo(c))return!1;y=!0}continue}const F=gC(8&c?"class":C,h,sb(s),a);if(-1===F){if(Eo(c))return!1;y=!0;continue}if(""!==T){let $;$=F>g?"":h[F+1].toLowerCase();const ee=8&c?$:null;if(ee&&-1!==Bh(ee,T,0)||2&c&&T!==$){if(Eo(c))return!1;y=!0}}}}else{if(!y&&!Eo(c)&&!Eo(C))return!1;if(y&&Eo(C))continue;y=!1,c=C|1&c}}return Eo(c)||y}function Eo(s){return 0==(1&s)}function gC(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let g=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function ab(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function ob(s,o,a=!1){for(let c=0;c<o.length;c++)if(qp(s,o[c],a))return!0;return!1}function Zp(s,o){return s?":not("+o.trim()+")":o}function qa(s){let o=s[0],a=1,c=2,h="",g=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const E=s[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Eo(y)&&(o+=Zp(g,h),h=""),c=y,g=g||!Eo(c);a++}return""!==h&&(o+=Zp(g,h)),o}const Bt={};function cb(s){kc(jt(),Pe(),Kn()+s,Ia())}function kc(s,o,a,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Go(o,g,a)}else{const g=s.preOrderHooks;null!==g&&qo(o,g,0,a)}mr(a)}function zp(s,o){return s<<17|o<<2}function ls(s){return s>>17&32767}function Wp(s){return 2|s}function wo(s){return(131068&s)>>2}function Uh(s,o){return-131069&s|o<<2}function Pc(s){return 1|s}function y_(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],g=a[c+1];if(-1!==g){const y=s.data[g];lo(h),y.contentQueries(2,o[g],g)}}}function $h(s,o,a,c,h,g,y,E,C,T){const x=o.blueprint.slice();return x[0]=h,x[2]=140|c,ks(x),x[3]=x[15]=s,x[8]=a,x[10]=y||s&&s[10],x[11]=E||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=T||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function ed(s,o,a,c,h){let g=s.data[o];if(null===g)g=function v_(s,o,a,c,h){const g=Uo(),y=Ps(),C=s.data[o]=function Db(s,o,a,c,h,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(y?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,a,c,h),function ul(){return ut.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=h;const y=function so(){const s=ut.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Nr(g,!0),g}function td(s,o,a,c){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Ol(s,o,a){Sa(o);try{const c=s.viewQuery;null!==c&&S_(1,c,a);const h=s.template;null!==h&&nd(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&y_(s,o),s.staticViewQueries&&S_(2,s.viewQuery,a);const g=s.components;null!==g&&function Jp(s,o){for(let a=0;a<o.length;a++)BC(s,o[a])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,$o()}}function Vc(s,o,a,c){const h=o[2];if(256==(256&h))return;Sa(o);const g=Ia();try{ks(o),function Au(s){return ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&nd(s,o,a,2,c);const y=3==(3&h);if(!g)if(y){const T=s.preOrderCheckHooks;null!==T&&Go(o,T,null)}else{const T=s.preOrderHooks;null!==T&&qo(o,T,0,null),xu(o,0)}if(function LC(s){for(let o=Lp(s);null!==o;o=Vp(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],g=h[3];0==(1024&h[2])&&to(g,1),h[2]|=1024}}}(o),function FC(s){for(let o=Lp(s);null!==o;o=Vp(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];wa(c)&&Vc(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&y_(s,o),!g)if(y){const T=s.contentCheckHooks;null!==T&&Go(o,T)}else{const T=s.contentHooks;null!==T&&qo(o,T,1),xu(o,1)}!function vb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)mr(~h);else{const g=h,y=a[++c],E=a[++c];rc(y,g),E(2,o[g])}}}finally{mr(-1)}}(s,o);const E=s.components;null!==E&&function Xp(s,o){for(let a=0;a<o.length;a++)VC(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&S_(2,C,c),!g)if(y){const T=s.viewCheckHooks;null!==T&&Go(o,T)}else{const T=s.viewHooks;null!==T&&qo(o,T,2),xu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,to(o[3],-1))}finally{$o()}}function bb(s,o,a,c){const h=o[10],g=!Ia(),y=kn(o);try{g&&!y&&h.begin&&h.begin(),y&&Ol(s,o,c),Vc(s,o,a,c)}finally{g&&!y&&h.end&&h.end()}}function nd(s,o,a,c,h){const g=Kn(),y=2&c;try{mr(-1),y&&o.length>20&&kc(s,o,20,Ia()),a(c,h)}finally{mr(g)}}function rd(s,o,a){!ll()||(function MC(s,o,a,c){const h=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||zo(a,o),at(c,o);const y=a.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],T=Hi(C);T&&PC(o,a,C);const x=Tn(o,s,E,a);at(x,o),null!==y&&xb(0,E-h,x,C,0,y),T&&(ci(a.index,o)[8]=x)}}(s,o,a,rr(a,o)),128==(128&a.flags)&&function xC(s,o,a){const c=a.directiveStart,h=a.directiveEnd,y=a.index,E=function Ho(){return ut.lFrame.currentDirectiveIndex}();try{mr(y);for(let C=c;C<h;C++){const T=s.data[C],x=o[C];ic(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Tb(T,x)}}finally{mr(-1),ic(E)}}(s,o,a))}function eg(s,o,a=rr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const y=c[g+1],E=-1===y?a(o,s):s[y];s[h++]=E}}}function Eb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=tg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function tg(s,o,a,c,h,g,y,E,C,T){const x=20+c,F=x+h,$=function CC(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Bt);return a}(x,F),ee="function"==typeof T?T():T;return $[1]={type:s,blueprint:$,template:a,queries:null,viewQuery:E,declTNode:o,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ee,incompleteFirstPass:!1}}function Cb(s,o,a,c){const h=kb(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&qr(s).push(c,h.length-1))}function Gh(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Mi(s,o,a,c,h,g,y,E){const C=rr(o,a);let x,T=o.inputs;!E&&null!=T&&(x=T[c])?(sg(s,a,x,c,h),Yl(o)&&function TC(s,o){const a=ci(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function IC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,On(g)?g.setProperty(C,c,h):_r(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function E_(s,o,a,c){let h=!1;if(ll()){const g=function RC(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const y=c[g];ob(a,y.selectors,!1)&&(h||(h=[]),Yn(zo(a,o),s,y.type),Hi(y)?(w_(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===c?null:{"":-1};if(null!==g){h=!0,Sb(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const F=g[x];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,T=td(s,o,g.length,null);for(let x=0;x<g.length;x++){const F=g[x];a.mergedAttrs=Fr(a.mergedAttrs,F.hostAttrs),Ab(s,a,o,T,F),kC(T,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const $=F.type.prototype;!E&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),T++}!function DC(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,y=[];let E=null,C=null;for(let T=o.directiveStart;T<c;T++){const x=h[T],F=x.inputs,$=null===g||sb(o)?null:Rb(F,g);y.push($),E=Gh(F,T,E),C=Gh(x.outputs,T,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=E,o.outputs=C}(s,a)}y&&function OC(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Le(-301,`Export of name '${o[h+1]}' not found!`);c.push(o[h],g)}}}(a,c,y)}return a.mergedAttrs=Fr(a.mergedAttrs,a.attrs),h}function Ib(s,o,a,c,h,g){const y=g.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function AC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(c,h,y)}}function Tb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function w_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function kC(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Hi(o)&&(a[""]=s)}}function Sb(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Ab(s,o,a,c,h){s.data[c]=h;const g=h.factory||(h.factory=ps(h.type)),y=new qn(g,Hi(h),null);s.blueprint[c]=y,a[c]=y,Ib(s,o,0,c,td(s,a,h.hostVars,Bt),h)}function PC(s,o,a){const c=rr(o,s),h=Eb(a),g=s[10],y=rg(s,$h(s,h,null,a.onPush?64:16,c,o,g,g.createRenderer(c,a),null,null));s[o.index]=y}function Co(s,o,a,c,h,g){const y=rr(s,o);!function Mb(s,o,a,c,h,g,y){if(null==g)On(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const E=null==y?J(g):y(g,c||"",h);On(s)?s.setAttribute(o,h,E,a):a?o.setAttributeNS(a,h,E):o.setAttribute(h,E)}}(o[11],y,g,s.value,a,c,h)}function xb(s,o,a,c,h,g){const y=g[o];if(null!==y){const E=c.setInput;for(let C=0;C<y.length;){const T=y[C++],x=y[C++],F=y[C++];null!==E?c.setInput(a,F,T,x):a[x]=F}}}function Rb(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function C_(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function VC(s,o){const a=ci(o,s);if(wa(a)){const c=a[1];80&a[2]?Vc(c,a,c.template,a[8]):a[5]>0&&D_(a)}}function D_(s){for(let c=Lp(s);null!==c;c=Vp(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const y=g[1];Vc(y,g,y.template,g[8])}else g[5]>0&&D_(g)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=ci(a[c],s);wa(h)&&h[5]>0&&D_(h)}}function BC(s,o){const a=ci(o,s),c=a[1];(function I_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Ol(c,a,a[8])}function rg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function T_(s){for(;s;){s[2]|=64;const o=Ph(s);if(_u(s)&&!o)return s;s=o}return null}function ig(s,o,a){const c=o[10];c.begin&&c.begin();try{Vc(s,o,s.template,a)}catch(h){throw zh(o,h),h}finally{c.end&&c.end()}}function Ob(s){!function Zh(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Ti(a),h=c[1];bb(h,c,h.template,a)}}(s[8])}function S_(s,o,a){lo(0),o(s,a)}const GC=(()=>Promise.resolve(null))();function kb(s){return s[7]||(s[7]=[])}function qr(s){return s.cleanup||(s.cleanup=[])}function zh(s,o){const a=s[9],c=a?a.get(xh,null):null;c&&c.handleError(o)}function sg(s,o,a,c,h){for(let g=0;g<a.length;){const y=a[g++],E=a[g++],C=o[y],T=s.data[y];null!==T.setInput?T.setInput(C,h,c,E):C[E]=h}}function us(s,o,a){const c=Pr(o,s);!function Qm(s,o,a){On(s)?s.setValue(o,a):o.textContent=a}(s[11],c,a)}function Za(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?g=E:1==g?h=de(h,E):2==g&&(c=de(c,E+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}const A_=new yn("INJECTOR",-1);class M_{get(o,a=$r){if(a===$r){const c=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw c.name="NullInjectorError",c}return a}}const og=new yn("Set Injector scope."),Bc={},tx={};let za;function x_(){return void 0===za&&(za=new M_),za}function Nb(s,o=null,a=null,c){const h=Fb(s,o,a,c);return h._resolveInjectorDefTypes(),h}function Fb(s,o=null,a=null,c){return new Lb(s,a,o||x_(),c)}class Lb{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Pn(a,E=>this.processProvider(E,o,a)),Pn([o],E=>this.processInjectorType(E,[],g)),this.records.set(A_,sd(void 0,this));const y=this.records.get(og);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=$r,c=wt.Default){this.assertNotDestroyed();const h=O(this),g=Jt(void 0);try{if(!(c&wt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function nx(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(o)&&bn(o);E=C&&this.injectableDefInScope(C)?sd(R_(o),Bc):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&wt.Self?x_():this.parent).get(o,a=c&wt.Optional&&a===$r?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Qo]=y[Qo]||[]).unshift(ue(o)),h)throw y;return function on(s,o,a,c){const h=s[Qo];throw o[uh]&&h.unshift(o[uh]),s.message=function Gr(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(wl,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[Qo]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Jt(g),O(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,"")}processInjectorType(o,a,c){if(!(o=ie(o)))return!1;let h=ni(o);const g=null==h&&o.ngModule||void 0,y=void 0===g?o:g,E=-1!==c.indexOf(y);if(void 0!==g&&(h=ni(g)),null==h)return!1;if(null!=h.imports&&!E){let x;c.push(y);try{Pn(h.imports,F=>{this.processInjectorType(F,a,c)&&(void 0===x&&(x=[]),x.push(F))})}finally{}if(void 0!==x)for(let F=0;F<x.length;F++){const{ngModule:$,providers:ee}=x[F];Pn(ee,ve=>this.processProvider(ve,$,ee||U))}}this.injectorDefTypes.add(y);const C=ps(y)||(()=>new y);this.records.set(y,sd(C,Bc));const T=h.providers;if(null!=T&&!E){const x=o;Pn(T,F=>this.processProvider(F,x,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,c){let h=od(o=ie(o))?o:ie(o&&o.provide);const g=function KC(s,o,a){return Vb(s)?sd(void 0,s.useValue):sd(O_(s),Bc)}(o);if(od(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=sd(void 0,Bc,!0),y.factory=()=>nt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,g)}hydrate(o,a){return a.value===Bc&&(a.value=tx,a.value=a.factory()),"object"==typeof a.value&&a.value&&function XC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ie(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function R_(s){const o=bn(s),a=null!==o?o.factory:ps(s);if(null!==a)return a;if(s instanceof yn)throw new Le(204,"");if(s instanceof Function)return function WC(s){const o=s.length;if(o>0)throw function yl(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?"),new Le(204,"");const a=function gn(s){const o=s&&(s[ri]||s[En]);if(o){const a=function dr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Le(204,"")}function O_(s,o,a){let c;if(od(s)){const h=ie(s);return ps(h)||R_(h)}if(Vb(s))c=()=>ie(s.useValue);else if(function k_(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...nt(s.deps||[]));else if(function YC(s){return!(!s||!s.useExisting)}(s))c=()=>Q(ie(s.useExisting));else{const h=ie(s&&(s.useClass||s.provide));if(!function Bb(s){return!!s.deps}(s))return ps(h)||R_(h);c=()=>new h(...nt(s.deps))}return c}function sd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Vb(s){return null!==s&&"object"==typeof s&&D in s}function od(s){return"function"==typeof s}let Ki=(()=>{class s{static create(a,c){var h;if(Array.isArray(a))return Nb({name:""},c,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return Nb({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=$r,s.NULL=new M_,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Q(A_)}),s.__NG_ELEMENT_ID__=-1,s})();function L_(s,o){xa(Ti(s)[1],hn())}function Kh(s){let o=function zb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(Hi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");h=o.\u0275dir}if(h){if(a){c.push(h);const y=s;y.inputs=kl(s.inputs),y.declaredInputs=kl(s.declaredInputs),y.outputs=kl(s.outputs);const E=h.hostBindings;E&&Wb(s,E);const C=h.viewQuery,T=h.contentQueries;if(C&&sx(s,C),T&&ad(s,T),oe(s.inputs,h.inputs),oe(s.declaredInputs,h.declaredInputs),oe(s.outputs,h.outputs),Hi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(s),E===Kh&&(a=!1)}}o=Object.getPrototypeOf(o)}!function V_(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Fr(h.hostAttrs,a=Fr(a,h.hostAttrs))}}(c)}function kl(s){return s===dn?{}:s===U?[]:s}function sx(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function ad(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,g)=>{o(c,h,g),a(c,h,g)}:o}function Wb(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let Qh=null;function Ka(){if(!Qh){const s=_t.Symbol;if(s&&s.iterator)Qh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Qh=c)}}}return Qh}function Xh(s){return!!U_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ka()in s)}function U_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ya(s,o,a){return s[o]=a}function mi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Kb(s,o,a,c){const h=Pe();return mi(h,qi(),o)&&(jt(),Co(Nn(),h,s,o,a,c)),Kb}function ef(s,o,a,c){return mi(s,qi(),a)?o+J(a)+c:Bt}function mD(s,o,a,c,h,g,y,E){const C=Pe(),T=jt(),x=s+20,F=T.firstCreatePass?function lx(s,o,a,c,h,g,y,E,C){const T=o.consts,x=ed(o,s,4,y||null,Gi(T,E));E_(o,a,x,Gi(T,C)),xa(o,x);const F=x.tViews=tg(2,x,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,x),F.queries=o.queries.embeddedTView(x)),x}(x,T,C,o,a,c,h,g,y):T.data[x];Nr(F,!1);const $=C[11].createComment("");Al(T,C,$,F),at($,C),rg(C,C[x]=C_($,C,$,F)),xs(F)&&rd(T,C,F),null!=y&&eg(C,F,E)}function _D(s){return _s(function nc(){return ut.lFrame.contextLView}(),20+s)}function lg(s,o=wt.Default){const a=Pe();return null===a?Q(s,o):_c(hn(),a,ie(s),o)}function AD(){throw new Error("invalid")}function Jb(s,o,a){const c=Pe();return mi(c,qi(),o)&&Mi(jt(),Nn(),c,s,o,c[11],a,!1),Jb}function eE(s,o,a,c,h){const y=h?"class":"style";sg(s,a,o.inputs[y],y,c)}function tE(s,o,a,c){const h=Pe(),g=jt(),y=20+s,E=h[11],C=h[y]=Xm(E,o,function dl(){return ut.lFrame.currentNamespace}()),T=g.firstCreatePass?function Mx(s,o,a,c,h,g,y){const E=o.consts,T=ed(o,s,2,h,Gi(E,g));return E_(o,a,T,Gi(E,y)),null!==T.attrs&&Za(T,T.attrs,!1),null!==T.mergedAttrs&&Za(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,g,h,0,o,a,c):g.data[y];Nr(T,!0);const x=T.mergedAttrs;null!==x&&hc(E,C,x);const F=T.classes;null!==F&&Vh(E,C,F);const $=T.styles;null!==$&&ib(E,C,$),64!=(64&T.flags)&&Al(g,h,C,T),0===function al(){return ut.lFrame.elementDepthCount}()&&at(C,h),function ro(){ut.lFrame.elementDepthCount++}(),xs(T)&&(rd(g,h,T),function b_(s,o,a){if(pr(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}}(g,T,h)),null!==c&&eg(h,T)}function nE(){let s=hn();Ps()?function Ca(){ut.lFrame.isParent=!1}():(s=s.parent,Nr(s,!1));const o=s;!function io(){ut.lFrame.elementDepthCount--}();const a=jt();a.firstCreatePass&&(xa(a,s),pr(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function co(s){return 0!=(16&s.flags)}(o)&&eE(a,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function th(s){return 0!=(32&s.flags)}(o)&&eE(a,o,Pe(),o.stylesWithoutHost,!1)}function MD(s,o,a,c){tE(s,o,a,c),nE()}function OD(){return Pe()}function rE(s){return!!s&&"function"==typeof s.then}function kD(s){return!!s&&"function"==typeof s.subscribe}const PD=kD;function iE(s,o,a,c){const h=Pe(),g=jt(),y=hn();return function FD(s,o,a,c,h,g,y,E){const C=xs(c),x=s.firstCreatePass&&qr(s),F=o[8],$=kb(o);let ee=!0;if(3&c.type||E){const We=rr(c,o),st=E?E(We):We,Re=$.length,rt=E?Yt=>E(Bn(Yt[c.index])):c.index;if(On(a)){let Yt=null;if(!E&&C&&(Yt=function Ox(s,o,a,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===a&&h[g+1]===c){const E=o[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof y&&(g+=2)}return null}(s,o,h,c.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=g,Yt.__ngLastListenerFn__=g,ee=!1;else{g=sE(c,o,F,g,!1);const Tt=a.listen(st,h,g);$.push(g,Tt),x&&x.push(h,rt,Re,Re+1)}}else g=sE(c,o,F,g,!0),st.addEventListener(h,g,y),$.push(g),x&&x.push(h,rt,Re,y)}else g=sE(c,o,F,g,!1);const ve=c.outputs;let He;if(ee&&null!==ve&&(He=ve[h])){const We=He.length;if(We)for(let st=0;st<We;st+=2){const Qi=o[He[st]][He[st+1]].subscribe(g),aa=$.length;$.push(g,Qi),x&&x.push(h,c.index,aa,-(aa+1))}}}(g,h,h[11],y,s,o,!!a,c),iE}function LD(s,o,a,c){try{return!1!==a(c)}catch(h){return zh(s,h),!1}}function sE(s,o,a,c,h){return function g(y){if(y===Function)return c;const E=2&s.flags?ci(s.index,o):o;0==(32&o[2])&&T_(E);let C=LD(o,0,c,y),T=g.__ngNextListenerFn__;for(;T;)C=LD(o,0,T,y)&&C,T=T.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function VD(s=1){return function gp(s){return(ut.lFrame.contextLView=function mp(s,o){for(;s>0;)o=o[15],s--;return o}(s,ut.lFrame.contextLView))[8]}(s)}function oE(s,o,a){return aE(s,"",o,"",a),oE}function aE(s,o,a,c,h){const g=Pe(),y=ef(g,o,a,c);return y!==Bt&&Mi(jt(),Nn(),g,s,y,g[11],h,!1),aE}function zD(s,o,a,c,h){const g=s[a+1],y=null===o;let E=c?ls(g):wo(g),C=!1;for(;0!==E&&(!1===C||y);){const x=s[E+1];Vx(s[E],o)&&(C=!0,s[E+1]=c?Pc(x):Wp(x)),E=c?ls(x):wo(x)}C&&(s[a+1]=c?Wp(g):Pc(g))}function Vx(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&po(s,o)>=0}const Zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WD(s){return s.substring(Zr.key,Zr.keyEnd)}function KD(s,o){const a=Zr.textEnd;return a===o?-1:(o=Zr.keyEnd=function XD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Zr.key=o,a),lf(s,o,a))}function lf(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function q_(s,o){return function ra(s,o,a,c){const h=Pe(),g=jt(),y=ys(2);g.firstUpdatePass&&sI(g,s,y,c),o!==Bt&&mi(h,y,o)&&z_(g,g.data[Kn()],h,h[11],s,h[y+1]=function dI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(yo(s)))),s}(o,a),c,y)}(s,o,null,!0),q_}function rI(s){!function ia(s,o,a,c){const h=jt(),g=ys(2);h.firstUpdatePass&&sI(h,null,g,c);const y=Pe();if(a!==Bt&&mi(y,g,a)){const E=h.data[Kn()];if(cE(E,c)&&!iI(h,g)){let C=c?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(a=de(C,a||"")),eE(h,E,y,a,c)}else!function uI(s,o,a,c,h,g,y,E){h===Bt&&(h=U);let C=0,T=0,x=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==x||null!==F;){const $=C<h.length?h[C+1]:void 0,ee=T<g.length?g[T+1]:void 0;let He,ve=null;x===F?(C+=2,T+=2,$!==ee&&(ve=F,He=ee)):null===F||null!==x&&x<F?(C+=2,ve=x):(T+=2,ve=F,He=ee),null!==ve&&z_(s,o,a,c,ve,He,y,E),x=C<h.length?h[C]:null,F=T<g.length?g[T]:null}}(h,E,y,y[11],y[g+1],y[g+1]=function cI(s,o,a){if(null==a||""===a)return U;const c=[],h=yo(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,g)}}(Lr,Xa,s,!0)}function Xa(s,o){for(let a=function Ux(s){return function QD(s){Zr.key=0,Zr.keyEnd=0,Zr.value=0,Zr.valueEnd=0,Zr.textEnd=s.length}(s),KD(s,lf(s,0,Zr.textEnd))}(o);a>=0;a=KD(o,a))Lr(s,WD(o),!0)}function iI(s,o){return o>=s.expandoStartIndex}function sI(s,o,a,c){const h=s.data;if(null===h[a+1]){const g=h[Kn()],y=iI(s,a);cE(g,c)&&null===o&&!y&&(o=!1),o=function Gx(s,o,a,c){const h=function ao(s){const o=ut.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=cf(a=Z_(null,s,o,a,c),o.attrs,c),g=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Z_(h,s,o,a,c),null===g){let C=function oI(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==wo(c))return s[ls(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=Z_(null,s,o,C[1],c),C=cf(C,o.attrs,c),function aI(s,o,a,c){s[ls(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function lI(s,o,a){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=cf(c,s[g].hostAttrs,a);return cf(c,o.attrs,a)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,c),function Fx(s,o,a,c,h,g){let y=g?o.classBindings:o.styleBindings,E=ls(y),C=wo(y);s[c]=a;let x,T=!1;if(Array.isArray(a)){const F=a;x=F[1],(null===x||po(F,x)>0)&&(T=!0)}else x=a;if(h)if(0!==C){const $=ls(s[E+1]);s[c+1]=zp($,E),0!==$&&(s[$+1]=Uh(s[$+1],c)),s[E+1]=function d_(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=zp(E,0),0!==E&&(s[E+1]=Uh(s[E+1],c)),E=c;else s[c+1]=zp(C,0),0===E?E=c:s[C+1]=Uh(s[C+1],c),C=c;T&&(s[c+1]=Wp(s[c+1])),zD(s,x,c,!0),zD(s,x,c,!1),function Lx(s,o,a,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&po(g,o)>=0&&(a[c+1]=Pc(a[c+1]))}(o,x,s,c,g),y=zp(E,C),g?o.classBindings=y:o.styleBindings=y}(h,g,o,a,y,c)}}function Z_(s,o,a,c,h){let g=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(g=o[E],c=cf(c,g.hostAttrs,h),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function cf(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Lr(s,y,!!a||o[++g]))}return void 0===s?null:s}function z_(s,o,a,c,h,g,y,E){if(!(3&o.type))return;const C=s.data,T=C[E+1];cg(function ub(s){return 1==(1&s)}(T)?W_(C,o,a,h,wo(T),y):void 0)||(cg(g)||function u_(s){return 2==(2&s)}(T)&&(g=W_(C,null,a,h,E,y)),function Gp(s,o,a,c,h){const g=On(s);if(o)h?g?s.addClass(a,c):a.classList.add(c):g?s.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:as.DashCase;if(null==h)g?s.removeStyle(a,c,y):a.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),y|=as.Important),g?s.setStyle(a,c,h,y):a.style.setProperty(c,h,E?"important":"")}}}(c,y,Pr(Kn(),a),h,g))}function W_(s,o,a,c,h,g){const y=null===o;let E;for(;h>0;){const C=s[h],T=Array.isArray(C),x=T?C[1]:C,F=null===x;let $=a[h+1];$===Bt&&($=F?U:void 0);let ee=F?bl($,c):x===c?$:void 0;if(T&&!cg(ee)&&(ee=bl(C,c)),cg(ee)&&(E=ee,y))return E;const ve=s[h+1];h=y?ls(ve):wo(ve)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=bl(C,c))}return E}function cg(s){return void 0!==s}function cE(s,o){return 0!=(s.flags&(o?16:32))}function uE(s,o=""){const a=Pe(),c=jt(),h=s+20,g=c.firstCreatePass?ed(c,h,1,o,null):c.data[h],y=a[h]=function Ym(s,o){return On(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Al(c,a,y,g),Nr(g,!1)}function dE(s){return hE("",s,""),dE}function hE(s,o,a){const c=Pe(),h=ef(c,s,o,a);return h!==Bt&&us(c,Kn(),h),hE}function Q_(s,o,a){const c=Pe();return mi(c,qi(),o)&&Mi(jt(),Nn(),c,s,o,c[11],a,!0),Q_}const jc=void 0;var lR=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yI(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let hd={};function fd(s){const o=function ug(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=bI(o);if(a)return a;const c=o.split("-")[0];if(a=bI(c),a)return a;if("en"===c)return lR;throw new Error(`Missing locale data for the locale "${s}".`)}function EE(s){return fd(s)[It.PluralCase]}function bI(s){return s in hd||(hd[s]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[s]),hd[s]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const dg="en-US";let wE=dg;function Ja(s,o,a,c,h){if(s=ie(s),Array.isArray(s))for(let g=0;g<s.length;g++)Ja(s[g],o,a,c,h);else{const g=jt(),y=Pe();let E=od(s)?s:ie(s.provide),C=O_(s);const T=hn(),x=1048575&T.providerIndexes,F=T.directiveStart,$=T.providerIndexes>>20;if(od(s)||!s.multi){const ee=new qn(C,h,lg),ve=$t(E,o,h?x:x+$,F);-1===ve?(Yn(zo(T,y),g,E),md(g,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[ve]=ee,y[ve]=ee)}else{const ee=$t(E,o,x+$,F),ve=$t(E,o,x,x+$),He=ee>=0&&a[ee],We=ve>=0&&a[ve];if(h&&!We||!h&&!He){Yn(zo(T,y),g,E);const st=function ly(s,o,a,c,h){const g=new qn(s,a,lg);return g.multi=[],g.index=o,g.componentProviders=0,el(g,h,c&&!a),g}(h?tl:qI,a.length,h,c,C);!h&&We&&(a[ve].providerFactory=st),md(g,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(st),y.push(st)}else md(g,s,ee>-1?ee:ve,el(a[h?ve:ee],C,!h&&c));!h&&c&&We&&a[ve].componentProviders++}}}function md(s,o,a,c){const h=od(o),g=function QC(s){return!!s.useClass}(o);if(h||g){const C=(g?ie(o.useClass):o).prototype.ngOnDestroy;if(C){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,C]):T[x+1].push(c,C)}else T.push(a,C)}}}function el(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function $t(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function qI(s,o,a,c){return ot(this.multi,[])}function tl(s,o,a,c){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Tn(a,a[1],this.providerFactory.index,c);g=E.slice(0,y),ot(h,g);for(let C=y;C<E.length;C++)g.push(E[C])}else g=[],ot(h,g);return g}function ot(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Lt(s,o=[]){return a=>{a.providersResolver=(c,h)=>function De(s,o,a){const c=jt();if(c.firstCreatePass){const h=Hi(s);Ja(a,c.data,c.blueprint,h,!0),Ja(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class vg{}class ZI{resolveComponentFactory(o){throw function hf(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ff=(()=>{class s{}return s.NULL=new ZI,s})();function zI(){return or(hn(),Pe())}function or(s,o){return new Fl(rr(s,o))}let Fl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=zI,s})();function _i(s){return s instanceof Fl?s.nativeElement:s}class ZE{}let WI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function WE(){const s=Pe(),a=ci(hn().index,s);return function zE(s){return s[11]}(Ei(a)?a:s)}(),s})(),KI=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class cy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const bg=new cy("13.1.3"),_d={};function pf(s,o,a,c,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(Bn(g)),ts(g))for(let E=10;E<g.length;E++){const C=g[E],T=C[1].firstChild;null!==T&&pf(C[1],C,T,c)}const y=a.type;if(8&y)pf(s,o,a.child,c);else if(32&y){const E=Km(a,o);let C;for(;C=E();)c.push(C)}else if(16&y){const E=Ml(o,a);if(Array.isArray(E))c.push(...E);else{const C=Ph(o[16]);pf(C[1],C,E,c,!0)}}a=h?a.projectionNext:a.next}return c}class Vr{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return pf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ts(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Bp(o,c),_l(a,c))}this._attachedToViewContainer=!1}e_(this._lView[1],this._lView)}onDestroy(o){Cb(this._lView[1],this._lView,null,o)}markForCheck(){T_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ig(this._lView[1],this._lView,this.context)}checkNoChanges(){!function jC(s,o,a){jo(!0);try{ig(s,o,a)}finally{jo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jm(s,o){Lh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class uy extends Vr{constructor(o){super(o),this._view=o}detectChanges(){Ob(this._view)}checkNoChanges(){!function HC(s){jo(!0);try{Ob(s)}finally{jo(!1)}}(this._view)}get context(){return null}}class xi extends ff{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=it(o);return new Eg(a,this.ngModule)}}function dy(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const hy=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Np});class Eg extends vg{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Qu(s){return s.map(qa).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return dy(this.componentDef.inputs)}get outputs(){return dy(this.componentDef.outputs)}create(o,a,c,h){const g=(h=h||this.ngModule)?function YE(s,o){return{get:(a,c,h)=>{const g=s.get(a,_d,h);return g!==_d||c===_d?g:o.get(a,c,h)}}}(o,h.injector):o,y=g.get(ZE,Os),E=g.get(KI,null),C=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=c?function ng(s,o,a){if(On(s))return s.selectRootElement(o,a===qt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):Xm(y.createRenderer(null,this.componentDef),T,function KE(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),F=this.componentDef.onPush?576:528,$=function sD(s,o){return{components:[],scheduler:s||Np,clean:GC,playerHandler:o||null,flags:0}}(),ee=tg(0,null,null,1,0,null,null,null,null,null),ve=$h(null,ee,$,F,null,null,y,C,E,g);let He,We;Sa(ve);try{const st=function iD(s,o,a,c,h,g){const y=a[1];a[20]=s;const C=ed(y,20,2,"#host",null),T=C.mergedAttrs=o.hostAttrs;null!==T&&(Za(C,T,!0),null!==s&&(hc(h,s,T),null!==C.classes&&Vh(h,s,C.classes),null!==C.styles&&ib(h,s,C.styles)));const x=c.createRenderer(s,o),F=$h(a,Eb(o),null,o.onPush?64:16,a[20],C,c,x,g||null,null);return y.firstCreatePass&&(Yn(zo(C,a),y,o.type),w_(y,C),Sb(C,a.length,1)),rg(a,F),a[20]=F}(x,this.componentDef,ve,y,C);if(x)if(c)hc(C,x,["ng-version",bg.full]);else{const{attrs:Re,classes:rt}=function lb(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&a.push(g);else{if(!Eo(h))break;h=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Re&&hc(C,x,Re),rt&&rt.length>0&&Vh(C,x,rt.join(" "))}if(We=Ea(ee,20),void 0!==a){const Re=We.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const Yt=a[rt];Re.push(null!=Yt?Array.from(Yt):null)}}He=function F_(s,o,a,c,h){const g=a[1],y=function SC(s,o,a){const c=hn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Ab(s,c,o,td(s,o,1,null),a));const h=Tn(o,s,c.directiveStart,c);at(h,o);const g=rr(c,o);return g&&at(g,o),h}(g,a,o);if(c.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=hn();o.contentQueries(1,y,C.directiveStart)}const E=hn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(mr(E.index),Ib(a[1],E,0,E.directiveStart,E.directiveEnd,o),Tb(o,y)),y}(st,this.componentDef,ve,$,[L_]),Ol(ee,ve,null)}finally{$o()}return new YI(this.componentType,He,or(We,ve),ve,We)}}class YI extends class yg{}{constructor(o,a,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new uy(h),this.componentType=o}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class To{}class fy{}const Ll=new Map;class Cg extends To{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xi(this);const c=Wt(o);this._bootstrapComponents=Ai(c.bootstrap),this._r3Injector=Fb(o,a,[{provide:To,useValue:this},{provide:ff,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Ki.THROW_IF_NOT_FOUND,c=wt.Default){return o===Ki||o===To||o===A_?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class gy extends fy{constructor(o){super(),this.moduleType=o,null!==Wt(o)&&function ew(s){const o=new Set;!function a(c){const h=Wt(c,!0),g=h.id;null!==g&&(function JE(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(g,Ll.get(g),c),Ll.set(g,c));const y=Ai(h.imports);for(const E of y)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Cg(this.moduleType,o)}}function Dg(s,o,a,c){return function yf(s,o,a,c,h,g){const y=o+a;return mi(s,y,h)?Ya(s,y+1,g?c.call(g,h):c(h)):_f(s,y+1)}(Pe(),gr(),s,o,a,c)}function _f(s,o){const a=s[o];return a===Bt?void 0:a}function vf(s,o,a,c,h,g,y){const E=o+a;return function Pl(s,o,a,c){const h=mi(s,o,a);return mi(s,o+1,c)||h}(s,E,h,g)?Ya(s,E+2,y?c.call(y,h,g):c(h,g)):_f(s,E+2)}function Ag(s,o){const a=jt();let c;const h=s+20;a.firstCreatePass?(c=function rw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const g=c.factory||(c.factory=ps(c.type)),y=Jt(lg);try{const E=ui(!1),C=g();return ui(E),function cx(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,Pe(),h,C),C}finally{Jt(y)}}function sw(s,o,a,c){const h=s+20,g=Pe(),y=_s(g,h);return function yd(s,o){return s[1].data[o].pure}(g,h)?vf(g,gr(),o,y.transform,a,c,y):y.transform(a,c)}function bf(s){return o=>{setTimeout(s,void 0,o)}}const zs=class iT extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var h,g,y;let E=o,C=a||(()=>null),T=c;if(o&&"object"==typeof o){const F=o;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(g=F.error)||void 0===g?void 0:g.bind(F),T=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(C=bf(C),E&&(E=bf(E)),T&&(T=bf(T)));const x=super.subscribe({next:E,error:C,complete:T});return o instanceof B.w0&&o.add(x),x}};function _y(){return this._results[Ka()]()}class Mr{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ka(),c=Mr.prototype;c[a]||(c[a]=_y)}get changes(){return this._changes||(this._changes=new zs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=Un(o);(this._changesDetected=!function Fu(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vr=(()=>{class s{}return s.__NG_ELEMENT_ID__=sT,s})();const Mg=vr,yy=class extends Mg{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=$h(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),Ol(a,c,o),new Vr(c)}};function sT(){return xg(hn(),Pe())}function xg(s,o){return 4&s.type?new yy(o,s,or(s,o)):null}let Ef=(()=>{class s{}return s.__NG_ELEMENT_ID__=oT,s})();function oT(){return kg(hn(),Pe())}const aT=Ef,Rg=class extends aT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return or(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Di(this._hostTNode,this._hostLView);if(ih(o)){const a=Oa(o,this._hostLView),c=Ra(o);return new wn(a[1].data[c+8],a)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Og(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,g){const y=o&&!function Ko(s){return"function"==typeof s}(o);let E;if(y)E=a;else{const F=a||{};E=F.index,c=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const C=y?o:new Eg(it(o)),T=c||this.parentInjector;if(!g&&null==C.ngModule&&T){const F=T.get(To,null);F&&(g=F)}const x=C.create(T,h,void 0,g);return this.insert(x.hostView,E),x}insert(o,a){const c=o._lView,h=c[1];if(function Bo(s){return ts(s[3])}(c)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const F=c[3],$=new Rg(F,F[6],F[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(a),y=this._lContainer;!function lC(s,o,a,c){const h=10+c,g=a.length;c>0&&(a[h-1][4]=o),c<g-10?(o[4]=a[h],ml(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function cC(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,y,g);const E=s_(g,y),C=c[11],T=Nh(C,y[7]);return null!==T&&function tb(s,o,a,c,h,g){c[0]=h,c[6]=o,Lh(s,c,a,1,h,g)}(h,y[6],C,c,T,E),o.attachToViewContainerRef(),ml(vy(y),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Og(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Bp(this._lContainer,a);c&&(_l(vy(this._lContainer),a),e_(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Bp(this._lContainer,a);return c&&null!=_l(vy(this._lContainer),a)?new Vr(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Og(s){return s[8]}function vy(s){return s[8]||(s[8]=[])}function kg(s,o){let a;const c=o[s.index];if(ts(c))a=c;else{let h;if(8&s.type)h=Bn(c);else{const g=o[11];h=g.createComment("");const y=rr(s,o);Oc(g,Nh(g,y),h,function dC(s,o){return On(s)?s.nextSibling(o):o.nextSibling}(g,y),!1)}o[s.index]=a=C_(c,o,h,s),rg(o,a)}return new Rg(a,s,o)}class wf{constructor(o){this.queryList=o,this.matches=null}clone(){return new wf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<c;g++){const y=a.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Cf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Iy(o,a).matches&&this.queries[a].setDirty()}}class Ey{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class wy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new wy(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Zc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,a,cw(a,g)),this.matchTNodeWithReadOption(o,a,Ls(a,o,g,!1,!1))}else c===vr?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ls(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Fl||h===Ef||h===vr&&4&a.type)this.addMatch(a.index,-2);else{const g=Ls(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function cw(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function dw(s,o,a,c){return-1===a?function uw(s,o){return 11&s.type?or(s,o):4&s.type?xg(s,o):null}(o,s):-2===a?function Pg(s,o,a){return a===Fl?or(o,s):a===vr?xg(o,s):a===Ef?kg(o,s):void 0}(s,o,c):Tn(s,s[1],a,o)}function hw(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,y=a.matches,E=[];for(let C=0;C<y.length;C+=2){const T=y[C];E.push(T<0?null:dw(o,g[T],y[C+1],a.metadata.read))}h.matches=E}return h.matches}function Cy(s,o,a,c){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const y=hw(s,o,h,a);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)c.push(y[E/2]);else{const T=g[E+1],x=o[-C];for(let F=10;F<x.length;F++){const $=x[F];$[17]===$[3]&&Cy($[1],$,T,c)}if(null!==x[9]){const F=x[9];for(let $=0;$<F.length;$++){const ee=F[$];Cy(ee[1],ee,T,c)}}}}}return c}function zc(s){const o=Pe(),a=jt(),c=sc();lo(c+1);const h=Iy(a,c);if(s.dirty&&kn(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Cy(a,o,c,[]):hw(a,o,h,c);s.reset(g,_i),s.notifyOnChanges()}return!0}return!1}function fw(s,o,a){const c=jt();c.firstCreatePass&&(Dy(c,new Ey(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Df(c,Pe(),o)}function pw(s,o,a,c){const h=jt();if(h.firstCreatePass){const g=hn();Dy(h,new Ey(o,a,c),g.index),function If(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}Df(h,Pe(),a)}function Vl(){return function gw(s,o){return s[19].queries[o].queryList}(Pe(),sc())}function Df(s,o,a){const c=new Mr(4==(4&a));Cb(s,o,c,c.destroy),null===o[19]&&(o[19]=new Cf),o[19].queries.push(new wf(c))}function Dy(s,o,a){null===s.queries&&(s.queries=new wy),s.queries.track(new Zc(o,a))}function Iy(s,o){return s.queries.getByIndex(o)}function So(...s){}const Gg=new yn("Application Initializer");let Jc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=So,this.reject=So,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(rE(g))a.push(g);else if(PD(g)){const y=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Q(Gg,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const eu=new yn("AppId"),gT={provide:eu,useFactory:function pT(){return`${qg()}${qg()}${qg()}`},deps:[]};function qg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cw=new yn("Platform Initializer"),Ny=new yn("Platform ID"),Fy=new yn("appBootstrapListener");let Zg=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const Af=new yn("LocaleId"),Ly=new yn("DefaultCurrencyCode");class mT{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Td=(()=>{class s{compileModuleSync(a){return new gy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=Ai(Wt(a).declarations).reduce((y,E)=>{const C=it(E);return C&&y.push(new Eg(C)),y},[]);return new mT(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const By=(()=>Promise.resolve(0))();function zg(s){"undefined"==typeof Zone?By.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class yi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function xf(){let s=_t.requestAnimationFrame,o=_t.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function yT(s){const o=()=>{!function Tw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(_t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Uy(s),s.isCheckStableRunning=!0,ar(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Uy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,g,y,E)=>{try{return Sw(s),a.invokeTask(h,g,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Aw(s)}},onInvoke:(a,c,h,g,y,E,C)=>{try{return Sw(s),a.invoke(h,g,y,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Aw(s)}},onHasTask:(a,c,h,g)=>{a.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Uy(s),ar(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,_T,So,So);try{return g.runTask(y,a,c)}finally{g.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const _T={};function ar(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Uy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Sw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Aw(s){s._nesting--,ar(s)}class Mw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let jy=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yi.assertNotInAngularZone(),zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Q(yi))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),Hy=(()=>{class s{constructor(){this._applications=new Map,Ao.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Ao.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();class Wg{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function xw(s){Ao=s}let Ws,Ao=new Wg;const $y=new yn("AllowMultipleToken");class Gy{constructor(o,a){this.name=o,this.token=a}}function qy(s,o,a=[]){const c=`Platform: ${o}`,h=new yn(c);return(g=[])=>{let y=Ow();if(!y||y.injector.get($y,!1))if(s)s(a.concat(g).concat({provide:h,useValue:!0}));else{const E=a.concat(g).concat({provide:h,useValue:!0},{provide:og,useValue:"platform"});!function Kg(s){if(Ws&&!Ws.destroyed&&!Ws.injector.get($y,!1))throw new Le(400,"");Ws=s.get(Wy);const o=s.get(Cw,null);o&&o.forEach(a=>a())}(Ki.create({providers:E,name:c}))}return function Zy(s){const o=Ow();if(!o)throw new Le(401,"");return o}()}}function Ow(){return Ws&&!Ws.destroyed?Ws:null}let Wy=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const E=function Of(s,o){let a;return a="noop"===s?new Mw:("zone.js"===s?void 0:s)||new yi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:yi,useValue:E}];return E.run(()=>{const T=Ki.create({providers:C,parent:this.injector,name:a.moduleType.name}),x=a.create(T),F=x.injector.get(xh,null);if(!F)throw new Le(402,"");return E.runOutsideAngular(()=>{const $=E.onError.subscribe({next:ee=>{F.handleError(ee)}});x.onDestroy(()=>{kf(this._modules,x),$.unsubscribe()})}),function kw(s,o,a){try{const c=a();return rE(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,E,()=>{const $=x.injector.get(Jc);return $.runInitializers(),$.donePromise.then(()=>(function CE(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(wE=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Af,dg)||dg),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const h=Ky({},c);return function vT(s,o,a){const c=new gy(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const c=a.injector.get(tu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Le(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Q(Ki))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function Ky(s,o){return Array.isArray(o)?o.reduce(Ky,s):Object.assign(Object.assign({},s),o)}let tu=(()=>{class s{constructor(a,c,h,g,y){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new P.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{yi.assertNotInAngularZone(),zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{yi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),F.unsubscribe()}});this.isStable=(0,se.T)(E,C.pipe((0,ce.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Le(405,"");let h;h=a instanceof vg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function Rf(s){return s.isBoundToModule}(h)?void 0:this._injector.get(To),E=h.create(Ki.NULL,[],c||h.selector,g),C=E.location.nativeElement,T=E.injector.get(jy,null),x=T&&E.injector.get(Hy);return T&&x&&x.registerApplication(C,T),E.onDestroy(()=>{this.detachView(E.hostView),kf(this.components,E),x&&x.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;kf(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Q(yi),Q(Ki),Q(xh),Q(ff),Q(Jc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function kf(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Qy=!0,Xy=!1;function nu(){return Xy=!0,Qy}function Pw(){if(Xy)throw new Error("Cannot enable prod mode after platform setup.");Qy=!1}let Qg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cs,s})();function Cs(s){return function Nw(s,o,a){if(Yl(s)&&!a){const c=ci(s.index,o);return new Vr(c,c)}return 47&s.type?new Vr(o[16],o):null}(hn(),Pe(),16==(16&s))}class Ne{constructor(){}supports(o){return Xh(o)}create(o){return new Bw(o)}}const Wr=(s,o)=>o;class Bw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wr}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,g=null;for(;a||c;){const y=!c||a&&a.currentIndex<jw(c,h,g)?a:c,E=jw(y,h,g),C=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{g||(g=[]);const T=E-h,x=C-h;if(T!=x){for(let $=0;$<T;$++){const ee=$<g.length?g[$]:g[$]=0,ve=ee+$;x<=ve&&ve<T&&(g[$]=ee+1)}g[y.previousIndex]=x-T}}E!==C&&o(y,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Xh(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],y=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,g,y,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,y,E),c=!0),a=a._next}else h=0,function B_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ka()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new IT(a,c),g,h),o}_verifyReinsertion(o,a,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Uw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Uw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class IT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Uw{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new TT,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jw(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class Hw{constructor(){}supports(o){return o instanceof Map||U_(o)}create(){return new $w}}class $w{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||U_(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const c=new ST(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class ST{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AT(){return new ki([new Ne])}let ki=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||AT()),deps:[[s,new fi,new an]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Le(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:AT}),s})();function nv(){return new zt([new Hw])}let zt=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||nv()),deps:[[s,new fi,new an]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(c)return c;throw new Le(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:nv}),s})();const Sd=[new Hw],Kr=new ki([new Ne]),Rt=new zt(Sd),iu=qy(null,"core",[{provide:Ny,useValue:"unknown"},{provide:Wy,deps:[Ki]},{provide:Hy,deps:[]},{provide:Zg,deps:[]}]),Yr=[{provide:tu,useClass:tu,deps:[yi,Ki,xh,ff,Jc]},{provide:hy,deps:[yi],useFactory:function Ad(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Jc,useClass:Jc,deps:[[new an,Gg]]},{provide:Td,useClass:Td,deps:[]},gT,{provide:ki,useFactory:function qw(){return Kr},deps:[]},{provide:zt,useFactory:function Lf(){return Rt},deps:[]},{provide:Af,useFactory:function cn(s){return s||function xT(){return"undefined"!=typeof $localize&&$localize.locale||dg}()},deps:[[new ir(Af),new an,new fi]]},{provide:Ly,useValue:"USD"}];let RT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Q(tu))},s.\u0275mod=re({type:s}),s.\u0275inj=jr({providers:Yr}),s})()},3942:(dt,xe,N)=>{"use strict";N.d(xe,{Z:()=>Le});var u=N(2090),B=N(4859),P=N(9681),se=N(1877);class ce{constructor(J,ae){this._delegate=J,this.firebase=ae,(0,P._addComponent)(J,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=J.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this._delegate.automaticDataCollectionEnabled=J}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(J=>{this._delegate.checkDestroyed(),J()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(J,ae=P._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(J);return!Me.isInitialized()&&"EXPLICIT"===(null===(me=Me.getComponent())||void 0===me?void 0:me.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:ae})}_removeServiceInstance(J,ae=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(J).clearInstance(ae)}_addComponent(J){(0,P._addComponent)(this._delegate,J)}_addOrOverwriteComponent(J){(0,P._addOrOverwriteComponent)(this._delegate,J)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const $e=function ue($e){const J={},ae={__esModule:!0,initializeApp:function Ie(Xe,bt={}){const te=P.initializeApp(Xe,bt);if((0,u.r3)(J,te.name))return J[te.name];const _e=new $e(te,ae);return J[te.name]=_e,_e},app:Me,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Xe){const bt=Xe.name,te=bt.replace("-compat","");if(P._registerComponent(Xe)&&"PUBLIC"===Xe.type){const _e=(be=Me())=>{if("function"!=typeof be[te])throw oe.create("invalid-app-argument",{appName:bt});return be[te]()};void 0!==Xe.serviceProps&&(0,u.ZB)(_e,Xe.serviceProps),ae[te]=_e,$e.prototype[te]=function(...be){return this._getService.bind(this,bt).apply(this,Xe.multipleInstances?be:[])}}return"PUBLIC"===Xe.type?ae[te]:null},removeApp:function me(Xe){delete J[Xe]},useAsService:function lt(Xe,bt){return"serverAuth"===bt?null:bt},modularAPIs:P}};function Me(Xe){if(!(0,u.r3)(J,Xe=Xe||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Xe});return J[Xe]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function ze(){return Object.keys(J).map(Xe=>J[Xe])}}),Me.App=$e,ae}(ce);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function J(ae){(0,u.ZB)($e,ae)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),$e}(),j=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=H;!function ke($e){(0,P.registerVersion)("@firebase/app-compat","0.1.19",$e)}()},9681:(dt,xe,N)=>{"use strict";N.r(xe),N.d(xe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>ur,_addOrOverwriteComponent:()=>rn,_apps:()=>$n,_clearComponents:()=>Mn,_components:()=>en,_getProvider:()=>jr,_registerComponent:()=>Dr,_removeServiceInstance:()=>bn,deleteApp:()=>wt,getApp:()=>En,getApps:()=>zn,initializeApp:()=>Be,onLog:()=>Jt,registerVersion:()=>Rn,setLogLevel:()=>hr});var u=N(5861),B=N(4859),P=N(1877),se=N(2090),ce=N(2940);class ge{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function oe(Se){const Ce=Se.getComponent();return"VERSION"===(null==Ce?void 0:Ce.type)}(Ze)){const ht=Ze.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Ze=>Ze).join(" ")}}const ue="@firebase/app",H=new P.Yd("@firebase/app"),ct="[DEFAULT]",Ct={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$n=new Map,en=new Map;function ur(Se,Ce){try{Se.container.addComponent(Ce)}catch(Ze){H.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Se.name}`,Ze)}}function rn(Se,Ce){Se.container.addOrOverwriteComponent(Ce)}function Dr(Se){const Ce=Se.name;if(en.has(Ce))return H.debug(`There were multiple attempts to register component ${Ce}.`),!1;en.set(Ce,Se);for(const Ze of $n.values())ur(Ze,Se);return!0}function jr(Se,Ce){const Ze=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Se.container.getProvider(Ce)}function bn(Se,Ce,Ze=ct){jr(Se,Ce).clearInstance(Ze)}function Mn(){en.clear()}const dr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ni{constructor(Ce,Ze,ht){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const ri="9.6.8";function Be(Se,Ce={}){"object"!=typeof Ce&&(Ce={name:Ce});const Ze=Object.assign({name:ct,automaticDataCollectionEnabled:!1},Ce),ht=Ze.name;if("string"!=typeof ht||!ht)throw dr.create("bad-app-name",{appName:String(ht)});const xt=$n.get(ht);if(xt){if((0,se.vZ)(Se,xt.options)&&(0,se.vZ)(Ze,xt.config))return xt;throw dr.create("duplicate-app",{appName:ht})}const yt=new B.H0(ht);for(const re of en.values())yt.addComponent(re);const Dn=new ni(Se,Ze,yt);return $n.set(ht,Dn),Dn}function En(Se=ct){const Ce=$n.get(Se);if(!Ce)throw dr.create("no-app",{appName:Se});return Ce}function zn(){return Array.from($n.values())}function wt(Se){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(Se){const Ce=Se.name;$n.has(Ce)&&($n.delete(Ce),yield Promise.all(Se.container.getProviders().map(Ze=>Ze.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Rn(Se,Ce,Ze){var ht;let xt=null!==(ht=Ct[Se])&&void 0!==ht?ht:Se;Ze&&(xt+=`-${Ze}`);const yt=xt.match(/\s|\//),Dn=Ce.match(/\s|\//);if(yt||Dn){const re=[`Unable to register library "${xt}" with version "${Ce}":`];return yt&&re.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),yt&&Dn&&re.push("and"),Dn&&re.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void H.warn(re.join(" "))}Dr(new B.wA(`${xt}-version`,()=>({library:xt,version:Ce}),"VERSION"))}function Jt(Se,Ce){if(null!==Se&&"function"!=typeof Se)throw dr.create("invalid-log-argument");(0,P.Am)(Se,Ce)}function hr(Se){(0,P.Ub)(Se)}const mn="firebase-heartbeat-store";let kr=null;function ji(){return kr||(kr=(0,ce.openDb)("firebase-heartbeat-database",1,Se=>{0===Se.oldVersion&&Se.createObjectStore(mn)}).catch(Se=>{throw dr.create("storage-open",{originalErrorMessage:Se.message})})),kr}function ft(){return(ft=(0,u.Z)(function*(Se){try{return(yield ji()).transaction(mn).objectStore(mn).get(ii(Se))}catch(Ce){throw dr.create("storage-get",{originalErrorMessage:Ce.message})}})).apply(this,arguments)}function pt(Se,Ce){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(Se,Ce){try{const ht=(yield ji()).transaction(mn,"readwrite");return yield ht.objectStore(mn).put(Ce,ii(Se)),ht.complete}catch(Ze){throw dr.create("storage-set",{originalErrorMessage:Ze.message})}})).apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(Se){try{const Ze=(yield ji()).transaction(mn,"readwrite");return yield Ze.objectStore(mn).delete(ii(Se)),Ze.complete}catch(Ce){throw dr.create("storage-delete",{originalErrorMessage:Ce.message})}})).apply(this,arguments)}function ii(Se){return`${Se.name}!${Se.options.appId}`}class U{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new ye(Ze),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Ce=this;return(0,u.Z)(function*(){const ht=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=function G(){return(new Date).toISOString().substring(0,10)}();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),!Ce._heartbeatsCache.some(yt=>yt.date===xt))return Ce._heartbeatsCache.push({date:xt,userAgent:ht}),Ce._heartbeatsCache=Ce._heartbeatsCache.filter(yt=>{const Dn=new Date(yt.date).valueOf();return Date.now()-Dn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,u.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache)return"";const{heartbeatsToSend:Ze,unsentEntries:ht}=function W(Se,Ce=1024){const Ze=[];let ht=Se.slice();for(const xt of Se){const yt=Ze.find(Dn=>Dn.userAgent===xt.userAgent);if(yt){if(yt.dates.push(xt.date),ne(Ze)>Ce){yt.dates.pop();break}}else if(Ze.push({userAgent:xt.userAgent,dates:[xt.date]}),ne(Ze)>Ce){Ze.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ht}}(Ce._heartbeatsCache),xt=(0,se.h$)(JSON.stringify({version:2,heartbeats:Ze}));return ht.length>0?(Ce._heartbeatsCache=ht,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache=null,Ce._storage.deleteAll()),xt})()}}class ye{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,u.Z)(function*(){if(yield Ce._canUseIndexedDBPromise){const ht=yield function qt(Se){return ft.apply(this,arguments)}(Ce.app);return(null==ht?void 0:ht.heartbeats)||[]}return[]})()}overwrite(Ce){var Ze=this;return(0,u.Z)(function*(){if(yield Ze._canUseIndexedDBPromise)return pt(Ze.app,{heartbeats:Ce})})()}add(Ce){var Ze=this;return(0,u.Z)(function*(){if(yield Ze._canUseIndexedDBPromise){const xt=yield Ze.read();return pt(Ze.app,{heartbeats:[...xt,...Ce]})}})()}delete(Ce){var Ze=this;return(0,u.Z)(function*(){if(yield Ze._canUseIndexedDBPromise){const xt=yield Ze.read();return pt(Ze.app,{heartbeats:xt.filter(yt=>!Ce.includes(yt))})}})()}deleteAll(){var Ce=this;return(0,u.Z)(function*(){if(yield Ce._canUseIndexedDBPromise)return function sn(Se){return _t.apply(this,arguments)}(Ce.app)})()}}function ne(Se){return(0,se.h$)(JSON.stringify({version:2,heartbeats:Se})).length}!function Ye(Se){Dr(new B.wA("platform-logger",Ce=>new ge(Ce),"PRIVATE")),Dr(new B.wA("heartbeat",Ce=>new U(Ce),"PRIVATE")),Rn(ue,"0.7.18",Se),Rn(ue,"0.7.18","esm2017"),Rn("fire-js","")}("")},4859:(dt,xe,N)=>{"use strict";N.d(xe,{wA:()=>P,H0:()=>ue});var u=N(5861),B=N(2090);class P{constructor(H,j,ie){this.name=H,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class ce{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const ie=new B.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:j});Ge&&ie.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const ie=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ge=null!==(j=null==H?void 0:H.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function oe(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch(j){}for(const[j,ie]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});ie.resolve(ke)}catch(ke){}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,ie=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[ke,Le]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&Le.resolve(Ge);return Ge}onInit(H,j){var ie;const Ge=this.normalizeInstanceIdentifier(j),ke=null!==(ie=this.onInitCallbacks.get(Ge))&&void 0!==ie?ie:new Set;ke.add(H),this.onInitCallbacks.set(Ge,ke);const Le=this.instances.get(Ge);return Le&&H(Le,Ge),()=>{ke.delete(H)}}invokeOnInitCallbacks(H,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const Ge of ie)try{Ge(H,j)}catch(ke){}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let ie=this.instances.get(H);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===se?void 0:de),options:j}),this.instances.set(H,ie),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(ie,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ie)}catch(Ge){}var de;return ie||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ce(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,xe,N)=>{"use strict";N.d(xe,{in:()=>B,Yd:()=>oe,Ub:()=>ue,Am:()=>de});const u=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},se=B.INFO,ce={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ge=(H,j,...ie)=>{if(j<H.logLevel)return;const Ge=(new Date).toISOString(),ke=ce[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${Ge}]  ${H.name}:`,...ie)};class oe{constructor(j){this.name=j,this._logLevel=se,this._logHandler=ge,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in B))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...j),this._logHandler(this,B.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...j),this._logHandler(this,B.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,B.INFO,...j),this._logHandler(this,B.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,B.WARN,...j),this._logHandler(this,B.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...j),this._logHandler(this,B.ERROR,...j)}}function ue(H){u.forEach(j=>{j.setLogLevel(H)})}function de(H,j){for(const ie of u){let Ge=null;j&&j.level&&(Ge=P[j.level]),ie.userLogHandler=null===H?null:(ke,Le,...$e)=>{const J=$e.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch(me){return null}}).filter(ae=>ae).join(" ");Le>=(null!=Ge?Ge:ke.logLevel)&&H({level:B[Le].toLowerCase(),message:J,args:$e,type:ke.name})}}}},5861:(dt,xe,N)=>{"use strict";function u(P,se,ce,ge,oe,ue,de){try{var H=P[ue](de),j=H.value}catch(ie){return void ce(ie)}H.done?se(j):Promise.resolve(j).then(ge,oe)}function B(P){return function(){var se=this,ce=arguments;return new Promise(function(ge,oe){var ue=P.apply(se,ce);function de(j){u(ue,ge,oe,de,H,"next",j)}function H(j){u(ue,ge,oe,de,H,"throw",j)}de(void 0)})}}N.d(xe,{Z:()=>B})}},dt=>{dt(dt.s=1265)}]);